(()=>{var e,t={aIWJ:(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{LOAD_LOGICAL_DEVICES:()=>ne,NOTIFY_ERROR:()=>M,NOTIFY_SUCCESS:()=>Z,OPEN_TEXT_DOCUMENT:()=>ae,OS_COPY_FILE:()=>H,OS_FS_GLOB:()=>te,OS_IS_DIR:()=>ee,OS_IS_FILE:()=>X,OS_LIST_DIR:()=>Q,OS_MAKE_DIRS:()=>J,OS_OPEN_URL:()=>W,OS_RENAME_FILE:()=>K,OS_REVEAL_FILE:()=>G,REQUEST_CONTENT:()=>re,RESET_FS_ITEMS:()=>ie,SHOW_AT_STARTUP:()=>Y,TOGGLE_FAVORITE_FOLDER:()=>se,UPDATE_ROUTE_BADGE:()=>B,loadLogicalDevices:()=>Oe,notifyError:()=>oe,notifySuccess:()=>le,openTextDocument:()=>Pe,osCopyFile:()=>he,osFsGlob:()=>Ee,osIsDir:()=>be,osIsFile:()=>ye,osListDir:()=>ge,osMakeDirs:()=>fe,osOpenUrl:()=>ue,osRenameFile:()=>me,osRevealFile:()=>de,requestContent:()=>ve,resetFSItems:()=>we,showAtStartup:()=>pe,toggleFavoriteFolder:()=>je,updateRouteBadge:()=>ce});var i={};r.r(i),r.d(i,{FORGOT_ACCOUNT:()=>qe,LOAD_ACCOUNT_INFO:()=>Se,LOGIN_ACCOUNT:()=>xe,LOGIN_WITH_PROVIDER:()=>Te,LOGOUT_ACCOUNT:()=>Ie,PASSWORD_ACCOUNT:()=>_e,REGISTER_ACCOUNT:()=>Ne,SHOW_ACCOUNT_TOKEN:()=>Fe,UPDATE_PROFILE:()=>Le,changeAccountPassword:()=>Be,forgotAccountPassword:()=>Ze,loadAccountInfo:()=>Ae,loginAccount:()=>Ue,loginWithProvider:()=>Ve,logoutAccount:()=>ze,registerAccount:()=>$e,showAccountToken:()=>Ye,updateProfile:()=>Me});var s={};r.r(s),r.d(s,{LOAD_MDNS_DEVICES:()=>Bt,LOAD_SERIAL_DEVICES:()=>Zt,loadMDNSDevices:()=>Wt,loadSerialDevices:()=>Yt});var a={};r.r(a),r.d(a,{INSTALL_LIBRARY:()=>_n,LOAD_BUILTIN_LIBS:()=>In,LOAD_INSTALLED_LIBS:()=>Nn,LOAD_LIBRARY_DATA:()=>Tn,LOAD_LIB_UPDATES:()=>qn,LOAD_SEARCH_RESULT:()=>xn,LOAD_STATS:()=>Sn,UNINSTALL_LIBRARY:()=>Ln,UPDATE_LIBRARY:()=>Fn,installLibrary:()=>Zn,loadBuiltinLibs:()=>Vn,loadInstalledLibs:()=>$n,loadLibUpdates:()=>Mn,loadLibraryData:()=>zn,loadSearchResult:()=>Un,loadStats:()=>An,uninstallLibrary:()=>Bn,updateLibrary:()=>Yn});var o={};r.r(o),r.d(o,{INSTALL_PLATFORM:()=>Hi,LOAD_BOARDS:()=>Mi,LOAD_FRAMEWORK_DATA:()=>Wi,LOAD_INSTALLED_PLATFORMS:()=>Gi,LOAD_PLATFORM_DATA:()=>Yi,LOAD_PLATFORM_UPDATES:()=>Ki,LOAD_REGISTRY_FRAMEWORKS:()=>Bi,LOAD_REGISTRY_PLATFORMS:()=>Zi,UNINSTALL_PLATFORM:()=>Ji,UPDATE_PLATFORM:()=>Qi,installPlatform:()=>as,loadBoards:()=>Xi,loadFrameworkData:()=>ns,loadInstalledPlatforms:()=>is,loadPlatformData:()=>rs,loadPlatformUpdates:()=>ss,loadRegistryFrameworks:()=>ts,loadRegistryPlatforms:()=>es,uninstallPlatform:()=>os,updatePlatform:()=>ls});var l={};r.r(l),r.d(l,{ADD_PROJECT:()=>fs,HIDE_PROJECT:()=>gs,IMPORT_ARDUINO_PROJECT:()=>ws,IMPORT_PROJECT:()=>bs,INIT_PROJECT:()=>Os,LOAD_CONFIG_SCHEMA:()=>Ps,LOAD_PROJECTS:()=>Es,LOAD_PROJECT_CONFIG:()=>ks,LOAD_PROJECT_EXAMPLES:()=>js,LOAD_SERIAL_PORTS:()=>Ds,OPEN_PROJECT:()=>ys,PROJECTS_LOADED:()=>vs,SAVE_PROJECT_CONFIG:()=>Cs,UPDATE_CONFIG_DESCRIPTION:()=>Rs,addProject:()=>Ss,hideProject:()=>xs,importArduinoProject:()=>Ls,importProject:()=>Is,initProject:()=>_s,loadConfigSchema:()=>As,loadProjectConfig:()=>Us,loadProjectExamples:()=>Fs,loadProjects:()=>Ns,openProject:()=>Ts,projectsLoaded:()=>qs,saveProjectConfig:()=>zs,updateConfigDescription:()=>Vs});var c=r("wV7V"),p=r("Z/6M");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t={}){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:e},t)}const h="CONNECT_ROUTER",f="STORE_READY",g="LOAD_STORE",y="UPDATE_STORE",b="RESET_STORE",E="SAVE_STATE",v="STATE_SAVED",O="UPDATE_ENTITY",w="DELETE_ENTITY",j="UPDATE_INPUT_VALUE",P="LAZY_UPDATE_INPUT_VALUE",k="UPDATE_STORAGE_ITEM",C="DELETE_STORAGE_ITEM",R=()=>m(E),D=(e,t)=>m(O,{key:e,data:t}),S=e=>m(w,{re:e}),x=(e,t)=>m(j,{key:e,value:t}),T=(e,t)=>m(P,{key:e,value:t}),I=(e,t)=>m(k,{key:e,data:t}),N=navigator&&navigator.platform&&navigator.platform.startsWith("Win");let q=window.location?window.location.pathname:"/";"/"!==q[q.length-1]&&(q+="/");let _=`ws://127.0.0.1:8008${q}wsrpc`;window.location&&window.location.host&&(_=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}${q}wsrpc`);const L=_;r("tL+A");var F=r("QpBz"),A=r("IihT"),U=r("YRkV");const z={BACKEND_CONNECTED:"BACKEND_CONNECTED",BACKEND_DISCONNECTED:"BACKEND_DISCONNECTED",BACKEND_ERRORED:"BACKEND_ERRORED",BACKEND_REQUEST:"BACKEND_REQUEST",BACKEND_RESULT_SUCCESS:"BACKEND_RESULT_SUCCESS",BACKEND_RESULT_ERROR:"BACKEND_RESULT_ERROR"};function*V({query:e,params:t=[]}){const r=Math.random().toString();for(yield(0,A.gz)(z.backendRequest(r,e,t));;){const e=yield(0,A.qn)([z.BACKEND_RESULT_SUCCESS,z.BACKEND_RESULT_ERROR]);if(e.id===r){if(e.type===z.BACKEND_RESULT_ERROR)throw e.error;return e.result}}}function $(e){return t=>{let r=null,n=[];const i={timer:null,loading:null,delay:500,maxDelay:1e4,retries:0};if(r=function e(s){i.timer&&clearTimeout(i.timer);let a=null;try{a=new WebSocket(s)}catch(e){return F.Z.error("Communication Error: This browser does not support WebSocket protocol",0)}return a.onopen=()=>{i.retries=0,i.loading&&i.loading(),t.dispatch(m(z.BACKEND_CONNECTED));const e=n.slice(0);n=[],e.forEach((e=>a.send(e)))},a.onclose=()=>{t.dispatch(m(z.BACKEND_DISCONNECTED)),i.loading||(i.loading=F.Z.loading("Reconnecting...",0)),i.retries++,i.interval=setTimeout((()=>r=e(s)),Math.min(i.delay*i.retries,i.maxDelay))},a.onmessage=e=>{try{const r=U.ZP.parse(e.data);switch(r.type){case"success":return t.dispatch(m(z.BACKEND_RESULT_SUCCESS,r.payload));case"error":return t.dispatch(m(z.BACKEND_RESULT_ERROR,r.payload))}}catch(e){t.dispatch(m(z.BACKEND_ERRORED,e))}},a}(e.endpoint),r)return e=>t=>{if(t&&t.type===z.BACKEND_REQUEST){const e=JSON.stringify(U.ZP.request(t.id,t.query,t.params));return 1===r.readyState?r.send(e):n.push(e)}return e(t)}}}z.backendRequest=(e,t,r)=>m(z.BACKEND_REQUEST,{id:e,query:t,params:r});const M="NOTIFY_ERROR",Z="NOTIFY_SUCCESS",B="UPDATE_ROUTE_BADGE",Y="SHOW_AT_STARTUP",W="OS_OPEN_URL",G="OS_REVEAL_FILE",K="OS_RENAME_FILE",H="OS_COPY_FILE",J="OS_MAKE_DIRS",Q="OS_LIST_DIR",X="OS_IS_FILE",ee="OS_IS_DIR",te="OS_FS_GLOB",re="REQUEST_CONTENT",ne="LOAD_LOGICAL_DEVICES",ie="RESET_FS_ITEMS",se="TOGGLE_FAVORITE_FOLDER",ae="OPEN_TEXT_DOCUMENT",oe=(e,t)=>m(M,{title:e,err:t}),le=(e,t)=>m(Z,{title:e,result:t}),ce=(e,t)=>m(B,{path:e,count:t}),pe=e=>m(Y,{value:e}),ue=e=>m(W,{url:e}),de=e=>m(G,{path:e}),me=(e,t)=>m(K,{src:e,dst:t}),he=(e,t)=>m(H,{src:e,dst:t}),fe=e=>m(J,{path:e}),ge=e=>m(Q,{path:e}),ye=e=>m(X,{path:e}),be=e=>m(ee,{path:e}),Ee=(e,t)=>m(te,{pathnames:e,rootDir:t}),ve=({uri:e,data:t,headers:r,cacheValid:n})=>m(re,{uri:e,data:t,headers:r,cacheValid:n}),Oe=(e=!1)=>m(ne,{force:e}),we=()=>m(ie),je=e=>m(se,{path:e}),Pe=(e,t,r)=>m(ae,{path:e,line:t,column:r});function ke(e){return t=>r=>{try{return t(r)}catch(t){throw console.error("Internal Store Exception",t),e.dispatch(oe("Internal Store Exception",t)),t}}}function Ce(e,t){const r=Object.assign({},e);return Object.keys(r).forEach((e=>{t.test(e)&&delete r[e]})),r}const Re=(0,c.UY)({router:function(e=null,t){return t.type!==h?e:t.router},entities:function(e={},t){switch(t.type){case O:return Object.assign({},e,{[t.key]:t.data});case w:return Ce(e,t.re)}return e},inputValues:function(e={},t){if(t.type===j){const r=Object.assign({},e,{[t.key]:t.value});return r[t.key]||delete r[t.key],r}return e},storage:function(e={},t){switch(t.type){case k:return Object.assign({},e,{[t.key]:t.data});case C:return Ce(e,t.re)}return e}});const De=function(e,t){switch(t.type){case y:return Object.assign({},Re(e,t),t.newState);case b:return{}}return Re(e,t)},Se="LOAD_ACCOUNT_INFO",xe="LOGIN_ACCOUNT",Te="LOGIN_WITH_PROVIDER",Ie="LOGOUT_ACCOUNT",Ne="REGISTER_ACCOUNT",qe="FORGOT_ACCOUNT",_e="PASSWORD_ACCOUNT",Le="UPDATE_PROFILE",Fe="SHOW_ACCOUNT_TOKEN",Ae=(e=!1)=>m(Se,{extended:e}),Ue=(e,t,r)=>m(xe,{username:e,password:t,onEnd:r}),ze=()=>m(Ie),Ve=e=>m(Te,{provider:e}),$e=(e,t,r,n,i,s)=>m(Ne,{username:e,email:t,firstname:r,lastname:n,password:i,onEnd:s}),Me=(e,t,r,n,i,s)=>m(Le,{username:e,email:t,firstname:r,lastname:n,currentPassword:i,onEnd:s}),Ze=(e,t)=>m(qe,{username:e,onEnd:t}),Be=(e,t,r)=>m(_e,{oldPassword:e,newPassword:t,onEnd:r}),Ye=(e,t=!1,r)=>m(Fe,{password:e,regenerate:t,onEnd:r});function We(e){return e.entities.accountInfo}function Ge(e){const t=We(e);return!!(t&&t.profile&&t.profile.username)}function Ke(e){return e.entities.accountToken}var He=r("saKI"),Je=r("nFlj");function Qe(){try{return window.self!==window.top}catch(e){return!0}}function Xe(e,t=!1){e instanceof ErrorEvent&&(e=[e.message,`${e.filename}:${e.lineno}`]),e=e.toString().replace(/@/g,"_"),He.ZP.exception({description:e.substring(0,8192),fatal:t})}function et(){let e=null;return window.location&&window.location.search&&(e=Je.parse(window.location.search),e=e&&e.start?e.start:null),e||"/"}function tt(e,t,r,n=!1){if(e.length){const i=e.entries[e.index];if(n||i.pathname===t&&JSON.stringify(i.state)===JSON.stringify(r))return e.replace(t,r)}e.push(t,r),He.ZP.ga("send","screenview",{screenName:t})}function rt(e){return new Promise((t=>setTimeout(t,e)))}function nt(e,t){return e<t?-1:e>t?1:0}function it(e,t,r){let n;return n="function"!=typeof r?e=>e[r]:r,e.filter((e=>n(e).toLowerCase().includes(t.toLowerCase())))}const st="pio-user-api";function at(e){return e=e.replace(/[\\r\\n]+\'/,"").trim(),F.Z.error(e)}function ot(){const e=Je.parse(window.location.search||"");e.start="/account";const t=window.location.origin+window.location.pathname+Je.stringify(e,!0);return t+`&piohomeacc_uri=${encodeURIComponent(t)}`}function*lt(e,t,r){try{yield(0,A.RE)(V,{query:"account.call_client",params:["login_with_code",e,t,r]})}catch(e){return e&&e.data?at(e.data):yield(0,A.gz)(oe("Could not log in PIO Account",e))}}const ct=[function*(){for(;;){const{extended:e}=yield(0,A.qn)(Se);let t=yield(0,A.Ys)(We);if(!t||e&&!t.groups){if(window.location&&window.location.search){const e=Je.parse(window.location.search);e&&e.code&&e.piohomeacc_uri&&(window.history.pushState({},document.title,decodeURIComponent(e.piohomeacc_uri)),yield(0,A.RE)(lt,st,e.code,ot()))}try{t=yield(0,A.RE)(V,{query:"core.call",params:[["account","show","--json-output",...e?[]:["--offline"]]]})}catch(e){e instanceof U.ZP.JsonRpcError&&e.data.includes("Error: You are not")||(yield(0,A.gz)(oe("Could not load PIO Account information",e)))}yield(0,A.gz)(D("accountInfo",t||{}))}}},function*(){yield(0,A.Fm)(xe,(function*({username:e,password:t,onEnd:r}){try{yield(0,A.RE)(V,{query:"core.call",params:[["account","login","--username",e,"--password",t]]}),yield(0,A.gz)(S(/^accountInfo/))}catch(e){return e&&e.data?at(e.data):yield(0,A.gz)(oe("Could not log in PIO Account",e))}finally{r&&(yield(0,A.RE)(r))}}))},function*(){yield(0,A.Fm)(Te,(function*({provider:e}){const t=`https://auth.accounts.platformio.org/auth/realms/pioaccount/protocol/openid-connect/auth?client_id=${encodeURIComponent(st)}&redirect_uri=${encodeURIComponent(ot())}&response_type=code&scope=${encodeURIComponent("openid offline_access email profile")}&kc_idp_hint=${encodeURIComponent(e)}`;Qe()?yield(0,A.gz)(ue(t)):window.location=t}))},function*(){yield(0,A.Fm)(Ie,(function*(){try{yield(0,A.gz)(D("accountInfo",{})),yield(0,A.RE)(V,{query:"core.call",params:[["account","logout"]]})}catch(e){return e&&e.data?at(e.data):yield(0,A.gz)(oe("Could not log out PIO Account",e))}}))},function*(){yield(0,A.Fm)(Ne,(function*({username:e,email:t,firstname:r,lastname:n,password:i,onEnd:s}){let a=null;try{yield(0,A.RE)(V,{query:"core.call",params:[["account","register","--username",e,"--email",t,"--firstname",r,"--lastname",n,"--password",i]]}),yield(0,A.gz)(le("Congrats!","Please check your email for the further instructions."))}catch(e){return a=e,a&&a.data?at(a.data):yield(0,A.gz)(oe("Could not create PIO Account",a))}finally{s&&(yield(0,A.RE)(s,a))}}))},function*(){yield(0,A.Fm)(qe,(function*({username:e,onEnd:t}){let r=null;try{yield(0,A.RE)(V,{query:"core.call",params:[["account","forgot","--username",e]]}),yield(0,A.gz)(le("Congrats!","If this account is registered, we will send the further instructions to your email."))}catch(e){return r=e,r&&r.data?at(r.data):yield(0,A.gz)(oe("Could not forgot password for PIO Account",r))}finally{t&&(yield(0,A.RE)(t,r))}}))},function*(){yield(0,A.Fm)(_e,(function*({oldPassword:e,newPassword:t,onEnd:r}){let n=null;try{yield(0,A.RE)(V,{query:"core.call",params:[["account","password","--old-password",e,"--new-password",t]]}),yield(0,A.gz)(le("Congrats!","Successfully updated password!"))}catch(e){return n=e,n&&n.data?at(n.data):yield(0,A.gz)(oe("Could not change password for PIO Account",n))}finally{r&&(yield(0,A.RE)(r,n))}}))},function*(){yield(0,A.Fm)(Fe,(function*({password:e,regenerate:t,onEnd:r}){try{const n=["account","token","--json-output","--password",e];t&&n.push("--regenerate");const i=yield(0,A.RE)(V,{query:"core.call",params:[n]});yield(0,A.gz)(D("accountToken",i.result||null))}catch(e){return e&&e.data?at(e.data):yield(0,A.gz)(oe("Could not fetch PIO Account token",e))}finally{r&&(yield(0,A.RE)(r))}}))},function*(){yield(0,A.Fm)(Le,(function*({username:e,email:t,firstname:r,lastname:n,currentPassword:i,onEnd:s}){let a=null;try{const o=yield(0,A.RE)(V,{query:"core.call",params:[["account","update","--username",e,"--email",t,"--firstname",r,"--lastname",n,"--current-password",i]]});if(yield(0,A.gz)(Ae(!0)),o.includes("re-login"))return yield(0,A.gz)(D("accountInfo",{})),o.includes("check your mail")?void(yield(0,A.gz)(le("Congrats!","Successfully updated profile! Please check your mail to verify your new email address and re-login."))):void(yield(0,A.gz)(le("Congrats!","Successfully updated profile! Please re-login")));yield(0,A.gz)(le("Congrats!","Successfully updated profile!"))}catch(e){return a=e,a&&a.data?at(a.data):yield(0,A.gz)(oe("Could not update profile of PIO Account",a))}finally{s&&(yield(0,A.RE)(s,a))}}))}];r("fwXI");var pt=r("CC+v"),ut=(r("MaXC"),r("4IMT")),dt=(r("pjuD"),r("rR1Q"));const mt="userConsents";var ht=r("1EKS"),ft=r.n(ht);function gt(e,t){return(e.entities||{})[t]}function yt(e,t){return(e.inputValues||{})[t]}function bt(e){return e.storage||{}}function Et(e,t){return bt(e)[t]}function vt(e){const t=Et(e,"coreCaller");if(!t)return!0;const r=Et(e,"showOnStartup");return!r||!Object.prototype.hasOwnProperty.call(r,t)||r[t]}function Ot(e,t){return ft()(`${e}-${JSON.stringify(t||"")}`)}function wt(e){return e.entities.requestedContents}function jt(e,t,r){const n=wt(e)||[];for(const e of n)if(e.key===Ot(t,r))return e.content;return null}function Pt(e,t){return ft()(`${e.join()}-${t||""}`)}function kt(e){return e.entities.osFsGlob}function Ct(e,t,r){const n=kt(e)||[];for(const e of n)if(e.key===Pt(t,r))return e.items;return null}function Rt(e){return e.entities.logicalDevices}function Dt(e){return e.entities.osDirItems}function St(e){return e.entities.osIsFileItems}function xt(e){return e.entities.osIsDirItems}function Tt(e){const t=Et(e,"routeBadges")||{};return Object.keys(t).map((e=>({path:e,count:t[e]})))}function It(e){return Et(e,mt)||{}}class Nt extends Error{}var qt=r("q1tI"),_t=r("GBY4"),Lt=r.n(_t),Ft=r("24Ii"),At=r.n(Ft);function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(r),!0).forEach((function(t){Vt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function*$t(e,t){const r=yield(0,A.Ys)(It);if(!r[e]){const n=()=>new Promise(((e,r)=>{pt.Z.confirm(zt(zt({title:"Confirm"},t),{},{onOk:()=>{e()},onCancel:()=>{r(new Nt)}}))}));yield(0,A.RE)(n),yield(0,A.gz)(I(mt,zt(zt({},r),{},{[e]:Date.now().valueOf()})))}}const Mt=[function*(){yield(0,A.ib)(Y,(function*({value:e}){const t=yield(0,A.Ys)(Et,"coreCaller");if(!t)return;const r=(yield(0,A.Ys)(Et,"showOnStartup"))||{};r[t]=e,yield(0,A.gz)(I("showOnStartup",r))}))},function*(){function e(e){return sa().dispatch(ue(e))}yield(0,A.ib)(M,(function({title:t,err:r}){if(!r)return;console.error(t,r);let n=r.stack||r.toString();r instanceof U.ZP.JsonRpcError&&(n=r.message,r.data&&(n+=": "+JSON.stringify(r.data)));const i=[[/toolchain-gccarmlinuxgnueabi|WiringPi/g,"https://github.com/platformio/platform-linux_arm/issues/2"],[/\[Error 2\]|\[WinError 2\]|\[Errno 13\]/g,"https://github.com/platformio/platformio-core/issues/2321"],[/Please try this solution -> http:\/\/bit.ly\/faq-package-manager/g,"http://bit.ly/faq-package-manager"],[/Please install Git client/g,"https://github.com/platformio/platformio-core/issues/2811"],[/Error: You are not connected to the Internet|HTTPSConnectionPool/g,"https://github.com/platformio/platformio-core/issues/1348"],[/Updating.+VCS.+recurse-submodules/g,"https://github.com/platformio/platformio-home/issues/143"],[/Error: Detected a whitespace character/g,"https://github.com/platformio/platform-espressif32/issues/470"],[/Error: Could not find the package/g,"https://github.com/platformio/platformio-home/issues/2144"],[/Error: Unknown development platform/g,"https://github.com/platformio/platformio-home/issues/2123"],[/Error: Unknown board ID/g,"https://github.com/platformio/platformio-home/issues/1768"],[/Error: Could not find one of .* manifest files/g,"https://github.com/platformio/platformio-home/issues/1785"]];for(const[r,s]of i)if(n.match(r))return dt.Z.warning({message:t,description:n,duration:0,btn:qt.createElement(ut.default,{type:"danger",onClick:()=>e(s)},"Check available solutions")});dt.Z.error({message:t,description:n,duration:0,btn:qt.createElement(ut.default,{type:"danger",onClick:()=>e(`https://github.com/platformio/platformio-home/issues/new?${Je.stringify({title:t,body:n})}`)},"Report a problem")}),Xe(`${t} => ${n}`)}))},function*(){yield(0,A.ib)(Z,(function({title:e,result:t}){t&&(console.info(e,t),t.length>255?pt.Z.success({title:e,content:qt.createElement("div",null,t.split("\n").map(((e,t)=>qt.createElement("div",{key:t},e))))}):dt.Z.success({message:e,description:t}))}))},function*(){const e="routeBadges";yield(0,A.ib)(B,(function*({path:t,count:r}){const n=(yield(0,A.Ys)(Et,e))||{};n[t]=parseInt(r),0===n[t]&&delete n[t],yield(0,A.gz)(I(e,n))}))},function*(){yield(0,A.ib)([W,G,K,J,H],(function*(e){try{switch(e.type){case W:const t=new(Lt())(e.url,!0);if(t.query.utm_source="platformio",t.query.utm_medium="piohome",e.url.startsWith("http")&&!Qe()){window.open(t.toString(),"_blank").location}else yield(0,A.RE)(V,{query:"os.open_url",params:[t.toString()]});break;case G:yield(0,A.RE)(V,{query:"os.reveal_file",params:[e.path]});break;case K:yield(0,A.RE)(V,{query:"os.rename",params:[e.src,e.dst]});break;case H:yield(0,A.RE)(V,{query:"os.copy",params:[e.src,e.dst]});break;case J:yield(0,A.RE)(V,{query:"os.make_dirs",params:[e.path]})}}catch(t){return yield(0,A.gz)(oe(e.type,t))}}))},function*(){const e=["api.github.com","raw.githubusercontent.com","platformio.org"];yield(0,A.ib)(re,(function*({uri:t,data:r,headers:n,cacheValid:i}){let s=yield(0,A.Ys)(jt,t,r);if(!s)try{t.startsWith("http")&&e.some((e=>t.includes(e)))&&(s=yield(0,A.RE)((()=>{const e=r?At().post(t).send(r):At().get(t);return n&&e.set(n),new Promise((t=>{e.end(((e,r)=>e||!r.ok?t(void 0):t(r.text)))}))}))),s||(s=yield(0,A.RE)(V,{query:"os.request_content",params:[t,r,n,i]}));const a=(yield(0,A.Ys)(wt))||[];a.push({key:Ot(t,r),content:s}),yield(0,A.gz)(D("requestedContents",a.slice(-50)))}catch(e){return yield(0,A.gz)(oe("Error occurred while requesting content from "+t,e))}}))},function*(){yield(0,A.ib)(te,(function*({pathnames:e,rootDir:t}){let r=yield(0,A.Ys)(Ct,e,t);if(!r)try{r=yield(0,A.RE)(V,{query:"os.glob",params:[e,t]});const n=(yield(0,A.Ys)(kt))||[];n.push({key:Pt(e,t),items:r}),yield(0,A.gz)(D("osFsGlob",n.slice(-50)))}catch(t){return yield(0,A.gz)(oe("Error occurred while glob "+JSON.stringify(e),t))}}))},function*(){yield(0,A.Fm)(ne,(function*({force:e}){e&&(yield(0,A.gz)(S(/^logicalDevices/)));let t=yield(0,A.Ys)(Rt);if(!t)try{t=yield(0,A.RE)(V,{query:"os.get_logical_devices"}),yield(0,A.gz)(D("logicalDevices",t))}catch(e){return yield(0,A.gz)(oe("Could not load logical devices",e))}}))},function*(){yield(0,A.ib)(Q,(function*({path:e}){let t=yield(0,A.Ys)(Dt);if(!t||!t[e]){t||(t={});try{const r=yield(0,A.RE)(V,{query:"os.list_dir",params:[/^[A-Z]:$/.test(e)?e+"\\":e]});yield(0,A.gz)(D("osDirItems",Object.assign({},t,{[e]:r})))}catch(t){return yield(0,A.gz)(oe("Could not list directory"+e,t))}}}))},function*(){yield(0,A.ib)(X,(function*({path:e}){let t=yield(0,A.Ys)(St);if(!t||!t[e]){t||(t={});try{const r=yield(0,A.RE)(V,{query:"os.is_file",params:[e]});yield(0,A.gz)(D("osIsFileItems",Object.assign({},t,{[e]:r})))}catch(t){return yield(0,A.gz)(oe("Could not check is file "+e,t))}}}))},function*(){yield(0,A.ib)(ee,(function*({path:e}){let t=yield(0,A.Ys)(xt);if(!t||!t[e]){t||(t={});try{const r=yield(0,A.RE)(V,{query:"os.is_dir",params:[e]});yield(0,A.gz)(D("osIsDirItems",Object.assign({},t,{[e]:r})))}catch(t){return yield(0,A.gz)(oe("Could not check is directory "+e,t))}}}))},function*(){yield(0,A.Fm)(ie,(function*(){yield(0,A.gz)(D("osDirItems",null)),yield(0,A.gz)(D("osIsFileItems",null)),yield(0,A.gz)(D("osIsDirItems",null))}))},function*(){yield(0,A.ib)(se,(function*({path:e}){const t=(yield(0,A.Ys)(Et,"favoriteFolders"))||[];yield(0,A.gz)(I("favoriteFolders",t.includes(e)?t.filter((t=>t!==e)):[...t,e]))}))},function*(){yield(0,A.ib)(ae,(function*({path:e,line:t,column:r}){if(!(yield(0,A.RE)(V,{query:"os.is_file",params:[e]})))return F.Z.error(`File does not exist on disk ${e}`);try{return yield(0,A.RE)(V,{query:"ide.send_command",params:["open_text_document",{path:e,line:t,column:r}]})}catch(t){return console.warn(t),yield(0,A.RE)(V,{query:"os.open_file",params:[e]})}}))}],Zt="LOAD_SERIAL_DEVICES",Bt="LOAD_MDNS_DEVICES",Yt=(e=!1)=>m(Zt,{force:e}),Wt=(e=!1)=>m(Bt,{force:e});function Gt(e){return e.entities.serialDevices||null}function Kt(e){const t=Gt(e);if(t)return t.map((e=>({name:e.port,value:e.port})))}function Ht(e){return e.entities.mDNSDevices||null}const Jt=[function*(){for(;;){const{force:e}=yield(0,A.qn)(Zt);e&&(yield(0,A.gz)(S(/^serialDevices/)));let t=yield(0,A.Ys)(Gt);if(t)return;yield(0,A.RE)((function*(){try{t=yield(0,A.RE)(V,{query:"core.call",params:[["device","list","--serial","--json-output"]]}),yield(0,A.gz)(D("serialDevices",t))}catch(e){yield(0,A.gz)(oe("Could not load serial devices",e))}}))}},function*(){for(;;){const{force:e}=yield(0,A.qn)(Bt);e&&(yield(0,A.gz)(S(/^mDNSDevices/)));let t=yield(0,A.Ys)(Ht);if(t)return;yield(0,A.RE)((function*(){try{t=yield(0,A.RE)(V,{query:"core.call",params:[["device","list","--mdns","--json-output"],{force_subprocess:!0}]}),yield(0,A.gz)(D("mDNSDevices",t))}catch(e){yield(0,A.gz)(oe("Could not load mDNS services",e))}}))}}],Qt="LOAD_LATEST_TWEETS";function Xt(e){return gt(e,"latestTweets")}const er=[function*(){yield(0,A.Fm)(Qt,(function*({username:e}){let t=yield(0,A.Ys)(Xt);if(!t){try{t=yield(0,A.RE)(V,{query:"misc.load_latest_tweets",params:[`https://news.platformio.org/tweets/${e}/data.json`]})}catch(e){t=e,console.error(e)}yield(0,A.gz)(D("latestTweets",t))}}))}],tr=N?"\\":"/";function rr(...e){return e.map(((t,r)=>t.endsWith(tr)||r===e.length-1?t:`${t}${tr}`)).join("")}function nr(e){if(!e||!e.includes(tr)||e===tr)return e;let t=e.substr(0,e.lastIndexOf(tr));for(;t.endsWith(tr);)t=t.substr(0,t.length-1);return t}function ir(e,t){if(!e)return e;let r=e;if(e.includes(tr)&&e!==tr)for(r=e.substr(e.lastIndexOf(tr));r.startsWith(tr);)r=r.substr(1);return t&&r.endsWith(t)?r.substr(0,r.length-t.length):r}function sr(e){if(!e||!e.length)return"";let t=[],r=[];for(let n=0;n<e[0].length;n++){const i=e[0][n];for(let r=0;r<e.length;r++){const s=e[r];if(n>s.length||s[n]!==i)return t.join("")}"\\"!==i&&"/"!==i||(t=t.concat(r),r=[]),r.push(i)}return t.join("")}const ar="inspect",or="configuration",lr="metrics",cr="inspectSizedata",pr=Object.freeze({STT_FUNC:"profile",STT_OBJECT:"tag"}),ur=Object.freeze({STT_FUNC:"Function",STT_OBJECT:"Variable"}),dr=Object.freeze({HIGH:1,MEDIUM:2,LOW:4}),mr={[dr.HIGH]:"High",[dr.MEDIUM]:"Medium",[dr.LOW]:"Low"},hr="INSPECT_PROJECT",fr="REINSPECT_PROJECT";function gr(e,t){return m(hr,{configuration:e,onEnd:t})}function yr(e){return m(fr,{onEnd:e})}var br=r("Pmog"),Er=r.n(br);function vr(e,t){return e===t||void 0!==e&&void 0!==t&&(Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((r=>Object.prototype.hasOwnProperty.call(t,r)&&e[r]===t[r])))}function Or(e){return Er().filesize(e,1024,e%1024==0||e<1024?0:1)}function wr(e){return void 0!==e?Or(e):""}function jr(e,t){if("number"!=typeof e)return;const{width:r}=t||{};let n=e.toString(16).toUpperCase();return r&&(n=n.padStart(r,"0")),`0x${n}`}function Pr(...e){return function(t,r){for(let n=0;n<e.length;n++){const i=e[n](t,r);if(0!==i)return i}return 0}}function kr(e,t){return e-t}function Cr(e,t){return String(e).localeCompare(t,void 0,{caseFirst:"upper",numeric:!0})}function Rr(e,t){switch(e){case"string":return function(e,r){return Cr(e[t],r[t])};case"number":return function(e,r){return kr(e[t],r[t])};default:throw new Error("Unsupported column sorter type")}}function Dr(e){return e.replace(/\\/g,"/")}function Sr(e,t=tr){const r=[];for(const n of e.split(t))if("."!==n)if(".."!==n)r.push(n);else{if(!r.length)throw new Error(`Relative path goes outside of root: ${e}`);r.pop()}return r.join(t)}function xr(e,t){return[...new Set(e.map((e=>e[t])))].sort().filter((e=>void 0!==e&&""!==e)).map((e=>({value:e,text:e})))}function Tr(e,t){const r=e.length;if(!t||r<=t)return e;t--;const n=Math.max(0,r-t);let i=e.substr(n,t);if(e[n-1]!==tr){const e=i.indexOf(tr);-1!==e&&(i=i.substr(e+1))}return`â€¦${i}`}const Ir=["Hz","kHz","MHz","GHz","THz"];function Nr(e,t=1,r=!0){let n=0;for(;e>=1e3&&n<=Ir.length-1;)e/=1e3,++n;let i=e.toFixed(t);return r&&i.includes(".")&&(i=i.replace(/0+$/,"").replace(/\.$/,"")),`${i}${Ir[n]}`}function qr(e,t){t||(t=[]);for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)?qr(n,t):t.push(n)}return t}function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach((function(t){Fr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ar(e,t){const r=Et(e,ar)||{};return t?r[t]:r}function Ur(e,t,r,n){const i=[r,n,t].join(":");return function(e){return Ar(e,lr)||{}}(e)[i]}function zr(e){return Ar(e,or)}function Vr(e,t){return!vr(t,zr(e))}function $r(e){return gt(e,cr)}function Mr(e){return(gt(e,cr)||{}).error}function Zr(e){return($r(e)||{}).memory}function Br(e){return($r(e)||{}).codeChecks}function Yr(e){const t=Br(e);if(t)return qr(t.map((({tool:e,defects:t})=>t.map((t=>(t.tool=e,t.level=dr[t.severity.toUpperCase()],t))))))}function Wr(e){let t=((Zr(e)||{}).memory||{}).files;if(t)return t.length||(t=Object.entries(t).map((([e,t])=>Lr(Lr({},t),{},{path:e})))),t.map((e=>({flash:e.flash_size,isDir:!1,path:Sr(Dr(e.path),"/"),ram:e.ram_size,symbols:(e.symbols||[]).map((e=>Lr(Lr({},e),{},{displayName:void 0!==e.demangled_name?e.demangled_name:e.name})))})))}function Gr(e){const t=Wr(e);if(t)return qr(t.map((({symbols:e})=>e)).filter((e=>e&&e.length)))}function Kr(e){const t=(Zr(e)||{}).memory;if(!t)return;const r=Wr(e),n=Gr(e),{total:{ram_size:i,flash_size:s,sections:a=[]}={}}=t;return{ram:i,flash:s,filesCount:r.length,symbolsCount:r.reduce(((e,{symbols:t=[]})=>e+t.length),0),sectionsCount:Object.keys(a).length,topSymbols:n.sort(((e,t)=>t.size-e.size)).slice(0,5),topFiles:r.sort(((e,t)=>t.flash-e.flash)).slice(0,5)}}function Hr(e){const t=Br(e);if(!t||!t.length)return;const r=Yr(e)||[],n={};for(const e of t)for(const[t,r]of Object.entries(e.stats||{})){const e=Dr(t);n[e]||(n[e]={high:0,medium:0,low:0}),n[e].low+=r.low||0,n[e].medium+=r.medium||0,n[e].high+=r.high||0}return{defectsCountTotal:r.length,defectsCountBySeverity:{low:r.filter((({severity:e})=>"low"===e)).length,medium:r.filter((({severity:e})=>"medium"===e)).length,high:r.filter((({severity:e})=>"high"===e)).length},stats:Object.entries(n).map((([e,t])=>Lr(Lr({},t),{},{component:e}))).sort(((e,t)=>e.component.localeCompare(t.component))),topDefects:r.sort(((e,t)=>e.level-t.level)).slice(0,5)}}function Jr(e){const t=Zr(e);let{memory:{total:{sections:r}={}}={}}=t||{};if(r)return r.length||(r=Object.entries(r).map((([e,t])=>Lr(Lr({},t),{},{name:e})))),r.map((({flags:e,size:t,type:r,start_addr:n,name:i})=>({flags:e,size:t,type:null!=r?r.toString():"",startAddr:n,name:i})))}function Qr(e){const t=(Zr(e)||{}).device;return t&&t.frequency&&"number"!=typeof t.frequency&&(t.frequency=parseInt(t.frequency,10)),t}const Xr="projectConfig",en="projectConfigSchema",tn="string",rn="choice",nn="integer",sn="integer range",an="boolean",on="file",ln=Object.freeze([tn,rn,nn,sn,an,on]),cn="platformio",pn="env",un=Object.freeze([cn,pn]),dn="platformio",mn="env",hn="env:",fn="custom",gn=Object.freeze([dn,mn,hn,fn]),yn=Object.freeze({minRows:1,maxRows:20}),bn="projectFilter";function En(e){return yt(e,bn)}function vn(e){return gt(e,"projects")}function On(e){return gt(e,"projectExamples")}function wn(e){const t=En(e),r=vn(e);return r?t?it(r,t,(e=>[e.path,JSON.stringify(e.boards)].join(" "))):r.sort(((e,t)=>t.modified-e.modified)):null}function jn(e,t){return(vn(e)||[]).find((e=>e.path===t))}function Pn(e){return gt(e,en)}function*kn(e,t,r,n){const i=yield(0,A.Ys)(Ar);i.metrics||(i.metrics={});const s=[t,r,e].join(":");i.metrics[s]=n,yield(0,A.gz)(I(ar,i))}function*Cn({projectDir:e,env:t}){const r=Date.now();yield(0,A.RE)(V,{query:"core.call",params:[["run","-d",e,"-e",t,"-t","sizedata"],{force_subprocess:!0}]});const n=yield(0,A.RE)(V,{query:"project.config_call",params:[{path:rr(e,"platformio.ini")},"get_optional_dir","build"]}),i=rr(n,t,"sizedata.json"),s=yield(0,A.RE)(V,{query:"os.request_content",params:[i]});if(!s)return;const a=JSON.parse(s);return yield kn("memory",e,t,Date.now()-r),a}function*Rn({projectDir:e,env:t}){const r=Date.now();let n;try{const n=yield(0,A.RE)(V,{query:"core.call",params:[["check","-d",e,"-e",t,"--json-output"],{force_subprocess:!0}]});return yield kn("code",e,t,Date.now()-r),n}catch(e){n=e,console.warn("Problem has occured when inspecting a code",e)}try{const r=yield(0,A.RE)(V,{query:"core.call",params:[["check","-d",e,"-e",t,"--verbose"],{force_subprocess:!0}]});throw new Error(r)}catch(e){if(e.data)throw new Error(e.data.replace("\\n","\n"))}throw n}const Dn=[function*(){yield(0,A.Fm)(hr,(function*({configuration:e,onEnd:t}){try{if(!(yield(0,A.Ys)(jn,e.projectDir)))throw new Error(`Can't inspect non-existing project '${e.projectDir}'`);if(!(yield(0,A.Ys)(Vr,e))){const e=yield(0,A.Ys)($r);if(e&&!e.error)return void(t&&t(e))}yield(0,A.gz)(S(new RegExp(`^${cr}$`)));const r=yield(0,A.Ys)(Ar);r[or]=e,yield(0,A.gz)(I(ar,r));const n=yield(0,A.Ys)();n.router&&(yield(0,A.RE)(tt,n.router.history,"/inspect/processing",void 0,!0));const{memory:i,code:s}=e;let a,o;if(i){if(a=yield(0,A.RE)(Cn,e),!a)throw new Error("Memory inspect returned no result");yield(0,A.gz)(D(cr,{memory:a}))}s&&(o=yield(0,A.RE)(Rn,e)),yield(0,A.gz)(D(cr,{memory:a,codeChecks:o}));const l={memory:a,codeChecks:o};t&&t(l),n.router&&(yield(0,A.RE)(tt,n.router.history,"/inspect/result",void 0,!0))}catch(e){console.error("Exception during inspectProject",e);let r="Exception";e instanceof U.ZP.JsonRpcError?(r=e.message,e.data&&(r+=": "+JSON.stringify(e.data))):r=e instanceof SyntaxError?"Bad JSON":e.toString(),t&&t(void 0,r),yield(0,A.gz)(D(cr,{error:r}));const n=yield(0,A.Ys)();n.router&&(yield(0,A.RE)(tt,n.router.history,"/inspect",void 0,!0))}}))},function*(){yield(0,A.Fm)(fr,(function*({onEnd:e}){const t=yield(0,A.Ys)(zr);if(!t)throw new Error("No inspection configuration ro run reinspectProject");yield(0,A.gz)(S(new RegExp(`^${cr}$`))),yield(0,A.gz)(gr(t,e))}))}],Sn="LOAD_STATS",xn="LOAD_SEARCH_RESULT",Tn="LOAD_LIBRARY_DATA",In="LOAD_BUILTIN_LIBS",Nn="LOAD_INSTALLED_LIBS",qn="LOAD_LIB_UPDATES",_n="INSTALL_LIBRARY",Ln="UNINSTALL_LIBRARY",Fn="UPDATE_LIBRARY",An=()=>m(Sn),Un=(e,t=1,r)=>m(xn,{query:e,page:t,onEnd:r}),zn=e=>m(Tn,{idOrManifest:e}),Vn=()=>m(In),$n=()=>m(Nn),Mn=()=>m(qn),Zn=(e,t,r=null)=>m(_n,{storageDir:e,lib:t,onEnd:r}),Bn=(e,t,r=null)=>m(Ln,{storage:e,pkg:t,onEnd:r}),Yn=(e,t,r=null)=>m(Fn,{storage:e,pkg:t,onEnd:r});function Wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Gn{constructor(e,t,r,n,i){this.name=e,this.path=t,this.initialPath=t,this._items=r,this._actions=n||Gn.ACTION_REVEAL,this.options=i||{}}get items(){return this._items}set items(e){e&&e.length&&!this.path&&(this.path=nr(e[0].__pkg_dir)),this._items=e}get actions(){return this._actions}set actions(e){"number"==typeof e&&e<=Gn.ACTION_ALL&&(this._actions=e)}}function Kn(e,t){return e.map((e=>{let r=e.items;return r&&t&&(r=it(r,t,"name")),new Gn(e.name,e.path,r,e.actions,e.options)}))}Wn(Gn,"ACTION_REVEAL",1),Wn(Gn,"ACTION_UNINSTALL",2),Wn(Gn,"ACTION_UPDATE",4),Wn(Gn,"ACTION_ALL",8);const Hn="boardsFilter",Jn="frameworksFilter",Qn="platformEmebddedFilter",Xn="platformDesktopFilter",ei="platformInstalledFilter",ti="platformUpdatesFilter";function ri(e){return yt(e,Hn)}function ni(e){return yt(e,Jn)}function ii(e){return yt(e,Qn)}function si(e){return yt(e,Xn)}function ai(e){return yt(e,ei)}function oi(e){return yt(e,ti)}function li(e){return e.entities.boards||null}function ci(e){return e.entities.registryPackages||null}function pi(e){return e.entities.registryPlatforms||null}function ui(e){return e.entities.registryFrameworks||null}function di(e){return e.entities.installedPlatforms||null}function mi(e){return e.entities.installedPlatformsData||null}function hi(e,t){const r=mi(e);return r?r.find((e=>`${e.name}@${e.version}`===t)):null}function fi(e,t,r){if(!r.length||"string"!=typeof r[0])return r;const n=("platforms"===t?pi(e):ui(e))||[];return r.length&&"*"===r[0]?n.map((e=>({name:e.name,title:e.title}))):r.map((e=>{let t=(r=e)[0].toUpperCase()+r.slice(1);var r;for(const r of n)r.name===e&&(t=r.title);return{name:e,title:t}}))}function gi(e){const t=li(e);return t?t.map((t=>{const r=Object.assign({},t);return r.platform=fi(e,"platforms",[r.platform])[0],r.frameworks=fi(e,"frameworks",r.frameworks),r})):null}function yi(e){const t=ii(e);let r=pi(e);return r?(r=r.filter((e=>!e.forDesktop)),r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=fi(e,"frameworks",r.frameworks),r})),t?it(r,t,"name"):r):null}function bi(e){const t=si(e);let r=pi(e);return r?(r=r.filter((e=>e.forDesktop)),r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=fi(e,"frameworks",r.frameworks),r})),t?it(r,t,"name"):r):null}function Ei(e,t){let r=null;if(r=t.includes("@")?hi(e,t):(pi(e)||[]).find((e=>e.name===t)),!r)return null;if(r=Object.assign({},r),r.frameworks&&r.frameworks.length&&(r.frameworks=fi(e,"frameworks",r.frameworks)),r.packages&&r.packages.length&&(r.packages=function(e,t){if(!t.length||"string"!=typeof t[0])return t;const r=ci(e);return t.map((e=>r?{name:e,url:r[e].url,description:r[e].description}:{name:e}))}(e,r.packages)),!r.boards){const t=li(e);t&&(r.boards=t.filter((e=>e.platform===r.name)).map((e=>Object.assign({},e))))}return r.boards&&(r.boards=r.boards.map((t=>(t.platform=fi(e,"platforms",[t.platform])[0],t.frameworks=fi(e,"frameworks",t.frameworks),t)))),r}function vi(e,t){let r=(ui(e)||[]).find((e=>e.name===t));if(!r)return null;r=Object.assign({},r),r.platforms&&r.platforms.length&&(r.platforms=fi(e,"platforms",r.platforms));const n=li(e);return n&&(r.boards=n.filter((e=>e.frameworks.includes(r.name))).map((e=>Object.assign({},e))),r.boards=r.boards.map((t=>(t.platform=fi(e,"platforms",[t.platform])[0],t.frameworks=fi(e,"frameworks",t.frameworks),t)))),r}function Oi(e){const t=ai(e);let r=di(e);return r?(r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=fi(e,"frameworks",r.frameworks),r})),t?it(r,t,"name"):r):null}function wi(e){const t=oi(e);let r=function(e){return e.entities.platformUpdates||null}(e);return r?(r=r.map((t=>{const r=Object.assign({},t);return r.frameworks=fi(e,"frameworks",r.frameworks),r})),t?it(r,t,"name"):r):null}function ji(e){const t=ni(e);let r=ui(e);return r?(r=r.map((t=>{const r=Object.assign({},t);return r.platforms=fi(e,"platforms",r.platforms),r})),t?it(r,t,"name"):r):null}const Pi="libBuiltinFilter",ki="libInstalledFilter",Ci="libUpdatesFilter";function Ri(e){return yt(e,Pi)}function Di(e){return yt(e,ki)}function Si(e){return yt(e,Ci)}function xi(e,t=0){return[e,t].join()}function Ti(e){return e.entities.libSearch||null}function Ii(e,t,r=1){const n=Ti(e);if(!n)return null;const i=n.find((e=>e.key===xi(t,r)));return i?i.result:null}function Ni(e){return e.entities.libStats||null}function qi(e){return e.entities.registryLibs||null}function _i(e,t){const r=qi(e);return r&&r.find((e=>e.id===t))||null}function Li(e,t){if("number"==typeof t)return _i(e,parseInt(t));if(!pi(e)||!ui(e))return null;const r=Object.assign({},t);for(const t of["platforms","frameworks"])!r[t]||0===r[t].length||"object"==typeof r[t][0]&&r[t][0].name||(r[t]=fi(e,t,r[t]));r.repository&&r.repository.url&&(r.repository=r.repository.url);for(const e of["authors","frameworks","platforms","keywords"])r[e]=r[e]||[];return r}function Fi(e){return e.entities.builtinLibs||null}function Ai(e){const t=Ri(e);let r=Fi(e);return r?(r=r.filter((e=>e.items.length)).map((e=>new Gn(e.name,e.path,e.items))),t?Kn(r,t):r):null}function Ui(e){const t=vn(e)||[],r=[];return t.forEach((e=>{e.envLibStorages&&e.envLibStorages.forEach((t=>{r.push(new Gn(`Project: ${e.name} > ${t.name}`,t.path,void 0,void 0,{projectDir:e.path,projectEnv:t.name}))})),e.extraLibStorages.forEach((t=>{r.push(new Gn(`Storage: ${t.name}`,t.path,void 0,void 0,{projectDir:e.path}))}))})),r.push(new Gn("Global storage")),r}function zi(e){return Ui(e).map((t=>{const r=`installedLibs${t.initialPath}`;return e.entities[r]&&(t.items=e.entities[r]),t.actions=Gn.ACTION_REVEAL|Gn.ACTION_UNINSTALL,t}))}function Vi(e){const t=Di(e),r=zi(e);return r?t?Kn(r,t):r:null}function $i(e){const t=Si(e),r=function(e){return Ui(e).map((t=>{const r=`libUpdates${t.initialPath}`;return e.entities[r]&&(t.items=e.entities[r]),t.actions=Gn.ACTION_REVEAL|Gn.ACTION_UPDATE,t}))}(e);return r?t?Kn(r,t):r:null}const Mi="LOAD_BOARDS",Zi="LOAD_REGISTRY_PLATFORMS",Bi="LOAD_REGISTRY_FRAMEWORKS",Yi="LOAD_PLATFORM_DATA",Wi="LOAD_FRAMEWORK_DATA",Gi="LOAD_INSTALLED_PLATFORMS",Ki="LOAD_PLATFORM_UPDATES",Hi="INSTALL_PLATFORM",Ji="UNINSTALL_PLATFORM",Qi="UPDATE_PLATFORM",Xi=()=>m(Mi),es=()=>m(Zi),ts=()=>m(Bi),rs=e=>m(Yi,{name:e}),ns=e=>m(Wi,{name:e}),is=()=>m(Gi),ss=()=>m(Ki),as=(e,t)=>m(Hi,{platform:e,onEnd:t}),os=(e,t)=>m(Ji,{pkgDir:e,onEnd:t}),ls=(e,t)=>m(Qi,{pkgDir:e,onEnd:t});function*cs(e){let t=[];try{t=yield(0,A.RE)(V,{query:"core.call",params:[["platform","search","--json-output"]]})}catch(t){e?console.error(t):yield(0,A.gz)(oe("Platforms: Registry",t))}yield(0,A.gz)(D("registryPlatforms",t))}function*ps(e){let t=[];try{t=yield(0,A.RE)(V,{query:"core.call",params:[["platform","frameworks","--json-output"]]})}catch(t){e?console.error(t):yield(0,A.gz)(oe("Platforms: Frameworks",t))}yield(0,A.gz)(D("registryFrameworks",t))}function*us(e){const t=[];(yield(0,A.Ys)(pi))||t.push((0,A.RE)(cs,e)),(yield(0,A.Ys)(ui))||t.push((0,A.RE)(ps,e)),yield(0,A.$6)(t)}function*ds(){if(!(yield(0,A.Ys)(li)))try{let e=yield(0,A.RE)(V,{query:"core.call",params:[["boards","--json-output"]]});e=e.map((e=>(e.frameworks=e.frameworks||[],e))),yield(0,A.gz)(D("boards",e))}catch(e){yield(0,A.gz)(oe("Could not load boards list",e))}}function*ms(){if(yield(0,A.Ys)(ci))return;let e=null;try{e=yield(0,A.RE)((()=>{const e=At().get("https://api.platformio.org/packages");return new Promise(((t,r)=>{e.end(((e,n)=>e||!n.ok?r(e):t(n.body)))}))}))}catch(e){}yield(0,A.gz)(D("registryPackages",e))}const hs=[function*(){for(;;)yield(0,A.qn)(Mi),yield(0,A.RE)(us,true),yield(0,A.RE)(ds)},function*(){yield(0,A.ib)([Zi,Bi],(function*(){yield(0,A.RE)(us)}))},function*(){yield(0,A.Fm)(Yi,(function*({name:e}){const t=e.includes("@");if(yield(0,A.RE)(us,t),e.includes("@")){if(yield(0,A.Ys)(hi,e))return;try{const t=yield(0,A.RE)(V,{query:"core.call",params:[["platform","show",e,"--json-output"]]}),r=(yield(0,A.Ys)(mi))||[];r.push(t),yield(0,A.gz)(D("installedPlatformsData",r.slice(-10)))}catch(e){if(e instanceof U.ZP.JsonRpcError&&e.data.includes("Error: Unknown development platform")){yield(0,A.gz)(S(/^installedPlatforms/));const e=yield(0,A.Ys)();if(e.router)return tt(e.router.history,"/platforms/installed",void 0,!0)}else yield(0,A.gz)(oe("Could not load platform data",e))}}else yield(0,A.$6)([(0,A.RE)(ds),(0,A.RE)(ms)])}))},function*(){yield(0,A.Fm)(Wi,(function*(){yield(0,A.$6)([(0,A.RE)(us,!1),(0,A.RE)(ds)])}))},function*(){yield(0,A.Fm)(Gi,(function*(){(yield(0,A.Ys)(di))||(yield(0,A.RE)((function*(){let e,t=0;for(;t<3;){t++;try{const e=yield(0,A.RE)(V,{query:"core.call",params:[["platform","list","--json-output"]]});return yield(0,A.gz)(D("installedPlatforms",e))}catch(t){e=t}if(e instanceof U.ZP.JsonRpcError&&!e.data.includes("Error: Unknown development platform"))break}yield(0,A.gz)(oe("Could not load installed platforms",e))})))}))},function*(){for(;;)yield(0,A.qn)(Ki),yield(0,A.gz)(S(/^platformUpdates/)),yield(0,A.gz)(ce("/platforms/updates",0)),yield(0,A.RE)((function*(){try{const e=yield(0,A.RE)(V,{query:"core.call",params:[["platform","update","--only-check","--json-output"],{force_subprocess:!0}]});yield(0,A.gz)(D("platformUpdates",e))}catch(e){yield(0,A.gz)(oe("Could not load platform updates",e))}}))},function*(){yield(0,A.qn)(f);const e=yield(0,A.Ys)(Et,"coreSettings"),t=parseInt(e&&e.check_platforms_interval?e.check_platforms_interval.value:0);if(t<=0)return;const r="lastCheckPlatformUpdates",n=(new Date).getTime();if(!(n<((yield(0,A.Ys)(Et,r))||0)+86400*t*1e3)){yield(0,A.gz)(I(r,n));try{const e=yield(0,A.RE)(V,{query:"core.call",params:[["platform","update","--only-check","--json-output"],{force_subprocess:!0}]});yield(0,A.gz)(ce("/platforms/updates",e.length))}catch(e){console.error("Failed check of PIO Core platform updates",e)}}},function*(){yield(0,A.ib)(Hi,(function*({platform:e,onEnd:t}){let r,n=null;try{const i=(new Date).getTime();n=yield(0,A.RE)(V,{query:"core.call",params:[["platform","install",e],{force_subprocess:!0}]}),He.ZP.timing({category:"Platform",variable:"install",value:(new Date).getTime()-i,label:e}),yield(0,A.gz)(S(/^installedPlatforms/)),yield(0,A.gz)(le("Platform has been successfully installed",n))}catch(e){r=e,yield(0,A.gz)(oe("Could not install platform",r))}finally{t&&(yield(0,A.RE)(t,r,n))}}))},function*(){yield(0,A.ib)([Ji,Qi],(function*(e){const{pkgDir:t,onEnd:r}=e;let n=null;try{const i=yield(0,A.RE)(V,{query:"core.call",params:[["platform",e.type===Ji?"uninstall":"update",t],{force_subprocess:!0}]});e.type===Qi&&(yield(0,A.gz)(S(/^installedPlatforms/)));const s=yield(0,A.Ys)();for(const e of Object.keys(s.entities))["installedPlatformsData","installedPlatforms","platformUpdates"].includes(e)&&s.entities[e].find((e=>e.__pkg_dir===t))&&(yield(0,A.gz)(D(e,s.entities[e].filter((e=>e.__pkg_dir!==t)))));yield(0,A.gz)(le("Platform has been successfully "+(e.type===Ji?"uninstalled":"updated"),i))}catch(t){if(n=t,n instanceof U.ZP.JsonRpcError&&n.data.includes("Error: Unknown development platform")){yield(0,A.gz)(S(/^installedPlatforms/));const e=yield(0,A.Ys)();if(e.router)return tt(e.router.history,"/platforms/installed",void 0,!0)}else yield(0,A.gz)(oe("Could not load platform data",n));yield(0,A.gz)(oe(`Could not ${e.type===Ji?"uninstall":"update"} platform`,n))}finally{r&&(yield(0,A.RE)(r,n))}}))}],fs="ADD_PROJECT",gs="HIDE_PROJECT",ys="OPEN_PROJECT",bs="IMPORT_PROJECT",Es="LOAD_PROJECTS",vs="PROJECTS_LOADED",Os="INIT_PROJECT",ws="IMPORT_ARDUINO_PROJECT",js="LOAD_PROJECT_EXAMPLES",Ps="LOAD_CONFIG_SCHEMA",ks="LOAD_PROJECT_CONFIG",Cs="SAVE_PROJECT_CONFIG",Rs="UPDATE_CONFIG_DESCRIPTION",Ds="LOAD_SERIAL_PORTS",Ss=(e,t={withOpen:!0,withReload:!0,onEnd:void 0})=>m(fs,{projectDir:e,options:t}),xs=e=>m(gs,{projectDir:e}),Ts=e=>m(ys,{projectDir:e}),Is=(e,t)=>m(bs,{projectDir:e,onEnd:t}),Ns=e=>m(Es,{force:e}),qs=()=>m(vs),_s=(e,t,r,n)=>m(Os,{board:e,framework:t,projectDir:r,onEnd:n}),Ls=(e,t,r,n)=>m(ws,{board:e,useArduinoLibs:t,arduinoProjectDir:r,onEnd:n}),Fs=()=>m(js),As=()=>m(Ps),Us=e=>m(ks,{projectDir:e}),zs=(e,t,r,n)=>m(Cs,{projectDir:e,data:t,options:r,onEnd:n}),Vs=(e,t,r)=>m(Rs,{projectDir:e,description:t,onEnd:r});class $s extends Error{constructor(e){super("Cant override modified config file"),this.loadedAt=e.loadedAt,this.modifiedAt=e.modifiedAt}}function Ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(r),!0).forEach((function(t){Bs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ys="recentProjects";function*Ws(){yield(0,A.gz)(Ns()),yield(0,A.qn)(vs)}function*Gs(e,t){const r=(yield(0,A.Ys)(vn))||[],n=r.find((t=>t.path===e));if(!n)return;const i=Zs(Zs({},n),t),s=r.map((e=>e===n?i:e));return yield(0,A.gz)(D("projects",s)),n}const Ks=[function*(){yield(0,A.ib)(fs,(function*({projectDir:e,options:t}){const r=rr(e,"platformio.ini");if(!(yield(0,A.RE)(V,{query:"os.is_file",params:[r]})))return void(t.onEnd&&(yield(0,A.RE)(t.onEnd,'This is not PlatformIO Project (should contain "platformio.ini" file).',e)));const n=(yield(0,A.Ys)(Et,Ys))||[];n.includes(e)||(yield(0,A.gz)(I(Ys,[...n,e])),yield(0,A.gz)(R())),t.withReload&&(yield(0,A.gz)(S(/^projects/)),yield(0,A.gz)(Ns())),t.withOpen&&(yield(0,A.gz)(Ts(e))),t.onEnd&&(yield(0,A.RE)(t.onEnd,void 0,e))}))},function*(){yield(0,A.ib)(gs,(function*({projectDir:e}){const t=(yield(0,A.Ys)(Et,Ys))||[],r=(yield(0,A.Ys)(vn))||[];yield(0,A.gz)(I(Ys,t.filter((t=>t!==e)))),yield(0,A.gz)(R()),yield(0,A.gz)(D("projects",r.filter((t=>t.path!==e))))}))},function*(){yield(0,A.ib)(K,(function*({src:e,dst:t}){const r=(yield(0,A.Ys)(Et,Ys))||[];r.includes(e)&&(r.includes(t)||r.push(t),yield(0,A.gz)(I(Ys,r.filter((t=>t!==e)))),yield(0,A.gz)(R()),(yield(0,A.Ys)(vn))&&(yield(0,A.gz)(S(/^projects/)),yield(0,A.gz)(Ns())))}))},function*(){yield(0,A.ib)(ys,(function*({projectDir:e}){try{return yield(0,A.RE)(V,{query:"ide.send_command",params:["open_project",e]})}catch(t){console.warn(t),yield(0,A.gz)(de(e))}pt.Z.success({title:"Open Project...",content:qt.createElement("div",{style:{wordBreak:"break-all"}},qt.createElement("div",{className:"block"},"Project has been successfully configured and is located by this path:"," ",qt.createElement("code",null,e),"."),"You can open it with your favourite IDE or process with"," ",qt.createElement("kbd",null,"platformio run")," command.")})}))},function*(){for(;;){const{force:e=!1}=yield(0,A.qn)(Es)||{};let t;if(e||(t=yield(0,A.Ys)(vn),!t)){try{const{ideProjects:e}=yield(0,A.S3)({ideProjects:(0,A.RE)(V,{query:"ide.send_command",params:["get_pio_project_dirs"]}),timeout:(0,A.gw)(2e3)}),t=(yield(0,A.Ys)(Et,Ys))||[];let r=!1;for(const n of e||[])t.includes(n)||(t.push(n),r=!0);r&&((yield(0,A.Ys)(Et,"coreVersion"))||(yield(0,A.qn)(f)),yield(0,A.gz)(I(Ys,t)),yield(0,A.gz)(R()),yield(0,A.qn)(v))}catch(e){console.warn("Could not fetch projects from IDE",e)}try{t=yield(0,A.RE)(V,{query:"project.get_projects"}),yield(0,A.gz)(D("projects",t)),yield(0,A.gz)(qs())}catch(e){yield(0,A.gz)(oe("Could not load recent projects",e))}}else yield(0,A.gz)(qs())}},function*(){for(;;){yield(0,A.qn)(js);let e=yield(0,A.Ys)(On);if(!e)try{e=yield(0,A.RE)(V,{query:"project.get_project_examples"}),yield(0,A.gz)(D("projectExamples",e))}catch(e){yield(0,A.gz)(oe("Could not load project examples",e))}}},function*(){yield(0,A.ib)([Hi,Ji,Qi],(function*(){yield(0,A.gz)(S(/^projectExamples/))}))},function*(){for(;;){const{projectDir:e,onEnd:t}=yield(0,A.qn)(bs);let r,n=null;try{const i=(new Date).getTime();n=yield(0,A.RE)(V,{query:"project.import_pio",params:[e]}),He.ZP.timing({category:"Project",variable:"import",value:(new Date).getTime()-i,label:e}),yield(0,A.gz)(le("Project has been successfully imported",`Location: ${n}`))}catch(e){r=e,yield(0,A.gz)(oe("Could not import project",r))}finally{t&&(yield(0,A.RE)(t,r,n))}}},function*(){for(;;){const{board:e,framework:t,projectDir:r,onEnd:n}=yield(0,A.qn)(Os);let i,s=null;try{const a=(new Date).getTime();s=yield(0,A.RE)(V,{query:"project.init",params:[e,t,r]}),He.ZP.timing({category:"Project",variable:"init",value:(new Date).getTime()-a,label:e}),yield(0,A.gz)(le("Project has been successfully initialized",`Board: ${e}, framework: ${t}, location: ${s}`))}catch(e){i=e,yield(0,A.gz)(oe("Could not initialize project",i))}finally{n&&(yield(0,A.RE)(n,i,s))}}},function*(){for(;;){const{board:e,useArduinoLibs:t,arduinoProjectDir:r,onEnd:n}=yield(0,A.qn)(ws);let i,s=null;try{const a=(new Date).getTime();s=yield(0,A.RE)(V,{query:"project.import_arduino",params:[e,t,r]}),He.ZP.timing({category:"Project",variable:"import_arduino",value:(new Date).getTime()-a,label:e}),yield(0,A.gz)(le("Project has been successfully imported",`Board: ${e}, new location: ${s}`))}catch(e){i=e,i instanceof U.ZP.JsonRpcError&&i.message.includes("Not an Arduino project")?F.Z.error(`${i.message} (Project should contain .ino or .pde file with the same name as project folder)`,10):yield(0,A.gz)(oe("Could not import Arduino project",i))}finally{n&&(yield(0,A.RE)(n,i,s))}}},function*(){yield(0,A.Fm)(Ps,(function*(){try{const e=yield(0,A.RE)(V,{query:"project.get_config_schema"}),t={};for(const r of e){const{scope:e}=r;t[e]||(t[e]=[]),t[e].push(r)}yield(0,A.gz)(D(en,t))}catch(e){e instanceof U.ZP.JsonRpcError||(yield(0,A.gz)(oe("Could not load config schema",e)))}}))},function*(){yield(0,A.Fm)(ks,(function*({projectDir:e}){try{yield(0,A.gz)(S(new RegExp("^projectConfig$")));const t=rr(e,"platformio.ini"),r=yield(0,A.RE)(V,{query:"project.config_load",params:[t]}),n=yield(0,A.RE)(V,{query:"os.get_file_mtime",params:[t]}),i=r.map((([e,t])=>({section:e,items:t.map((([e,t])=>({name:e,value:t})))})));yield(0,A.gz)(D(Xr,{config:i,mtime:n}))}catch(e){yield(0,A.gz)(oe("Could not load project config",e));const t=yield(0,A.Ys)();t.router&&(yield(0,A.RE)(tt,t.router.history,"/projects",void 0,!0))}}))},function*(){yield(0,A.Fm)(Cs,(function*({projectDir:e,data:t,options:r,onEnd:n}){const{mtime:i,force:s}=r||{};let a;try{yield(0,A.RE)($t,"project-config-save",{content:"Warning!\n          The entire file contents or platformio.ini will be rewritten with the current\n          configuration defined in this UI.\n          Continue to save the configuration?",okText:"Save"});const r=rr(e,"platformio.ini");if(!s){const e=yield(0,A.RE)(V,{query:"os.get_file_mtime",params:[r]});if(e-i>1e-5)throw new $s({loadedAt:i,modifiedAt:e})}yield(0,A.RE)(V,{query:"project.config_dump",params:[r,t]}),F.Z.success("Project configuration saved");const o=yield(0,A.RE)(V,{query:"os.get_file_mtime",params:[r]}),l=yield(0,A.Ys)(gt,Xr);yield(0,A.gz)(D(Xr,Zs(Zs({},l),{},{mtime:o}))),yield(0,A.gz)(Ns(!0))}catch(e){a=e,e&&(e instanceof Nt||e instanceof $s)||(yield(0,A.gz)(oe("Could not save project config",e)))}finally{yield(0,A.RE)(n,a)}}))},function*(){yield(0,A.Fm)(Rs,(function*({projectDir:e,description:t,onEnd:r}){let n,i;try{i=yield Gs(e,{description:t}),yield(0,A.RE)(V,{query:"project.config_update_description",params:[rr(e,"platformio.ini"),t]}),F.Z.success("Project description is saved into configuration file")}catch(t){n=t,yield(0,A.gz)(oe("Could not update project description",t)),i&&(yield Gs(e,{description:i.description})),console.error(t)}finally{r&&(yield(0,A.RE)(r,n))}}))}];function Hs(e){return e.replace(/^Library Manager:/gm,"")}function*Js(e){let t=["lib"];return e.options&&e.options.projectDir&&e.options.projectEnv?t=t.concat(["--storage-dir",e.options.projectDir,"--environment",e.options.projectEnv]):e.path?t=t.concat(["--storage-dir",e.path]):t.push("--global"),t=t.concat(["update","--only-check","--json-output"]),yield(0,A.RE)(V,{query:"core.call",params:[t,{force_subprocess:!0}]})}const Qs=[function*(){function*e(e){yield rt(e),yield(0,A.gz)(D("libStats",null))}yield(0,A.Fm)(Sn,(function*(){let t=yield(0,A.Ys)(Ni);if(!t){try{t=yield(0,A.RE)(V,{query:"core.call",params:[["lib","stats","--json-output"]]}),yield(0,A.gz)(D("libStats",t))}catch(e){return yield(0,A.gz)(oe("Libraries: Stats",e))}yield(0,A.rM)(e,36e5)}}))},function*(){yield(0,A.Fm)(xn,(function*({query:e,page:t,onEnd:r}){let n=yield(0,A.Ys)(Ii,e,t);if(n)return void(r&&r());try{let r=["lib","search"];e&&r.push(e),r=r.concat(["--page",t,"--json-output"]),n=yield(0,A.RE)(V,{query:"core.call",params:[r]})}catch(e){return r&&r(e),yield(0,A.gz)(oe("Libraries: Search",e))}const i=(yield(0,A.Ys)(Ti))||[];i.push({key:xi(e,t),result:n}),yield(0,A.gz)(D("libSearch",i.slice(-10))),r&&r()}))},function*(){yield(0,A.Fm)(Tn,(function*({idOrManifest:e}){switch(typeof e){case"number":if(yield(0,A.Ys)(_i,parseInt(e)))return;try{const t=yield(0,A.RE)(V,{query:"core.call",params:[["lib","show",e,"--json-output"]]}),r=(yield(0,A.Ys)(qi))||[];r.push(t),yield(0,A.gz)(D("registryLibs",r.slice(-10)))}catch(e){return yield(0,A.gz)(oe("Libraries: Data",e))}break;case"object":{const e=!0;yield(0,A.RE)(us,e);break}}}))},function*(){for(;;){yield(0,A.qn)(In);let e=yield(0,A.Ys)(Fi);if(!e)try{e=yield(0,A.RE)(V,{query:"core.call",params:[["lib","builtin","--json-output"],{force_subprocess:!0}]}),yield(0,A.gz)(D("builtinLibs",e))}catch(e){return yield(0,A.gz)(oe("Libraries: Builtin",e))}}},function*(){for(;;){yield(0,A.qn)(Nn),yield(0,A.RE)(Ws);const e=yield(0,A.Ys)(zi);for(const t of e)t.items||(yield(0,A.rM)((function*(){try{let e=["lib"];t.path?e=e.concat(["--storage-dir",t.path]):e.push("--global"),e=e.concat(["list","--json-output"]);const r=yield(0,A.RE)(V,{query:"core.call",params:[e,{force_subprocess:!0}]});yield(0,A.gz)(D(`installedLibs${t.initialPath}`,r))}catch(e){return e instanceof U.ZP.JsonRpcError&&e.data.includes("does not exist")?yield(0,A.gz)(D(`installedLibs${t.initialPath}`,[])):yield(0,A.gz)(oe("Libraries: Installed",e))}})))}},function*(){for(;;){yield(0,A.qn)(qn),yield(0,A.gz)(S(/^libUpdates/)),yield(0,A.gz)(ce("/libraries/updates",0));const e=yield(0,A.Ys)(Ui);for(const t of e)yield(0,A.rM)((function*(){try{yield(0,A.gz)(D(`libUpdates${t.initialPath}`,yield(0,A.RE)(Js,t)))}catch(e){return yield(0,A.gz)(oe("Libraries: Updates",e))}}))}},function*(){yield(0,A.qn)(f);const e=yield(0,A.Ys)(Et,"coreSettings"),t=parseInt(e&&e.check_libraries_interval?e.check_libraries_interval.value:0);if(t<=0)return;const r="lastCheckLibraryUpdates",n=(new Date).getTime();if(n<((yield(0,A.Ys)(Et,r))||0)+86400*t*1e3)return;yield(0,A.gz)(I(r,n)),yield(0,A.RE)(Ws);let i=0;const s=yield(0,A.Ys)(Ui);for(const e of s)try{i+=(yield(0,A.RE)(Js,e)).length}catch(t){console.error("Failed check of PIO Core library updates for "+e.path,t)}yield(0,A.gz)(ce("/libraries/updates",i))},function*(){yield(0,A.ib)(_n,(function*({storageDir:e,lib:t,onEnd:r}){yield(0,A.gz)(S(/^installedLibs/));let n,i=null;try{let s=["lib"];e?s=s.concat(["--storage-dir",e]):s.push("--global"),s=s.concat(["install",t]),i=yield(0,A.RE)(V,{query:"core.call",params:[s,{force_subprocess:!0}]}),yield(0,A.gz)(le("Congrats!",Hs(i)))}catch(e){n=e,yield(0,A.gz)(oe("Libraries: Could not install library",n))}finally{r&&(yield(0,A.RE)(r,n,i))}}))},function*(){yield(0,A.ib)([Ln,Fn],(function*(e){const{storage:t,pkg:r,onEnd:n}=e;let i;try{const s=yield(0,A.RE)(V,{query:"core.call",params:[e.type===Ln&&t.options&&t.options.projectDir&&t.options.projectEnv?["lib","--storage-dir",t.options.projectDir,"--environment",t.options.projectEnv,e.type===Ln?"uninstall":"update",`${r.ownername?`${r.ownername}/`:""}${r.name}@${r.version}`]:["lib","--storage-dir",t.path,e.type===Ln?"uninstall":"update",r.__pkg_dir],{force_subprocess:!0}]});e.type===Fn&&(yield(0,A.gz)(S(/^installedLibs/)));const a=yield(0,A.Ys)();for(const e of Object.keys(a.entities))(e.startsWith("installedLibs")||e.startsWith("libUpdates"))&&a.entities[e].find((e=>e.__pkg_dir===r.__pkg_dir))&&(yield(0,A.gz)(D(e,a.entities[e].filter((e=>e.__pkg_dir!==r.__pkg_dir)))));yield(0,A.gz)(le("Congrats!",Hs(s)))}catch(t){if(i=t,i instanceof U.ZP.JsonRpcError&&i.data.includes("Error: Could not find the package")){yield(0,A.gz)(S(/^installedLibs/)),e.type===Ln&&(yield(0,A.gz)($n()));const t=yield(0,A.Ys)();if(t.router)return tt(t.router.history,"/libraries/installed",void 0,!0)}else yield(0,A.gz)(oe(`Libraries: Could not ${e.type===Ln?"uninstall":"update"} library`,i))}finally{n&&(yield(0,A.RE)(n,i))}}))}];const Xs=[function*(){yield(0,A.Fm)(f,(function*(){const e=yield(0,A.Ys)(bt);if(!e.cid||e.coreSettings&&e.coreSettings.enable_telemetry&&!e.coreSettings.enable_telemetry.value)return;He.ZP.initialize("UA-1768265-9",{debug:!1,titleCase:!1,gaOptions:{clientId:e.cid}});let t=`PlatformIO/${e.coreVersion}`;e.coreCaller&&(t+=`Caller/${e.coreCaller}`);const r={appId:"core.home",appVersion:"3.4.1",appName:t,dimension1:e.coreSystype,dimension4:1};e.coreCaller&&(r.dimension5=e.coreCaller),He.ZP.set(r),He.ZP.ga("send","screenview",{screenName:et()})}))},function*(){const e=[_n,Ln,Fn,Hi,Ji,Qi];yield(0,A.ib)(e,(function(e){let t="";e.type.endsWith("_LIBRARY")?t=e.lib||(e.pkgDir?ir(e.pkgDir):""):e.type.endsWith("_PLATFORM")&&(t=e.platform||(e.pkgDir?ir(e.pkgDir):"")),He.ZP.event({category:"Package",action:e.type.toLowerCase(),label:t})}))},function*(){yield(0,A.ib)([ws,bs,Os,gs,ys],(function(e){let t=e.board||void 0;!t&&e.projectDir&&(t=rr(ir(nr(e.projectDir)),ir(e.projectDir))),He.ZP.event({category:"Project",action:e.type.toLowerCase(),label:t})}))},function*(){yield(0,A.ib)(W,(function({url:e}){He.ZP.event({category:"Misc",action:"Outbound",label:e})}))},function*(){yield(0,A.ib)(Y,(function({value:e}){He.ZP.event({category:"Misc",action:"ShowAtStartup",label:e?1:0})}))}];function*ea(){yield(0,A.Fm)(g,(function*(){try{const e=yield(0,A.RE)(V,{query:"app.get_state"});e.inputValues&&delete e.inputValues,yield(0,A.gz)((e=>m(y,{newState:e}))(e)),yield(0,A.gz)(m(f))}catch(e){return yield(0,A.gz)(oe("Could not load lastest application state",e))}}))}function*ta(){const e=[E,k,C];yield(0,A.Fm)(e,(function*(e){e.type!==E&&(yield(0,A.RE)(rt,2e3));try{const e=(yield(0,A.Ys)())||{},t={storage:Object.assign({},e.storage)};t.storage.coreSettings&&delete t.storage.coreSettings;if(!(yield(0,A.RE)(V,{query:"app.save_state",params:[t]})))throw new Error("Received invalid result after saving application state");yield(0,A.gz)(m(v))}catch(e){return yield(0,A.gz)(oe("Could not save application state",e))}}))}function*ra(){yield(0,A.Fm)(P,(function*({key:e,value:t}){yield(0,A.RE)(rt,300),yield(0,A.gz)(x(e,t))}))}function*na(){yield(0,A.$6)([ea,ta,ra,...Xs,...ct,...Mt,...Jt,...er,...Qs,...Ks,...hs,...Dn].map((e=>e())))}let ia=null;function sa(){return ia||function(e){const t=(0,p.ZP)(),r=[ke,$({endpoint:L}),t];0;const n=(0,c.MT)(De,e||{},(0,c.md)(...r));n.close=()=>n.dispatch(p.uR),t.run(na),ia=n,n.dispatch((()=>m(g))())}(),ia}r("ppZR");var aa,oa,la,ca=r("d2CI"),pa=(r("93XW"),r("d1El")),ua=r("EUne"),da=r("Oq/Y"),ma=r("17x9"),ha=r.n(ma),fa=r("sx21");class ga extends qt.Component{render(){return qt.createElement(ut.default,{type:"default",shape:"circle",icon:"user",title:"PIO Account",onClick:()=>this.props.showInformationPage()})}}aa=ga,oa="propTypes",la={router:ha().object.isRequired,showInformationPage:ha().func.isRequired},oa in aa?Object.defineProperty(aa,oa,{value:la,enumerable:!0,configurable:!0,writable:!0}):aa[oa]=la;const ya=(0,fa.$j)((function(e,t){return{showInformationPage:()=>tt(t.router.history,"/account")}}))(ga);r("FGdI");var ba=r("Pbn2");class Ea extends qt.Component{render(){return qt.createElement("span",{className:"anticon custom-icon"},this.renderIcon())}renderIcon(){return"axis"===this.props.type?this.renderAxis():null}renderAxis(){return qt.createElement("svg",{viewBox:"15 15 171 171",xmlns:"http://www.w3.org/2000/svg",className:"custom-icon-axis"},qt.createElement("g",null,qt.createElement("line",{y2:"110.50676",x2:"93",y1:"36.5",x1:"93",strokeLinecap:"null",strokeLinejoin:"null",strokeDasharray:"null",strokeWidth:"14",stroke:"#000000",fill:"none"}),qt.createElement("line",{y2:"170.745738",x2:"67.478044",y1:"103.563212",x1:"67.478044",strokeLinecap:"null",strokeLinejoin:"null",strokeDasharray:"null",strokeWidth:"14",stroke:"#000000",fill:"none",transform:"rotate(47.04828643798828 67.47804260253903,137.15447998046878)"}),qt.createElement("line",{y2:"150.50338",x2:"126",y1:"76.49662",x1:"126",strokeLinecap:"null",strokeLinejoin:"null",strokeDasharray:"null",strokeWidth:"14",stroke:"#000000",fill:"none",transform:"rotate(-90 126.00000000000001,113.50000000000001)"})))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ea,"propTypes",{type:ha().string.isRequired});const va={platformio:r("umR1").Z,aceinna:r("OYSl").Z},Oa=va[getQueryVariable("workspace")]||va.platformio;function wa(e,t){return Oa[e]||t}function ja(e){return Oa.messages[e]||e}function Pa(e,t){return Oa.urls[e]||t}class ka extends qt.Component{render(){return qt.createElement(ca.Z.Footer,null,qt.createElement("center",null,qt.createElement("div",{className:"block"},this.renderQuickLinks()),"platformio"===wa("name")?this.renderPIOCoreBanner():this.renderPoweredByPlatformIO()))}renderQuickLinks(){const e=wa("footerQuickLinks",[]),t=[];return e.forEach(((r,n)=>{t.push(qt.createElement("a",{onClick:()=>this.props.osOpenUrl(r.url)},r.title)),n<e.length-1&&t.push("Â·")})),qt.createElement("ul",{className:"list-inline"},t.map(((e,t)=>qt.createElement("li",{key:t},e))))}renderPIOCoreBanner(){return qt.createElement("div",{className:"block"},"If you enjoy using PlatformIO, please star our projects on GitHub!",qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,qt.createElement(ba.default,{type:"star"})),qt.createElement("li",null,qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://github.com/platformio/platformio-core")},"PlatformIO Core")),qt.createElement("li",null,qt.createElement(ba.default,{type:"star"}))))}renderPoweredByPlatformIO(){return qt.createElement("div",{className:"powered-by-platformio"},qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,"Powered by"),qt.createElement("li",null,qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://platformio.org")},qt.createElement("img",{src:r("Ggwo").Z,height:"38"}))),qt.createElement("li",{className:"pio-company-text"},qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://platformio.org")},qt.createElement("h3",null,"PlatformIO ",qt.createElement("small",null,"Enterprise"))))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ka,"propTypes",{osOpenUrl:ha().func.isRequired});const Ca=(0,fa.$j)(null,{osOpenUrl:ue})(ka);class Ra extends qt.Component{render(){return qt.createElement("img",{src:wa("companyLogoSrc"),height:this.props.height||"200px"})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ra,"propTypes",{width:ha().string,height:ha().string});class Da extends qt.Component{onDidOpen(){this.props.osOpenUrl(window.location.href)}render(){return Qe()?qt.createElement(ut.default,{icon:"arrows-alt",title:"Open in browser",onClick:()=>this.onDidOpen()}):null}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Da,"propTypes",{osOpenUrl:ha().func.isRequired});const Sa=(0,fa.$j)(null,{osOpenUrl:ue})(Da);r("CbT5");var xa=r("RWbP"),Ta=(r("PFYH"),r("Jv8k"));class Ia extends qt.Component{constructor(){super(...arguments),this.state={selectedKeys:[]},this._matchedBadges=[],this.props.connectRouter(this.props.router)}componentDidUpdate(e){this.props.router.route.location.pathname!==e.router.route.location.pathname&&this.setState({selectedKeys:[this.activeRouteKey()]})}componentDidMount(){this.setState({selectedKeys:[this.activeRouteKey()]})}activeRouteKey(){for(const e of this.props.routes.slice(0).reverse())if(e.label&&this.props.router.history.location.pathname.startsWith(e.path))return e.path}getRouteBadgeCount(e){if(!this.props.badges||"/"===e)return 0;for(const t of this.props.badges)if(t.path.startsWith(e)&&!this._matchedBadges.includes(t.path))return this._matchedBadges.push(t.path),t.count;return 0}render(){this._matchedBadges=[];const e=this.props.routes.slice(0).filter((e=>!wa("menuIgnorePatterns",[]).some((t=>t.test(e.path))))).reverse().map((e=>e.label&&this.renderItem(e)));return qt.createElement(Ta.default,{theme:this.props.theme,mode:this.props.mode||"inline",defaultSelectedKeys:[this.props.routes[0].path],selectedKeys:this.state.selectedKeys,onClick:e=>tt(this.props.router.history,e.key)},e.reverse())}renderItem(e){const t=qt.createElement(ba.default,{type:e.icon}),r=qt.createElement("span",{className:"menu-item-label"},e.label),n=e.path?this.getRouteBadgeCount(e.path):0;return n>0?qt.createElement(Ta.default.Item,{key:e.path,title:e.label},qt.createElement(xa.Z,{overflowCount:99,count:n},t," ",r)):qt.createElement(Ta.default.Item,{key:e.path,title:e.label},t,r)}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ia,"propTypes",{router:ha().object.isRequired,routes:ha().arrayOf(ha().object).isRequired,badges:ha().arrayOf(ha().shape({path:ha().string,count:ha().number})),theme:ha().string,mode:ha().string,connectRouter:ha().func.isRequired});const Na=(0,fa.$j)((function(e){return{badges:Tt(e)}}),{connectRouter:e=>m(h,{router:e})})(Ia);class qa extends qt.Component{render(){return qt.createElement(ut.default.Group,{className:"social-buttons"},qt.createElement(ut.default,{icon:"twitter",title:"Follow us on Twitter",onClick:()=>this.props.osOpenUrl(Pa("twitter"))},"Follow Us"),Pa("facebook")?qt.createElement(ut.default,{icon:"facebook",title:"Follow us on Facebook",onClick:()=>this.props.osOpenUrl(Pa("facebook"))}):null,Pa("weibo")?qt.createElement(ut.default,{icon:"weibo",title:"Follow us on Weibo",onClick:()=>this.props.osOpenUrl(Pa("weibo"))}):null,qt.createElement(ut.default,{icon:"linkedin",title:"Follow us on LinkedIn",onClick:()=>this.props.osOpenUrl(Pa("linkedin"))}),qt.createElement(ut.default,{icon:"github",title:"Give Us a star on GitHub",onClick:()=>this.props.osOpenUrl(Pa("github"))}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(qa,"propTypes",{osOpenUrl:ha().func.isRequired});const _a=(0,fa.$j)(null,{osOpenUrl:ue})(qa);function La(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Fa extends qt.Component{render(){return qt.createElement("div",null,!this.props.disableMenu&&qt.createElement(Na,{router:this.context.router,routes:this.props.routes,mode:"horizontal"}),qt.createElement(ua.Z,null,this.props.routes.slice(0).reverse().map((e=>"function"==typeof e.component?qt.createElement(da.Z,{path:e.path,key:e.path,exact:e.exact,component:e.component}):qt.createElement(da.Z,{path:e.path,key:e.path,exact:e.exact,render:()=>e.component})))))}}La(Fa,"contextTypes",{router:ha().object.isRequired}),La(Fa,"propTypes",{routes:ha().arrayOf(ha().object).isRequired,disableMenu:ha().bool});r("nTym");var Aa=r("qu0K"),Ua=(r("cUip"),r("iJl9"));class za extends qt.Component{constructor(){super(...arguments),this.state={loading:!1}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.forgotAccountPassword(t.username,(e=>{this.setState({loading:!1}),e||this.props.showLoginPage()})))}))}render(){const{getFieldDecorator:e}=this.props.form;return qt.createElement(Aa.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},qt.createElement(Aa.Z.Item,null,qt.createElement("br",null),qt.createElement(Ra,null)),qt.createElement(Aa.Z.Item,null,e("username",{rules:[{required:!0,message:"Please input your username or email"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"user",style:{fontSize:13}}),placeholder:"Username or email",size:"large",ref:e=>e.focus()}))),qt.createElement(Aa.Z.Item,null,qt.createElement(ut.default,{loading:this.state.loading,type:"primary",htmlType:"submit",size:"large",className:"block account-submit-button"},"Send reset email"),qt.createElement("div",null,"Need an Account?"," ",qt.createElement("a",{onClick:()=>this.props.showRegistrationPage()},"Create a new one."))))}}function Va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(r),!0).forEach((function(t){Ma(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Va(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ma(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(za,"propTypes",{form:ha().object.isRequired,forgotAccountPassword:ha().func.isRequired,showLoginPage:ha().func.isRequired,showRegistrationPage:ha().func.isRequired,osOpenUrl:ha().func.isRequired});class Za extends qt.Component{render(){const e=Aa.Z.create()(za);return qt.createElement("div",{className:"page-container forgot-page text-center"},qt.createElement(e,this.props))}}Ma(Za,"propTypes",{forgotAccountPassword:ha().func.isRequired,showLoginPage:ha().func.isRequired,showRegistrationPage:ha().func.isRequired});const Ba=(0,fa.$j)((function(e,t){return{showLoginPage:()=>tt(t.history,"/account/login"),showRegistrationPage:()=>tt(t.history,"/account/registration")}}),$a($a({},i),{},{osOpenUrl:ue}))(Za);r("hr7U");var Ya=r("9xET"),Wa=(r("lSEL"),r("UIqZ")),Ga=(r("fv9D"),r("ZPTe"));class Ka extends qt.Component{constructor(){super(...arguments),this.state={loading:!1,providerModalVisible:!1,providerOpenedInExteralBrowser:!1,providerModalOkText:"Continue",providerName:""}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.loginAccount(t.username,t.password,(()=>{this.setState({loading:!1}),this.props.showInformationPage()})))}))}onDidProviderLogin(e){Qe()?this.setState({providerModalVisible:!0,providerName:e}):this.props.loginWithProvider(e)}onDidOkProviderModal(){if(this.state.providerOpenedInExteralBrowser)return this.onDidCloseProviderModal(),void this.props.showInformationPage();this.setState({providerOpenedInExteralBrowser:!0,loading:!0,providerModalOkText:"Redirecting..."}),setTimeout((()=>{this.setState({loading:!1,providerModalOkText:"Finish"})}),5e3),this.props.loginWithProvider(this.state.providerName)}onDidCloseProviderModal(){this.setState({providerModalVisible:!1,providerOpenedInExteralBrowser:!1,loading:!1,providerModalOkText:"Continue"})}render(){return qt.createElement("div",null,qt.createElement(pt.Z,{title:`You are being redirected to ${this.state.providerName.toUpperCase()}`,visible:this.state.providerModalVisible,okText:this.state.providerModalOkText,okButtonProps:{loading:this.state.loading,disabled:this.state.loading},onCancel:this.onDidCloseProviderModal.bind(this),onOk:this.onDidOkProviderModal.bind(this)},qt.createElement("p",null,"You will be redirected to the ",qt.createElement("b",null,this.state.providerName.toUpperCase())," ","provider using your default web browser."),qt.createElement("p",null,"Please provide valid credential details for"," ",this.state.providerName.toUpperCase(),". If everything is OK, you will be redirected back to PlatformIO Home ",qt.createElement("b",null,"in your browser instead of IDE"),"."),qt.createElement("p",null,"The final step is to ",qt.createElement("b",null,"back to IDE")," and close this modal window. You should be logged in automatically now!")),qt.createElement("div",{className:"login-logo"},qt.createElement(Ra,null)),qt.createElement(Ya.default,null,qt.createElement(Ga.default,{xs:11,className:"login-left-side"},this.renderForm()),qt.createElement(Ga.default,{xs:2},qt.createElement(Wa.Z,{type:"vertical"})),qt.createElement(Ga.default,{xs:11,className:"login-right-side"},this.renderProviders())))}renderForm(){const{getFieldDecorator:e}=this.props.form;return qt.createElement(Aa.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},qt.createElement(Aa.Z.Item,null,qt.createElement("h3",null,"Log In with PlatformIO Account")),qt.createElement(Aa.Z.Item,null,e("username",{rules:[{required:!0,message:"Please input your username or email"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"user"}),placeholder:"Username or email",size:"large",ref:e=>e.focus()}))),qt.createElement(Aa.Z.Item,null,e("password",{rules:[{required:!0,message:"Please input your password"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"lock"}),type:"password",placeholder:"Password",size:"large"}))),qt.createElement(Aa.Z.Item,null,qt.createElement(ut.default,{loading:this.state.loading,type:"primary",htmlType:"submit",size:"large",className:"block account-submit-button"},"Log in"),qt.createElement("div",null,qt.createElement("a",{onClick:()=>this.props.showForgotPage()},"Forgot Password?")),qt.createElement("div",null,"Need an Account?"," ",qt.createElement("a",{onClick:()=>this.props.showRegistrationPage()},"Create a new one."))))}renderProviders(){return qt.createElement(Aa.Z,{className:"login-providers"},qt.createElement(Aa.Z.Item,null,qt.createElement("h3",null,"Log In with ...")),qt.createElement(Aa.Z.Item,null,qt.createElement(Ya.default,null,qt.createElement(Ga.default,{md:12},qt.createElement(ut.default,{icon:"github",size:"large",onClick:()=>this.onDidProviderLogin("github")},"GitHub")),qt.createElement(Ga.default,{md:12},qt.createElement(ut.default,{icon:"gitlab",size:"large",onClick:()=>this.onDidProviderLogin("gitlab")},"GitLab")))),qt.createElement(Aa.Z.Item,null,qt.createElement(Ya.default,null,qt.createElement(Ga.default,{md:12},qt.createElement(ut.default,{icon:"rest",size:"large",onClick:()=>this.onDidProviderLogin("bitbucket")},"BitBucket")),qt.createElement(Ga.default,{md:12},qt.createElement(ut.default,{icon:"google",size:"large",onClick:()=>this.onDidProviderLogin("google")},"Google")))),qt.createElement(Aa.Z.Item,null,qt.createElement(Ya.default,null,qt.createElement(Ga.default,{md:12},qt.createElement(ut.default,{icon:"linkedin",size:"large",onClick:()=>this.onDidProviderLogin("linkedin")},"LinkedIn")),qt.createElement(Ga.default,{md:12},qt.createElement(ut.default,{icon:"twitter",size:"large",onClick:()=>this.onDidProviderLogin("twitter")},"Twitter")))))}}function Ha(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(r),!0).forEach((function(t){Qa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ha(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ka,"propTypes",{form:ha().object.isRequired,loginAccount:ha().func.isRequired,loginWithProvider:ha().func.isRequired,showInformationPage:ha().func.isRequired,showRegistrationPage:ha().func.isRequired,showForgotPage:ha().func.isRequired});class Xa extends qt.Component{render(){if(this.props.data&&this.props.data.packages)return this.props.showInformationPage(),null;const e=Aa.Z.create()(Ka);return qt.createElement("div",{className:"page-container login-page text-center"},qt.createElement(e,this.props))}}Qa(Xa,"propTypes",{data:ha().shape({profile:ha().object,packages:ha().array,subscriptions:ha().array}),loginAccount:ha().func.isRequired,loginWithProvider:ha().func.isRequired,showInformationPage:ha().func.isRequired,showRegistrationPage:ha().func.isRequired,showForgotPage:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const eo=(0,fa.$j)((function(e,t){return{data:We(e),showInformationPage:()=>tt(t.history,"/account",null,!0),showRegistrationPage:()=>tt(t.history,"/account/registration"),showForgotPage:()=>tt(t.history,"/account/forgot")}}),Ja(Ja({},i),{},{osOpenUrl:ue}))(Xa);r("nT0F");var to=r("MM9K"),ro=(r("zmYW"),r("DtFj")),no=(r("PAYn"),r("EQeY"));class io extends qt.Component{render(){return qt.createElement("div",null,qt.createElement("div",null,qt.createElement("h1",null,"General"),qt.createElement("dl",{className:"dl-horizontal"},qt.createElement("dt",null,"Logged in as"),qt.createElement("dd",null,this.props.data.profile.username," ("," ",qt.createElement("a",{onClick:()=>this.props.logoutAccount()},"Log out")," )"),qt.createElement("dt",null,"Email"),qt.createElement("dd",null,this.props.data.profile.email),qt.createElement("dt",null,"Full Name"),qt.createElement("dd",null,this.props.data.profile.firstname," ",this.props.data.profile.lastname))),this.renderSubscriptions(),this.renderPackages())}renderSubscriptions(){if(!this.props.data.subscriptions||!this.props.data.subscriptions.length)return;const e=[{title:"Plan",dataIndex:"product_name",key:"product_name"},{title:"Start Date",dataIndex:"begin_at",key:"begin_at",render:e=>qt.createElement(pa.default,{title:new Date(e).toString()},Er().date("F j, Y",new Date(e)))},{title:"End Date",dataIndex:"end_at",key:"end_at",render:e=>qt.createElement(pa.default,{title:parseInt(e)?new Date(1e3*parseInt(e)).toString():""},parseInt(e)?Er().date("F j, Y",parseInt(e)):"-")},{title:"Next Payment",dataIndex:"next_bill_at",key:"next_bill_at",render:e=>qt.createElement(pa.default,{title:new Date(e).toString()},Er().date("F j, Y",new Date(e)))},{title:"State",dataIndex:"status",key:"status",render:e=>qt.createElement(no.Z,{color:"active"==e?"#87d068":"#f5222d"},e)},{title:"Action",key:"action",render:(e,t)=>"active"===t.status&&qt.createElement("span",null,qt.createElement("a",{onClick:()=>this.props.osOpenUrl(t.update_url)},"Edit")," ",qt.createElement(Wa.Z,{type:"vertical"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(t.cancel_url)},"Cancel"))}];return qt.createElement("div",null,qt.createElement("h1",null,"Subscriptions"),qt.createElement(ro.Z,{columns:e,dataSource:this.props.data.subscriptions,pagination:!1}),qt.createElement("br",null))}renderPackages(){return qt.createElement("div",null,qt.createElement("h1",null,"Packages"),this.props.data.packages&&this.props.data.packages.map((e=>qt.createElement("dl",{key:e.name,className:"dl-horizontal"},qt.createElement("dt",null,"Name"),qt.createElement("dd",null,e.name),qt.createElement("dt",null,"Expires"),qt.createElement("dd",null,qt.createElement(pa.default,{title:e.subscription&&(e.subscription.end_at||e.subscription.next_bill_at)?new Date(e.subscription.end_at||e.subscription.next_bill_at).toString():""},e.subscription&&(e.subscription.end_at||e.subscription.next_bill_at)?Er().date("F j, Y",new Date(e.subscription.end_at||e.subscription.next_bill_at)):"never")),qt.createElement("dt",null,"Services"),qt.createElement("dd",null,qt.createElement("ul",null,Object.keys(e).map((t=>t.startsWith("service.")?qt.createElement("li",{key:t},qt.createElement(ba.default,{type:"check"})," "+(e[t]instanceof Object?e[t].title:e[t])):null))))))))}}function so(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?so(Object(r),!0).forEach((function(t){oo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):so(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(io,"propTypes",{data:ha().shape({profile:ha().shape({username:ha().string.isRequired,email:ha().string.isRequired,firstname:ha().string,lastname:ha().string}).isRequired,packages:ha().array,subscriptions:ha().array}).isRequired,logoutAccount:ha().func.isRequired,osOpenUrl:ha().func.isRequired});class lo extends qt.Component{constructor(){super(...arguments),this.props.loadAccountInfo(!0)}render(){return this.props.data&&!this.props.data.packages?(this.props.showLoginPage(),null):qt.createElement("div",{className:"page-container information-page"},this.props.data&&this.props.data.packages?qt.createElement(io,this.props):qt.createElement("div",{className:"text-center",style:{paddingTop:"15px"}},qt.createElement(to.default,{tip:"Loading...",size:"large"})))}}oo(lo,"propTypes",{data:ha().shape({profile:ha().shape({username:ha().string.isRequired,email:ha().string.isRequired,firstname:ha().string,lastname:ha().string}).isRequired,packages:ha().array,subscriptions:ha().array}).isRequired,loadAccountInfo:ha().func.isRequired,logoutAccount:ha().func.isRequired,showLoginPage:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const co=(0,fa.$j)((function(e,t){return{data:We(e),showLoginPage:()=>tt(t.history,"/account/login",null,!0)}}),ao(ao({},i),{},{osOpenUrl:ue}))(lo);class po extends qt.Component{constructor(){super(...arguments),this.state={loading:!1}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.registerAccount(t.username,t.email,t.firstname,t.lastname,t.password,(e=>{this.setState({loading:!1}),e||this.props.showLoginPage()})))}))}render(){const{getFieldDecorator:e,getFieldValue:t}=this.props.form;return qt.createElement(Aa.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},qt.createElement(Aa.Z.Item,null,qt.createElement("br",null),qt.createElement(Ra,null)),qt.createElement(Aa.Z.Item,null,e("username",{rules:[{required:!0,pattern:"^[a-z\\d](?:[a-z\\d]|-(?=[a-z\\d])){3,38}$",message:"Please input valid username. Must contain at least 4 characters including single hyphens, and cannot begin or end with a hyphen"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"user",style:{fontSize:13}}),placeholder:"Username",ref:e=>e.focus()}))),qt.createElement(Aa.Z.Item,null,e("email",{rules:[{type:"email",required:!0,message:"Please input valid email"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"mail",style:{fontSize:13}}),placeholder:"Email",ref:e=>e.focus()}))),qt.createElement(Aa.Z.Item,null,e("firstname",{rules:[{required:!0,message:"Please input last name"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"profile",style:{fontSize:13}}),placeholder:"First name",ref:e=>e.focus()}))),qt.createElement(Aa.Z.Item,null,e("lastname",{rules:[{required:!0,message:"Please input first name"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"profile",style:{fontSize:13}}),placeholder:"Last Name",ref:e=>e.focus()}))),qt.createElement(Aa.Z.Item,null,e("password",{rules:[{required:!0,pattern:"^(?=.*[a-z])(?=.*\\d).{8,}$",message:"Please input valid password. Must contain at least 8 characters including a number and a lowercase letter"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Password"}))),qt.createElement(Aa.Z.Item,null,e("confirmPassword",{rules:[{required:!0,message:"Please confirm password"},(e,r)=>r&&t("password")!==r?Promise.reject("The two passwords that you entered do not match"):Promise.resolve()]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Confirm Password"}))),qt.createElement(Aa.Z.Item,null,qt.createElement(ut.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Create Your PIO Account"),qt.createElement("div",null,"Already have an account?"," ",qt.createElement("a",{onClick:()=>this.props.showLoginPage()},"Log in."))))}}function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(r),!0).forEach((function(t){ho(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ho(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(po,"propTypes",{form:ha().object.isRequired,registerAccount:ha().func.isRequired,showLoginPage:ha().func.isRequired,osOpenUrl:ha().func.isRequired});class fo extends qt.Component{render(){const e=Aa.Z.create()(po);return qt.createElement("div",{className:"page-container registration-page text-center"},qt.createElement(e,this.props))}}ho(fo,"propTypes",{registerAccount:ha().func.isRequired,showLoginPage:ha().func.isRequired});const go=(0,fa.$j)((function(e,t){return{showLoginPage:()=>tt(t.history,"/account/login")}}),mo(mo({},i),{},{osOpenUrl:ue}))(fo);class yo extends qt.Component{constructor(){super(...arguments),this.state={loading:!1}}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.changeAccountPassword(t.passwordOld,t.passwordNew,(()=>{this.setState({loading:!1})})))}))}render(){const{getFieldDecorator:e}=this.props.form;return qt.createElement("div",{className:"text-left"},qt.createElement("div",{className:"lead"},"Change your password or recover your current one."),qt.createElement(Aa.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},qt.createElement(Aa.Z.Item,null,e("passwordOld",{rules:[{required:!0,message:"Please input your current password"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Current Password"}))),qt.createElement(Aa.Z.Item,null,e("passwordNew",{rules:[{required:!0,pattern:"^(?=.*[a-z])(?=.*\\d).{8,}$",message:"Please input valid new password. Must contain at least 8 characters including a number and a lowercase letter"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"New Password"}))),qt.createElement(Aa.Z.Item,null,qt.createElement(Ya.default,null,qt.createElement(Ga.default,{xs:12,className:"text-left"},qt.createElement("a",{onClick:()=>this.props.showForgotPage()},"Forgot your password?")),qt.createElement(Ga.default,{xs:12},qt.createElement(ut.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Save changes"))))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(yo,"propTypes",{form:ha().object.isRequired,changeAccountPassword:ha().func.isRequired,showForgotPage:ha().func.isRequired});class bo extends qt.Component{render(){if(!this.props.userLogged)return this.props.showLoginPage(),null;const e=Aa.Z.create()(yo);return qt.createElement("div",{className:"page-container password-page"},qt.createElement(e,this.props))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(bo,"propTypes",{userLogged:ha().bool,changeAccountPassword:ha().func.isRequired,showLoginPage:ha().func.isRequired});const Eo=(0,fa.$j)((function(e,t){return{userLogged:Ge(e),showLoginPage:()=>tt(t.history,"/account/login",null,!0),showForgotPage:()=>tt(t.history,"/account/forgot")}}),i)(bo);class vo extends qt.Component{constructor(){super(...arguments),this.state={loading:!1}}componentDidMount(){this.props.form.setFieldsValue({username:this.props.data.profile.username,email:this.props.data.profile.email,firstname:this.props.data.profile.firstname,lastname:this.props.data.profile.lastname})}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.updateProfile(t.username,t.email,t.firstname,t.lastname,t.currentPassword,(()=>{this.setState({loading:!1}),this.props.form.resetFields("currentPassword")})))}))}render(){const{getFieldDecorator:e}=this.props.form;return qt.createElement("div",{className:"text-left"},qt.createElement("div",{className:"lead"},"Update your profile."),qt.createElement(Aa.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},qt.createElement(Aa.Z.Item,null,e("username",{rules:[{required:!0,pattern:"^[a-z\\d](?:[a-z\\d]|-(?=[a-z\\d])){3,38}$",message:"Please input valid username. Must contain at least 4 characters including single hyphens, and cannot begin or end with a hyphen"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"user",style:{fontSize:13}}),placeholder:"Username",ref:e=>e.focus()}))),qt.createElement(Aa.Z.Item,null,e("email",{rules:[{type:"email",required:!0,message:"Please input valid email"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"mail",style:{fontSize:13}}),placeholder:"Email",ref:e=>e.focus()}))),qt.createElement(Aa.Z.Item,null,e("firstname",{rules:[{required:!0,message:"Please input last name"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"profile",style:{fontSize:13}}),placeholder:"First name",ref:e=>e.focus()}))),qt.createElement(Aa.Z.Item,null,e("lastname",{rules:[{required:!0,message:"Please input first name"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"profile",style:{fontSize:13}}),placeholder:"Last Name",ref:e=>e.focus()}))),qt.createElement(Aa.Z.Item,null,e("currentPassword",{rules:[{required:!0,message:"Please input your current password"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Current Password"}))),qt.createElement(Aa.Z.Item,null,qt.createElement(Ya.default,null,qt.createElement(Ga.default,null,qt.createElement(ut.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Save changes"))))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(vo,"propTypes",{data:ha().shape({profile:ha().shape({username:ha().string.isRequired,email:ha().string.isRequired,firstname:ha().string,lastname:ha().string}).isRequired}).isRequired,form:ha().object.isRequired,updateProfile:ha().func.isRequired});class Oo extends qt.Component{render(){if(!this.props.userLogged)return this.props.showLoginPage(),null;const e=Aa.Z.create()(vo);return qt.createElement("div",{className:"page-container profile-page"},qt.createElement(e,this.props))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Oo,"propTypes",{data:ha().shape({profile:ha().shape({username:ha().string.isRequired,email:ha().string.isRequired,firstname:ha().string,lastname:ha().string}).isRequired}),userLogged:ha().bool,updateProfile:ha().func.isRequired,showLoginPage:ha().func.isRequired});const wo=(0,fa.$j)((function(e,t){return{data:We(e),userLogged:Ge(e),showLoginPage:()=>tt(t.history,"/account/login",null,!0)}}),i)(Oo);r("pJsf");var jo=r("g4D/"),Po=(r("8YFG"),r("ATwu")),ko=r("sxGJ"),Co=r.n(ko);class Ro extends qt.Component{constructor(){super(...arguments),this.state={loading:!1},this._clipboard=null}componentDidMount(){this._clipboard=new(Co())(".copy-token"),this._clipboard.on("success",(()=>F.Z.success("Token has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}onDidSubmit(e){e.preventDefault(),this.props.form.validateFields(((e,t)=>{e||(this.setState({loading:!0}),this.props.showAccountToken(t.password,t.regenerate,(()=>{this.setState({loading:!1})})))}))}render(){const{getFieldDecorator:e}=this.props.form;return qt.createElement("div",{className:"text-left"},qt.createElement(Po.Z,{showIcon:!0,message:"Personal Authentication Token",className:"block",description:qt.createElement("div",null,"It is intended for"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/ci/index.html")},"Continuous Integration")," ","systems,"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/plus/pio-remote.html")},"Remote Development")," ","operations when you can not authenticate manually.",qt.createElement("div",null,"PlatformIO handles ",qt.createElement("b",null,"Personal Authentication Token")," from an environment variable"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/envvars.html#envvar-PLATFORMIO_AUTH_TOKEN")},"PLATFORMIO_AUTH_TOKEN"),"."))}),qt.createElement(Aa.Z,{onSubmit:this.onDidSubmit.bind(this),className:"account-form"},qt.createElement(Aa.Z.Item,null,e("password",{rules:[{required:!0,message:"Please input your password"}]})(qt.createElement(Ua.default,{prefix:qt.createElement(ba.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Password"}))),qt.createElement(Aa.Z.Item,null,qt.createElement(Ya.default,null,qt.createElement(Ga.default,{xs:8,className:"text-left"},e("regenerate")(qt.createElement(jo.default,null,"Regenerate"))),qt.createElement(Ga.default,{xs:16},qt.createElement(ut.default,{loading:this.state.loading,type:"primary",htmlType:"submit",className:"block account-submit-button"},"Show Token")))),qt.createElement(Aa.Z.Item,null,this.props.token&&this.renderToken())))}renderToken(){return qt.createElement("div",null,qt.createElement(Wa.Z,null,"Token"),qt.createElement(Ua.default,{disabled:!0,size:"large",style:{width:"100%"},addonAfter:qt.createElement("a",{className:"copy-token","data-clipboard-text":this.props.token},qt.createElement(ba.default,{type:"copy"})),defaultValue:this.props.token}))}}function Do(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(r),!0).forEach((function(t){xo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Do(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ro,"propTypes",{form:ha().object.isRequired,token:ha().string,showAccountToken:ha().func.isRequired,osOpenUrl:ha().func.isRequired});class To extends qt.Component{render(){if(!this.props.userLogged)return this.props.showLoginPage(),null;const e=Aa.Z.create()(Ro);return qt.createElement("div",{className:"page-container token-page"},qt.createElement(e,this.props))}}xo(To,"propTypes",{userLogged:ha().bool,token:ha().string,showAccountToken:ha().func.isRequired,showLoginPage:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const Io=[{path:"/account",icon:"info-circle-o",label:"Information",component:co},{path:"/account/login",component:eo},{path:"/account/registration",component:go},{path:"/account/forgot",component:Ba},{path:"/account/profile",icon:"user",label:"Profile",component:wo},{path:"/account/password",icon:"lock",label:"Password",component:Eo},{path:"/account/token",icon:"key",label:"Token",component:(0,fa.$j)((function(e,t){return{userLogged:Ge(e),token:Ke(e),showLoginPage:()=>tt(t.history,"/account/login",null,!0)}}),So(So({},i),{},{osOpenUrl:ue}))(To)}];class No extends qt.Component{render(){return qt.createElement("section",{className:"account-module"},qt.createElement(Fa,{routes:Io,disableMenu:!this.props.userLogged}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(No,"propTypes",{userLogged:ha().bool});const qo=(0,fa.$j)((function(e){return{userLogged:Ge(e)}}))(No);function _o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Lo extends qt.Component{constructor(){super(...arguments),this.state={data:null,filterValue:this.props.defaultFilter,dataFilters:null,dataSorters:null},this.props.items&&(this.state.data=this.normalizeTableData(this.props.items))}componentDidMount(){this._searchInputElement&&this._searchInputElement.focus()}onDidExpand(){this._clipboard=new(Co())(".copy-board-id"),this._clipboard.on("success",(()=>F.Z.success("Board ID has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}componentDidUpdate(){!this.state.data&&this.props.items&&this.setState({data:this.normalizeTableData(this.props.items)})}isCertified(e){return!(!(t=e).platform||"aceinna_imu"!==t.platform.name)||["riscv_gap","sifive"].includes(e.platform.name);var t}normalizeTableData(e){if(!e)return e;let t=e.slice(0);return this.state.filterValue&&(e=it(e,this.state.filterValue,(e=>[e.vendor,e.id,e.name,e.mcu,JSON.stringify(e.platforms),JSON.stringify(e.frameworks)].join(" ")))),t=e.map((e=>(e.frameworks=e.frameworks.sort(((e,t)=>nt(e.name.toUpperCase(),t.name.toUpperCase()))),e.extra=["test"],this.isCertified(e)&&e.extra.push("certified"),e.debug&&(e.extra.push("debug-external"),this.hasOnboardDebug(e.debug)&&e.extra.push("debug-onboard")),(e.connectivity||[]).some((e=>Lo.IoTConnectivity.includes(e)))&&e.extra.push("iot"),e))),this.state.filterValue?t:t.sort(((e,t)=>nt(e.name.toUpperCase(),t.name.toUpperCase()))).sort(((e,t)=>{const r=e.extra.includes("certified"),n=t.extra.includes("certified");return r&&!n?-1:!r&&n?1:0}))}onFilterChange(e){this.setState({filterValue:e})}onDidFilter(){this.setState({data:this.normalizeTableData(this.props.items)}),this.props.onFilter&&this.props.onFilter(this.state.filterValue)}onDidTableChange(e,t,r){this.setState({dataFilters:t,dataSorters:r})}onDidClearDataFiltersAndSorters(){this.setState({dataFilters:null,dataSorters:null}),this.onDidFilter()}onToggleExtraFilter(e){const t=this.state.dataFilters||{};t.extra=t.extra||[];const r=t.extra.indexOf(e);-1!==r?t.extra.splice(r,1):t.extra.push(e),this.setState({dataFilters:t})}humanizeMemorySize(e){return Er().filesize(e,1024,e%1024==0||e<1024?0:1)}hasOnboardDebug(e){if(!e||!e.tools)return!1;for(const t of Object.keys(e.tools))if(e.tools[t].onboard)return!0;return!1}getVendorFilters(e){let t=[];return e.forEach((e=>{t.includes(e.vendor)||t.push(e.vendor)})),t=t.map((e=>({value:e,text:e}))),t.sort(((e,t)=>nt(e.value.toUpperCase(),t.value.toUpperCase())))}getPlatformFilters(e){const t=[],r=new Map;for(var[n,i]of(e.map((e=>r.set(e.platform.name,e.platform.title))),r.entries()))t.push({value:n,text:i});return t.sort(((e,t)=>nt(e.value.toUpperCase(),t.value.toUpperCase())))}getFrameworkFilters(e){const t=[],r=new Map;for(var[n,i]of(e.map((e=>e.frameworks.map((e=>r.set(e.name,e.title))))),r.entries()))t.push({value:n,text:i});return t.sort(((e,t)=>nt(e.value.toUpperCase(),t.value.toUpperCase())))}isExtraFilterEnabled(e){const t=this.state.dataFilters||{};return t&&t.extra&&t.extra.includes(e)}getDataTotal(e){if(!e)return;let t=0,r=null;const n=this.state.dataFilters||{};return e.forEach((e=>{for(const t of Object.keys(n))if(n[t]&&n[t].length)switch(t){case"frameworks":if(r=e.frameworks.map((e=>e.name)),!n[t].find((e=>r.includes(e))))return;break;case"extra":if(!n[t].every((t=>e.extra.includes(t))))return;break;case"platform":if(!n[t].includes(e.platform.name))return;break;case"name":if(!n[t].includes(e.vendor))return;break;default:if(!n[t].includes(e[t]))return}t++})),t}getTableColumns(e){const t=this.state.dataFilters||{},r=this.state.dataSorters||{},n=[{title:"Name",dataIndex:"name",filteredValue:t.name||null,filters:this.getVendorFilters(e),onFilter:(e,t)=>t.vendor===e,sorter:(e,t)=>nt(e.name.toUpperCase(),t.name.toUpperCase()),sortOrder:"name"===r.columnKey&&r.order,render:(e,t)=>qt.createElement("a",{onClick:()=>this.props.osOpenUrl(`http://docs.platformio.org/page/boards/${t.platform.name}/${t.id}.html`)},t.name)},{title:"Platform",key:"platform",filteredValue:t.platform||null,filters:this.getPlatformFilters(e),onFilter:(e,t)=>t.platform.name===e,render:(e,t)=>qt.createElement("a",{onClick:()=>this.props.showPlatform(t.platform.name)},t.platform.title)},{title:"Frameworks",key:"frameworks",filteredValue:t.frameworks||null,filters:this.getFrameworkFilters(e),onFilter:(e,t)=>t.frameworks.map((e=>e.name)).includes(e),render:(e,t)=>qt.createElement("span",null,t.frameworks.map(((e,r)=>qt.createElement("span",{key:e.title},qt.createElement("a",{onClick:()=>this.props.showFramework(e.name)},e.title),t.frameworks.length>r+1?", ":""))))},{title:"MCU",dataIndex:"mcu",sorter:(e,t)=>nt(e.mcu.toUpperCase(),t.mcu.toUpperCase()),sortOrder:"mcu"===r.columnKey&&r.order},{title:"FRQ",key:"fcpu",className:"text-nowrap",sorter:(e,t)=>nt(e.fcpu,t.fcpu),sortOrder:"fcpu"===r.columnKey&&r.order,render:(e,t)=>qt.createElement("span",null,Math.round(t.fcpu/1e6)," Mhz")},{title:"ROM",key:"rom",className:"text-nowrap",sorter:(e,t)=>nt(e.rom,t.rom),sortOrder:"rom"===r.columnKey&&r.order,render:(e,t)=>this.humanizeMemorySize(t.rom)},{title:"RAM",key:"ram",className:"text-nowrap",sorter:(e,t)=>nt(e.ram,t.ram),sortOrder:"ram"===r.columnKey&&r.order,render:(e,t)=>this.humanizeMemorySize(t.ram)},{title:"Extra",key:"extra",className:"board-extra-column",filters:[{text:"Certified Board",value:"certified"},{text:"IoT-enabled",value:"iot"},{text:"Unit Testing",value:"test"},{text:"Debug: On-board",value:"debug-onboard"},{text:"Debug: External",value:"debug-external"}],filteredValue:t.extra||null,onFilter:(e,t)=>((this.state.dataFilters||{}).extra||[]).every((e=>t.extra.includes(e))),render:(e,t)=>this.renderExtraFeatures(t)}];return this.props.excludeColumns?n.filter((e=>!this.props.excludeColumns.includes(e.title))):n}render(){const e=this.state.data;return qt.createElement("div",{className:"board-explorer"},!this.props.noHeader&&this.renderHeader(e),qt.createElement(Ua.default.Search,{className:"block",enterButton:!0,placeholder:ja("Search board..."),defaultValue:this.state.filterValue||this.props.defaultFilter,size:"large",onChange:e=>this.onFilterChange(e.target.value),onSearch:this.onDidFilter.bind(this),ref:e=>this._searchInputElement=e}),!e&&qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})),e&&0===e.length&&qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Results")),e&&e.length>0&&qt.createElement("div",null,this.renderToolbar(),this.renderTable(e)))}renderHeader(e){const t=this.getDataTotal(e);return qt.createElement("div",null,qt.createElement("h1",null,"Board Explorer ",qt.createElement(xa.Z,{overflowCount:1e5,count:t})),qt.createElement(Po.Z,{className:"block",showIcon:!0,message:this.renderNotifications()}))}renderNotifications(){return qt.createElement("div",null,"PlatformIO currently supports over 800 boards from leading manufacturers, and we are constantly adding new ones.",qt.createElement("br",null),"You can be part of the process by letting us know what board you wish to see supported next, by"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://github.com/platformio/platformio-core/issues")},"submitting a feature request"),".")}renderToolbar(){return qt.createElement("div",{className:"block text-right"},qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,qt.createElement(ut.default,{icon:"filter",onClick:this.onDidClearDataFiltersAndSorters.bind(this)},"Clear filters")),qt.createElement("li",null,"Â "),qt.createElement("li",null,qt.createElement(ut.default.Group,null,qt.createElement(ut.default,{type:"primary",icon:"safety",ghost:!this.isExtraFilterEnabled("certified"),onClick:()=>this.onToggleExtraFilter("certified")},"Certified"),qt.createElement(ut.default,{type:"primary",icon:"cloud-o",ghost:!this.isExtraFilterEnabled("iot"),onClick:()=>this.onToggleExtraFilter("iot")},"IoT-enabled"))),qt.createElement("li",null,"Debug: "),qt.createElement("li",null,qt.createElement(ut.default.Group,null,qt.createElement(ut.default,{type:"primary",icon:"tool",ghost:!this.isExtraFilterEnabled("debug-onboard"),onClick:()=>this.onToggleExtraFilter("debug-onboard")},"On-board"),qt.createElement(ut.default,{type:"primary",icon:"tool",ghost:!this.isExtraFilterEnabled("debug-external"),onClick:()=>this.onToggleExtraFilter("debug-external")},"External")))))}renderTable(e){return qt.createElement(ro.Z,{size:"middle",rowKey:"id",pagination:{defaultPageSize:10,pageSizeOptions:["10","15","30","50","100","1000"],size:"default",showSizeChanger:!0,hideOnSinglePage:!0},expandedRowRender:this.renderExpandedRow.bind(this),columns:this.getTableColumns(e),dataSource:e,onExpand:this.onDidExpand.bind(this),onChange:this.onDidTableChange.bind(this)})}renderExpandedRow(e){return qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,"ID:"," ",qt.createElement("a",{className:"copy-board-id","data-clipboard-text":e.id},qt.createElement(pa.default,{title:"Click for copy Board ID to clipboard"},qt.createElement("code",null,e.id)," ",qt.createElement(ba.default,{type:"copy"})))),e.connectivity&&qt.createElement("li",null,"Â·"),e.connectivity&&qt.createElement("li",null,qt.createElement(ba.default,{type:"global"})," Connectivity:"," ",(e.connectivity||["-"]).map((e=>e.toLowerCase())).join(", ")))}renderExtraFeatures(e){return qt.createElement("span",null,e.extra.includes("test")&&qt.createElement(pa.default,{title:"Unit Testing"}," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/plus/unit-testing.html")}," ",qt.createElement(ba.default,{type:"api"})," ")," "),e.extra.some((e=>e.startsWith("debug-")))&&qt.createElement(pa.default,{title:"Debug: "+(e.extra.some((e=>"debug-onboard"===e))?"On-board":"External")}," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(`https://docs.platformio.org/page/boards/${e.platform.name}/${e.id}.html#debugging`)}," ",qt.createElement(ba.default,{type:"tool"})," ")," "),e.extra.includes("iot")&&qt.createElement(pa.default,{title:"IoT-enabled"}," ",qt.createElement("a",null,qt.createElement(ba.default,{type:"cloud-o"}))," "),e.extra.includes("certified")&&qt.createElement(pa.default,{title:"Certified"}," ",qt.createElement("a",null," ",qt.createElement(ba.default,{type:"safety"})," ")," "),qt.createElement(pa.default,{title:"Get Now!"}," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(e.url)}," ",qt.createElement(ba.default,{type:"shopping-cart"})," ")," "))}}_o(Lo,"IoTConnectivity",["wifi","bluetooth","ethernet","cellular"]),_o(Lo,"propTypes",{items:ha().arrayOf(ha().shape({id:ha().string.isRequired,name:ha().string.isRequired,url:ha().string.isRequired,vendor:ha().string.isRequired,platform:ha().shape({name:ha().string.isRequired,title:ha().string.isRequired}).isRequired,frameworks:ha().arrayOf(ha().shape({name:ha().string.isRequired,title:ha().string.isRequired})).isRequired,mcu:ha().string.isRequired,fcpu:ha().number.isRequired,rom:ha().number.isRequired,ram:ha().number.isRequired})),noHeader:ha().bool,excludeColumns:ha().arrayOf(ha().string),defaultFilter:ha().string,onFilter:ha().func,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,osOpenUrl:ha().func.isRequired});class Fo extends qt.Component{constructor(){super(...arguments),this.props.items||this.props.loadBoards()}render(){return qt.createElement("section",{className:"page-container"},qt.createElement(Lo,{items:this.props.items,defaultFilter:this.props.filterValue,onFilter:this.props.setFilter,showPlatform:this.props.showPlatform,showFramework:this.props.showFramework,osOpenUrl:this.props.osOpenUrl}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Fo,"propTypes",{items:ha().arrayOf(ha().object),filterValue:ha().string,setFilter:ha().func.isRequired,loadBoards:ha().func.isRequired,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const Ao=(0,fa.$j)((function(e,t){return{items:gi(e),filterValue:ri(e),showPlatform:e=>tt(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>tt(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,c.DE)(Object.assign({},o,{osOpenUrl:ue,setFilter:t=>e(T(Hn,t))}),e)}))(Fo);class Uo extends qt.Component{constructor(){super(...arguments),this.props.loadLogicalDevices()}componentDidMount(){this._clipboard=new(Co())(".copy-path"),this._clipboard.on("success",(()=>F.Z.success("Device path has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}getTableColumns(){return[{title:"Path",dataIndex:"path",className:"text-nowrap",sorter:(e,t)=>nt(e.path.toUpperCase(),t.path.toUpperCase()),render:(e,t)=>qt.createElement("span",null,t.path," ",qt.createElement(pa.default,{title:"Click for copy a device path to clipboard"},qt.createElement("a",{className:"copy-path","data-clipboard-text":t.path},qt.createElement(ba.default,{type:"copy"}))))},{title:"Name",dataIndex:"name",sorter:(e,t)=>nt(e.name.toUpperCase(),t.name.toUpperCase())}]}render(){return qt.createElement("div",{className:"page-container"},qt.createElement("div",{className:"block text-right"},qt.createElement(ut.default,{ghost:!0,type:"primary",icon:"reload",disabled:!this.props.items,loading:!this.props.items,onClick:()=>this.props.loadLogicalDevices(!0)},"Refresh")),this.renderList())}renderList(){return this.props.items?0===this.props.items.length?qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Items")):qt.createElement(ro.Z,{rowKey:"path",dataSource:this.props.items,columns:this.getTableColumns(),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}}):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Uo,"propTypes",{items:ha().arrayOf(ha().object.isRequired),loadLogicalDevices:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const zo=(0,fa.$j)((function(e){return{items:Rt(e)}}),{loadLogicalDevices:Oe,osOpenUrl:ue})(Uo);function Vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(r),!0).forEach((function(t){Mo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Zo extends qt.Component{constructor(){super(...arguments),this.props.loadMDNSDevices()}componentDidMount(){this._clipboard=new(Co())(".copy-name"),this._clipboard.on("success",(()=>F.Z.success("A name has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}ip2int(e){return e.split(".").reduce(((e,t)=>(e<<8)+parseInt(t,10)),0)>>>0}getTableColumns(){return[{title:"Name",dataIndex:"name",className:"text-nowrap",sorter:(e,t)=>nt(e.name.toUpperCase(),t.name.toUpperCase()),render:(e,t)=>qt.createElement("span",null,t.name," ",qt.createElement(pa.default,{title:"Click for copy a name to clipboard"},qt.createElement("a",{className:"copy-name","data-clipboard-text":t.name},qt.createElement(ba.default,{type:"copy"}))))},{title:"Type",dataIndex:"type",className:"text-word-break",sorter:(e,t)=>nt(e.type.toUpperCase(),t.type.toUpperCase())},{title:"IP",dataIndex:"ip",sorter:(e,t)=>this.ip2int(e.ip)>this.ip2int(t.ip)},{title:"Port",dataIndex:"port",sorter:(e,t)=>e.port>t.port}]}render(){return qt.createElement("div",{className:"page-container"},qt.createElement("div",{className:"block text-right"},qt.createElement(ut.default,{ghost:!0,type:"primary",icon:"reload",disabled:!this.props.items,loading:!this.props.items,onClick:()=>this.props.loadMDNSDevices(!0)},"Refresh")),this.renderList())}renderList(){return this.props.items?0===this.props.items.length?qt.createElement("div",null,qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Items")),qt.createElement("div",{className:"text-center"},qt.createElement("br",null),"If you have Network Firewall, please enable incoming connections for PlatformIO Core (mDNS discovery service)")):qt.createElement(ro.Z,{rowKey:"name",dataSource:this.props.items,columns:this.getTableColumns(),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}}):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}}Mo(Zo,"propTypes",{items:ha().arrayOf(ha().object.isRequired),loadMDNSDevices:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const Bo=(0,fa.$j)((function(e){return{items:Ht(e)}}),$o($o({},s),{},{osOpenUrl:ue}))(Zo);function Yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(r),!0).forEach((function(t){Go(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Go(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ko extends qt.Component{constructor(){super(...arguments),this.props.loadSerialDevices()}componentDidMount(){this._clipboard=new(Co())(".copy-port"),this._clipboard.on("success",(()=>F.Z.success("Port name has been copied to clipboard!")))}componentWillUnmount(){this._clipboard&&this._clipboard.destroy()}getTableColumns(){return[{title:"Port",dataIndex:"port",className:"text-nowrap",sorter:(e,t)=>nt(e.port.toUpperCase(),t.port.toUpperCase()),render:(e,t)=>qt.createElement("span",null,t.port," ",qt.createElement(pa.default,{title:"Click for copy a port name to clipboard"},qt.createElement("a",{className:"copy-port","data-clipboard-text":t.port},qt.createElement(ba.default,{type:"copy"}))))},{title:"Description",dataIndex:"description",className:"text-word-break",sorter:(e,t)=>nt(e.description.toUpperCase(),t.description.toUpperCase())},{title:"Hardware",dataIndex:"hwid",className:"text-nowrap",sorter:(e,t)=>nt(e.hwid.toUpperCase(),t.hwid.toUpperCase())}]}render(){return qt.createElement("div",{className:"page-container"},qt.createElement(Po.Z,{className:"block",showIcon:!0,message:qt.createElement("div",null,"PlatformIO automatically detects upload port by default. You can configure a custom port using ",qt.createElement("code",null,"upload_port")," option in"," ",qt.createElement("b",null,"platformio.ini"),"."," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf/section_env_upload.html#upload-port")},"More details..."))}),qt.createElement("div",{className:"block text-right"},qt.createElement(ut.default,{ghost:!0,type:"primary",icon:"reload",disabled:!this.props.items,loading:!this.props.items,onClick:()=>this.props.loadSerialDevices(!0)},"Refresh")),this.renderList())}renderList(){return this.props.items?0===this.props.items.length?qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Items")):qt.createElement(ro.Z,{rowKey:"port",dataSource:this.props.items,columns:this.getTableColumns(),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}}):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}}Go(Ko,"propTypes",{items:ha().arrayOf(ha().object.isRequired),loadSerialDevices:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const Ho=[{path:"/device",icon:"usb",label:"Serial",component:(0,fa.$j)((function(e){return{items:Gt(e)}}),Wo(Wo({},s),{},{osOpenUrl:ue}))(Ko)},{path:"/device/logical",icon:"hdd",label:"Logical",component:zo},{path:"/device/mdns",icon:"wifi",label:"Multicast DNS",component:Bo}];class Jo extends qt.Component{render(){return qt.createElement("section",{className:"device-module"},qt.createElement(Fa,{routes:Ho}))}}class Qo extends qt.Component{renderCoreVersion(){return this.props.coreVersion?qt.createElement("code",null,this.props.coreVersion):qt.createElement(to.default,{size:"small"})}render(){return qt.createElement("div",{className:"versions"},qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,"Core"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://docs.platformio.org/page/history.html")},this.renderCoreVersion())),qt.createElement("li",null,"Â·"),qt.createElement("li",null,"Home"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://github.com/platformio/platformio-home/releases")},qt.createElement("code",null,"3.4.1")))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Qo,"propTypes",{coreVersion:ha().string,osOpenUrl:ha().func.isRequired});const Xo=(0,fa.$j)((function(e){return{coreVersion:Et(e,"coreVersion")}}),{osOpenUrl:ue})(Qo);r("ek7I");var el=r("FAat"),tl=(r("8DDU"),r("a3Uq"));class rl extends qt.Component{render(){return qt.createElement(tl.Z,{className:"project-init-carousel",autoplay:!0,autoplaySpeed:3e3},qt.createElement("div",null,qt.createElement(Po.Z,{showIcon:!0,message:"Please wait...",description:qt.createElement("div",null,qt.createElement("div",{className:"block"},"The first initialization requires Internet connection and"," ",qt.createElement("b",null,"may take a while")," (need to install dependent toolchains, frameworks, SDKs)."),qt.createElement("div",null,"Please be patient and let the initialization complete."))})),qt.createElement("div",null,qt.createElement(Po.Z,{showIcon:!0,message:"Project Structure",description:qt.createElement("div",null,qt.createElement("div",{className:"block"},"PlatformIO project consists of 3 main items:"),qt.createElement("ul",null,qt.createElement("li",null,qt.createElement(ba.default,{type:"folder"})," ",qt.createElement("code",null,"lib")," - put here project specific (private) libraries"),qt.createElement("li",null,qt.createElement(ba.default,{type:"folder"})," ",qt.createElement("code",null,"src")," - put your source files in this folder"),qt.createElement("li",null,qt.createElement(ba.default,{type:"file"})," ",qt.createElement("code",null,"platformio.ini")," - project configuration file")))})),qt.createElement("div",null,qt.createElement(Po.Z,{showIcon:!0,message:"platformio.ini",description:qt.createElement("div",null,qt.createElement("div",null,"PlatformIO Project Configuration File:"),qt.createElement("ul",{className:"block list-styled"},qt.createElement("li",null,qt.createElement("code",null,"Generic options")," - development platforms, boards, frameworks"),qt.createElement("li",null,qt.createElement("code",null,"Build options")," - build flags, source filter, extra scripting"),qt.createElement("li",null,qt.createElement("code",null,"Upload options")," - custom port, speed and extra flags"),qt.createElement("li",null,qt.createElement("code",null,"Library options")," - dependencies, extra library storages")),qt.createElement("div",null,qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf.html")},qt.createElement(ba.default,{type:"link"})," Please visit documentation")," ","for the other options and examples."))})),qt.createElement("div",null,qt.createElement(Po.Z,{showIcon:!0,message:"Upload Port",description:qt.createElement("div",null,qt.createElement("div",{className:"block"},"PlatformIO automatically detects upload port by default. You can configure a custom port using ",qt.createElement("code",null,"upload_port")," option in"," ",qt.createElement("b",null,"platformio.ini"),":"),qt.createElement("ul",{className:"block list-styled"},qt.createElement("li",null,qt.createElement("code",null,"upload_port = COM1")," - particular port"),qt.createElement("li",null,qt.createElement("code",null,"upload_port = /dev/ttyUSB*")," - any port that starts with /dev/ttyUSB"),qt.createElement("li",null,qt.createElement("code",null,"upload_port = COM[13]")," - COM1 or COM3.")))})))}}function nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(r),!0).forEach((function(t){sl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(rl,"propTypes",{osOpenUrl:ha().func.isRequired});class al extends qt.Component{constructor(){super(...arguments),this.state={examplePath:null,inProgress:!1}}componentDidUpdate(e){this.props.visible&&!e.items&&this.props.loadProjectExamples()}onDidExample(e){this.setState({examplePath:e})}onDidFinish(){if(!this.state.examplePath)return F.Z.error("Please select an example");this.setState({inProgress:!0}),this.props.importProject(this.state.examplePath,((e,t)=>{this.setState({inProgress:!1}),e||(this.props.addProject(t),this.onDidCancel())}))}onDidCancel(){this.setState({inProgress:!1}),this.props.onCancel()}render(){return qt.createElement(pt.Z,{visible:this.props.visible,className:"project-examples-modal",confirmLoading:this.state.inProgress,width:600,title:"Import Project Example",okText:this.state.inProgress?"Please wait...":"Import",onOk:this.onDidFinish.bind(this),onCancel:this.onDidCancel.bind(this)},this.renderBody())}renderBody(){if(this.state.inProgress)return qt.createElement(rl,{osOpenUrl:this.props.osOpenUrl});if(!this.props.items)return qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}));if(0===this.props.items.length)return this.renderNoExamples();const e=[],t=[];return this.props.items.forEach((r=>{e.includes(r.platform.title)?t.push(r.platform.title):e.push(r.platform.title)})),qt.createElement("div",null,!wa("singleDevPlatform")&&qt.createElement("div",{className:"block"},qt.createElement("p",null,"We use examples provided by"," ",qt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"installed development platforms"),". Please install more platforms to see the new examples."),"Examples already contain pre-configured build environments (boards, flags, etc.). You can edit them later in"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf.html")},'Project Configuration File "platformio.ini"')," ","located in the root of your project."),qt.createElement(el.default,{showSearch:!0,style:{width:"100%"},size:"large",placeholder:"Select an example...",filterOption:(e,t)=>t.key.toLowerCase().includes(e.toLowerCase()),onChange:this.onDidExample.bind(this)},this.props.items.filter((e=>wa("filterProjectExample",(()=>!0))(e))).map((e=>qt.createElement(el.default.OptGroup,{key:`${e.platform.title}-${e.platform.version}`,label:qt.createElement("span",null,qt.createElement(ba.default,{type:"appstore"})," ",e.platform.title," ",t.includes(e.platform.title)?`[#${e.platform.version}]`:"")},e.items.map((t=>qt.createElement(el.default.Option,{key:`${e.platform.title}-${e.platform.version}-${t.name}-${t.description}`,value:t.path},t.name,t.description&&qt.createElement("div",{className:"select-option-extra project-example-description"},t.description)))))))))}renderNoExamples(){return qt.createElement("div",{className:"text-center"},qt.createElement("ul",{className:"block background-message text-center"},qt.createElement("li",null,"No Examples")),qt.createElement("br",null),qt.createElement("div",{className:"block"},"We use examples from installed development platforms. Please install the one of them."),qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,qt.createElement(ut.default,{icon:"download",type:"primary",onClick:()=>this.props.showEmbeddedPlatforms()},"Install Embedded Platform")),qt.createElement("li",null,"or"),qt.createElement("li",null,qt.createElement(ut.default,{icon:"download",type:"primary",onClick:()=>this.props.showDesktopPlatforms()},"Install Desktop Platform"))))}}sl(al,"propTypes",{router:ha().object.isRequired,visible:ha().bool.isRequired,onCancel:ha().func.isRequired,items:ha().array,loadProjectExamples:ha().func.isRequired,addProject:ha().func.isRequired,openProject:ha().func.isRequired,importProject:ha().func.isRequired,osOpenUrl:ha().func.isRequired,showInstalledPlatforms:ha().func.isRequired,showEmbeddedPlatforms:ha().func.isRequired,showDesktopPlatforms:ha().func.isRequired});const ol=(0,fa.$j)((function(e,t){return{items:On(e),showInstalledPlatforms:()=>tt(t.router.history,"/platforms/installed"),showEmbeddedPlatforms:()=>tt(t.router.history,"/platforms/embedded"),showDesktopPlatforms:()=>tt(t.router.history,"/platforms/desktop")}}),il(il({},l),{},{osOpenUrl:ue}))(al);class ll extends qt.Component{constructor(){super(...arguments),this.props.items||this.props.loadBoards()}onDidChange(e){this.props.onChange(this.props.items.find((t=>t.id===e)))}render(){if(!this.props.items)return qt.createElement(to.default,{size:"small"});const e={};return this.props.items.sort(((e,t)=>nt(e.platform.title.toUpperCase(),t.platform.title.toUpperCase()))).forEach((t=>{const r=t.platform.title,n=e[r]||[];n.push(t),e[r]=n})),qt.createElement(el.default,{showSearch:!0,style:{width:"100%"},size:"large",placeholder:`Select a board (${this.props.items.length} available)`,optionFilterProp:"children",filterOption:(e,t)=>"string"==typeof t.props.children&&t.props.children.toLowerCase().includes(e.toLocaleLowerCase()),onChange:this.onDidChange.bind(this)},Object.keys(e).map((t=>qt.createElement(el.default.OptGroup,{key:t,label:qt.createElement("span",null,qt.createElement(ba.default,{type:"appstore"})," ",t)},e[t].sort(((e,t)=>nt(e.name.toUpperCase(),t.name.toUpperCase()))).map((e=>qt.createElement(el.default.Option,{key:e.id,value:e.id},e.name.includes(e.vendor)?e.name:`${e.name} (${e.vendor})`)))))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ll,"propTypes",{items:ha().arrayOf(ha().object),onChange:ha().func.isRequired,loadBoards:ha().func.isRequired});const cl=(0,fa.$j)((function(e){return{items:gi(e)}}),{loadBoards:Xi})(ll);r("JT+3");var pl=r("Y/VR");function ul(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class dl extends qt.Component{constructor(){super(...arguments),this.state={showHidden:!1,pendingMakeDirs:!1,pendingRenameFile:!1,rootDir:null},this.props.loadLogicalDevices()}onDidRefresh(){this.props.resetFSItems(),this.state.rootDir&&this.onDidChangeRoot(this.state.rootDir)}onDidToggleHidden(){this.setState({showHidden:!this.state.showHidden})}onDidToggleFavorite(){this.props.toggleFavoriteFolder(this.state.rootDir)}onRequestCreateFolder(){this.setState({pendingMakeDirs:!this.state.pendingMakeDirs,pendingRenameFile:!1})}onRequestRenameFile(){this.setState({pendingRenameFile:!this.state.pendingRenameFile,pendingMakeDirs:!1})}onDidMakeDirs(e){const t=rr(this.state.rootDir,e.target.value);this.props.osMakeDirs(t),this.props.resetFSItems(),this.onDidChangeRoot(t)}onDidRenameFile(e){const t=rr(nr(this.state.rootDir),e.target.value);this.props.osRenameFile(this.state.rootDir,t),this.props.resetFSItems(),this.onDidChangeRoot(t)}onDidDuplicate(){const e=this.state.rootDir+" copy";this.props.osCopyFile(this.state.rootDir,e),this.props.resetFSItems(),this.onDidChangeRoot(e)}onDidChangeRoot(e){this.setState({rootDir:e,pendingMakeDirs:!1,pendingRenameFile:!1}),this.props.osListDir(e),"directory"===this.props.ask&&this.onDidSelectItem(e)}onDidSelectItem(e){return this.props.onSelect(e)}getRootItems(){return this.props.devices&&(!this.state.rootDir||this.props.osDirItems&&this.props.osDirItems[this.state.rootDir])?this.state.rootDir?this.props.osDirItems[this.state.rootDir].map((([e,t])=>({name:e,isDir:t,path:rr(this.state.rootDir,e)}))):this.props.devices.map((e=>({name:e.name||e.path,path:e.path,isDir:!0}))):null}filterHidden(e){return this.state.showHidden||!e.startsWith(".")}render(){return this.props.devices?qt.createElement("div",{className:"file-explorer"},this.renderToolbar(),qt.createElement(Ya.default,null,qt.createElement(Ga.default,{xs:6,className:"fe-sidebar"},this.renderSidebar()),qt.createElement(Ga.default,{xs:18,className:"fe-tree"},this.renderBreadcrumb(),this.renderRootItems())),(this.state.pendingMakeDirs||this.state.pendingRenameFile)&&qt.createElement(Ya.default,null,qt.createElement(Ga.default,{xs:6}),qt.createElement(Ga.default,{xs:18},qt.createElement(pa.default,{title:"Press Enter to finish..."},this.state.pendingMakeDirs?qt.createElement(Ua.default,{placeholder:"Folder Name",onPressEnter:this.onDidMakeDirs.bind(this),ref:e=>e?e.focus():""}):qt.createElement(Ua.default,{defaultValue:ir(this.state.rootDir),onPressEnter:this.onDidRenameFile.bind(this),ref:e=>e?e.focus():""}))))):qt.createElement("div",{className:"text-center",style:{marginTop:"25px"}},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}renderToolbar(){return qt.createElement("div",{className:"fe-toolbar"},qt.createElement(ut.default.Group,{className:"inline-block"},qt.createElement(ut.default,{icon:"reload",title:"Refresh",onClick:this.onDidRefresh.bind(this)}),qt.createElement(ut.default,{icon:this.state.rootDir&&(this.props.favoriteFolders||[]).includes(this.state.rootDir)?"star":"star-o",title:"Toggle favorite folder",disabled:!this.state.rootDir,onClick:this.onDidToggleFavorite.bind(this)}),qt.createElement(ut.default,{icon:"eye",title:"Show hidden files",ghost:this.state.showHidden,type:this.state.showHidden?"primary":"default",onClick:this.onDidToggleHidden.bind(this)})),qt.createElement(ut.default.Group,{className:"inline-block"},qt.createElement(ut.default,{icon:"folder-add",title:"New folder",disabled:!this.state.rootDir,type:this.state.pendingMakeDirs?"danger":"default",onClick:this.onRequestCreateFolder.bind(this)},this.state.pendingMakeDirs?"Cancel":"New"),qt.createElement(ut.default,{icon:"edit",disabled:!this.state.rootDir,type:this.state.pendingRenameFile?"danger":"default",onClick:this.onRequestRenameFile.bind(this)},this.state.pendingRenameFile?"Cancel":"Rename")),qt.createElement(ut.default.Group,{className:"inline-block"},qt.createElement(ut.default,{icon:"copy",disabled:!this.state.rootDir,onClick:this.onDidDuplicate.bind(this)},"Duplicate"),qt.createElement(ut.default,{icon:"folder-open",disabled:!this.state.rootDir,onClick:()=>this.props.osRevealFile(this.state.rootDir)},"Reveal")))}renderBreadcrumb(){if(!this.state.rootDir)return;const e=[];let t=this.state.rootDir;for(;t;){e.push({path:t,name:ir(t)});const r=nr(t);if(!r||r===t)break;t=r&&r!==t?r:null}return qt.createElement("div",null,qt.createElement(pl.Z,{itemRender:(e,t,r)=>r[r.length-1].path===e.path?qt.createElement("span",null,e.name):qt.createElement("a",{onClick:()=>this.onDidChangeRoot(e.path)},e.name),routes:e.reverse()}),qt.createElement(Wa.Z,null))}renderSidebar(){return qt.createElement("div",null,this.renderSiderbarFavorites(),qt.createElement("b",null,"Places"),qt.createElement("ul",{className:"block"},qt.createElement("li",null,qt.createElement(ba.default,{type:"home"}),qt.createElement("a",{onClick:()=>this.onDidChangeRoot(this.props.homeDir),title:this.props.homeDir},ir(this.props.homeDir))),qt.createElement("li",null,qt.createElement(ba.default,{type:"book"}),qt.createElement("a",{onClick:()=>this.onDidChangeRoot(this.props.projectsDir),title:this.props.projectsDir},"Projects"))),qt.createElement("b",null,"Devices"),qt.createElement("ul",null,this.props.devices.map((e=>qt.createElement("li",{key:e.path},qt.createElement(ba.default,{type:"hdd"}),qt.createElement("a",{onClick:()=>this.onDidChangeRoot(e.path),title:e.name},!N&&e.name?e.name:e.path))))))}renderSiderbarFavorites(){const e=this.props.favoriteFolders||[];let t="";return t=e&&e.length?qt.createElement("ul",null,e.map((e=>qt.createElement("li",{key:e},qt.createElement(ba.default,{type:"star-o"}),qt.createElement("a",{onClick:()=>this.onDidChangeRoot(e),title:e},ir(e)))))):qt.createElement("div",null,qt.createElement("small",null,"Use ",qt.createElement(ba.default,{type:"star-o"})," to add folder")),qt.createElement("div",{className:"block"},qt.createElement("b",null,"Favorites"),t)}renderRootItems(){const e=this.getRootItems();return e?e.length?qt.createElement("div",{className:"fe-root-items"},qt.createElement("ul",null,e.filter((e=>this.filterHidden(e.name))).map((e=>qt.createElement("li",{key:e.path},this.renderRootItem(e)))))):qt.createElement("ul",{className:"background-message text-center",style:{marginTop:"25px"}},qt.createElement("li",null,"No Items")):qt.createElement("div",{className:"text-center",style:{marginTop:"25px"}},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}renderRootItem(e){const t=qt.createElement(ba.default,{type:e.isDir?"folder":"file"});return e.isDir?qt.createElement("span",null,t," ",qt.createElement("a",{onClick:()=>this.onDidChangeRoot(e.path)},e.name)):"directory"!==this.props.ask?qt.createElement("span",null,t," ",qt.createElement("a",{onClick:()=>this.onDidSelectItem(e.path)},e.name)):qt.createElement("span",null,t," ",e.name)}}ul(dl,"propTypes",{ask:ha().string,onSelect:ha().func,devices:ha().arrayOf(ha().shape({path:ha().string,name:ha().string})),osDirItems:ha().object,homeDir:ha().string,projectsDir:ha().string,favoriteFolders:ha().arrayOf(ha().string),loadLogicalDevices:ha().func.isRequired,osListDir:ha().func.isRequired,osMakeDirs:ha().func.isRequired,osRevealFile:ha().func.isRequired,osCopyFile:ha().func.isRequired,osRenameFile:ha().func.isRequired,resetFSItems:ha().func.isRequired,toggleFavoriteFolder:ha().func.isRequired}),ul(dl,"defaultProps",{ask:"directory",onSelect:()=>{}});const ml=(0,fa.$j)((function(e){return{devices:Rt(e),osDirItems:Dt(e),homeDir:Et(e,"homeDir"),projectsDir:Et(e,"projectsDir"),favoriteFolders:Et(e,"favoriteFolders")}}),n)(dl);function hl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(r),!0).forEach((function(t){gl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class yl extends qt.Component{constructor(){super(...arguments),this.state={selectedBoard:null,useArduinoLibs:!1,arduinoProjectDir:null,inProgress:!1}}onDidBoard(e){if(!e.frameworks||!e.frameworks.map((e=>e.name)).includes("arduino"))return this.setState({selectedBoard:null}),F.Z.error(`Board ${e.name} is not compatible with Arduino framework`);this.setState({selectedBoard:e.id})}onDidUseArduinoLibs(e){this.setState({useArduinoLibs:e.target.checked})}onDidArduinoProjectDir(e){this.setState({arduinoProjectDir:e})}onDidFinish(){return this.state.selectedBoard?this.state.arduinoProjectDir?(this.setState({inProgress:!0}),void this.props.importArduinoProject(this.state.selectedBoard,this.state.useArduinoLibs,this.state.arduinoProjectDir,((e,t)=>{this.setState({inProgress:!1}),e||(this.props.addProject(t),this.onDidCancel())}))):F.Z.error("Please select a folder with Arduino project"):F.Z.error("Please select a board")}onDidCancel(){this.setState({inProgress:!1}),this.props.onCancel()}render(){return qt.createElement(pt.Z,{visible:this.props.visible,confirmLoading:this.state.inProgress,width:600,title:"Import Arduino Project",okText:this.state.inProgress?"Please wait...":"Import",onOk:this.onDidFinish.bind(this),onCancel:this.onDidCancel.bind(this)},this.renderBody())}renderBody(){return this.state.inProgress?qt.createElement(rl,{osOpenUrl:this.props.osOpenUrl}):qt.createElement("div",null,qt.createElement("div",{style:{marginBottom:"5px"}},"Please select a board to initialize a project. You can change it later in"," ",qt.createElement("code",null,"platformio.ini")," file which will be created in a project directory:"),qt.createElement("div",{className:"block"},qt.createElement(cl,{onChange:this.onDidBoard.bind(this)})),qt.createElement("div",{className:"block"},qt.createElement(jo.default,{onChange:this.onDidUseArduinoLibs.bind(this),checked:this.state.useArduinoLibs},"Use libraries installed by Arduino IDE",qt.createElement(pa.default,{title:"We highly recommend to use PlatformIO Library Manager"},qt.createElement(ba.default,{type:"question-circle",style:{marginLeft:"5px"}})))),qt.createElement("div",{style:{marginBottom:"5px"}},"Choose a directory with existing Arduino IDE project:"),qt.createElement(ml,{ask:"directory",onSelect:this.onDidArduinoProjectDir.bind(this)}))}}gl(yl,"propTypes",{visible:ha().bool.isRequired,onCancel:ha().func.isRequired,boards:ha().array,addProject:ha().func.isRequired,openProject:ha().func.isRequired,importArduinoProject:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const bl=(0,fa.$j)(null,fl(fl({},l),{},{osOpenUrl:ue}))(yl);function El(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?El(Object(r),!0).forEach((function(t){Ol(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):El(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ol(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class wl extends qt.Component{constructor(){super(...arguments),this.state={selectedFramework:null,useDefaultLocation:!0,frameworks:[],projectLocation:null,inProgress:!1}}onDidBoard(e){const t=e.frameworks||[];this.setState({selectedFramework:t.length?t[0].name:null,frameworks:t})}onDidFramework(e){this.setState({selectedFramework:e})}onDidUseDefaultLocation(e){this.setState({useDefaultLocation:e.target.checked})}onDidProjectLocation(e){this.props.form.resetFields(["isCustomLocation"]),this.setState({projectLocation:e})}onDidFinish(){this.props.form.resetFields(["isCustomLocation"]),this.props.form.validateFields(((e,t)=>{e||(this.setState({inProgress:!0}),this.props.initProject(t.board.id,this.state.selectedFramework,rr(this.state.useDefaultLocation?this.props.projectsDir:this.state.projectLocation,t.name),((e,t)=>{this.setState({inProgress:!1}),e||(this.props.addProject(t),this.onDidCancel(t))})))}))}onDidCancel(e){this.setState({inProgress:!1}),this.props.onCancel(e)}render(){return qt.createElement(pt.Z,{visible:this.props.visible,confirmLoading:this.state.inProgress,width:600,title:"Project Wizard",okText:this.state.inProgress?"Please wait...":"Finish",onOk:this.onDidFinish.bind(this),onCancel:this.onDidCancel.bind(this)},this.renderBody())}renderBody(){if(this.state.inProgress)return qt.createElement(rl,{osOpenUrl:this.props.osOpenUrl});const{getFieldDecorator:e}=this.props.form;return qt.createElement(Aa.Z,{hideRequiredMark:!0},qt.createElement("div",{className:"block"},"This wizard allows you to ",qt.createElement("b",null,"create new")," PlatformIO project or"," ",qt.createElement("b",null,"update existing"),'. In the last case, you need to uncheck "Use default location" and specify path to existing project.'),qt.createElement(Aa.Z.Item,{label:"Name",labelCol:{span:4},wrapperCol:{span:20}},e("name",{rules:[{required:!0,whitespace:!0,pattern:/^[a-z\d\_\-\. ]+$/i,message:"Please input a valid name for project folder! [a-z0-9_-. ]"}]})(qt.createElement(Ua.default,{placeholder:"Project name"}))),qt.createElement(Aa.Z.Item,{label:"Board",labelCol:{span:4},wrapperCol:{span:20}},e("board",{rules:[{required:!0,message:"Please select a board!"}]})(qt.createElement(cl,{onChange:this.onDidBoard.bind(this)}))),qt.createElement(Aa.Z.Item,{label:"Framework",labelCol:{span:4},wrapperCol:{span:20}},qt.createElement(el.default,{value:this.state.selectedFramework,style:{width:"100%"},size:"large",disabled:!this.state.selectedFramework,onChange:this.onDidFramework.bind(this)},this.state.frameworks.map((e=>qt.createElement(el.default.Option,{key:e.name,value:e.name,title:e.title},e.title))))),qt.createElement(Aa.Z.Item,{label:"Location",labelCol:{span:4},wrapperCol:{span:20}},e("isCustomLocation",{rules:[{validator:(e,t,r)=>setTimeout((()=>r(!this.state.useDefaultLocation&&!this.state.projectLocation||void 0)),200),message:"Please select a custom project location!"}]})(qt.createElement(jo.default,{onChange:this.onDidUseDefaultLocation.bind(this),checked:this.state.useDefaultLocation},"Use default location",qt.createElement(pa.default,{title:`Default location for PlatformIO Projects is: "${this.props.projectsDir}"`,overlayStyle:{wordBreak:"break-all"}},qt.createElement(ba.default,{type:"question-circle",style:{marginLeft:"5px"}}))))),!this.state.useDefaultLocation&&this.renderExplorer())}renderExplorer(){return qt.createElement("div",null,qt.createElement("div",{style:{marginBottom:"5px"}},"Choose a location where we will create project folder:"),qt.createElement(ml,{ask:"directory",onSelect:this.onDidProjectLocation.bind(this)}))}}Ol(wl,"propTypes",{form:ha().object.isRequired,visible:ha().bool.isRequired,onCancel:ha().func.isRequired,projectsDir:ha().string,addProject:ha().func.isRequired,openProject:ha().func.isRequired,initProject:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const jl=(0,fa.$j)((function(e){return{projectsDir:Et(e,"projectsDir")}}),vl(vl({},l),{},{osOpenUrl:ue}))(Aa.Z.create()(wl));class Pl extends qt.Component{constructor(){super(...arguments),this.state={projectDir:null,checking:!1}}componentDidMount(){this._mounted=!0}componentWillUnmount(){this._mounted=!1}onDidOpen(){if(!this.state.projectDir)return F.Z.error("Please select Project Folder");this.setState({checking:!0}),this.props.addProject(this.state.projectDir,{withOpen:!this.props.skipOpenProject,onEnd:(e,t)=>{if(this._mounted){if(this.setState({checking:!1}),e)return F.Z.error(e);this.props.onCancel(t)}}})}onDidCancel(){this.props.onCancel()}onDidSelect(e){this.setState({projectDir:e})}render(){return qt.createElement(pt.Z,{visible:this.props.visible,className:"project-open-modal",width:600,title:"Open PlatformIO Project",onOk:this.onDidOpen.bind(this),onCancel:this.onDidCancel.bind(this),footer:this.renderFooter()},qt.createElement(ml,{ask:"directory",onSelect:this.onDidSelect.bind(this)}))}renderFooter(){return[qt.createElement(ut.default,{key:"cancel",size:"large",onClick:this.onDidCancel.bind(this)},"Cancel"),qt.createElement(ut.default,{key:"submit",type:"primary",size:"large",disabled:!this.state.projectDir||this.state.checking,loading:this.state.checking,onClick:this.onDidOpen.bind(this)},"Open"+(this.state.projectDir?` "${ir(this.state.projectDir)}"`:""))]}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Pl,"propTypes",{skipOpenProject:ha().bool,visible:ha().bool,onCancel:ha().func.isRequired,addProject:ha().func.isRequired});const kl=(0,fa.$j)(void 0,{addProject:Ss})(Pl);r("mN36");var Cl=r("N9UN");class Rl extends qt.Component{constructor(){super(...arguments);const e=Pa("twitter");this.props.loadLatestTweets(e.substring(e.lastIndexOf("/")+1))}onClickItem(e,t){return e.preventDefault(),t.entries.urls.length?this.props.osOpenUrl(t.entries.urls[0]):this.props.osOpenUrl(t.tweetUrl)}render(){return qt.createElement("div",{className:"recent-news"},qt.createElement(Wa.Z,null,qt.createElement("a",{onClick:()=>this.props.osOpenUrl(Pa("twitter"))},"Recent News")),this.renderCarousel())}renderCarousel(){return this.props.items?this.props.items instanceof U.ZP.JsonRpcError?qt.createElement("div",{className:"text-center"},qt.createElement(pa.default,{title:this.props.items.message},"An error occurred loading the latest news. Try again later."," ",qt.createElement(ba.default,{type:"info-circle-o"}))):qt.createElement(tl.Z,{className:"block"},[...Array(Math.ceil(this.props.items.length/3)).keys()].map((e=>qt.createElement("div",{key:e},qt.createElement(Ya.default,{gutter:18},qt.createElement(Ga.default,{span:8},this.renderCard(3*e)),qt.createElement(Ga.default,{span:8},this.renderCard(3*e+1)),qt.createElement(Ga.default,{span:8},this.renderCard(3*e+2))))))):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading..."}))}renderCard(e){if(e>=this.props.items.length)return null;const t=this.props.items[e];let r=wa("companyLogoSrc");t.entries.photos.length&&(r=t.entries.photos[0]);const n=qt.createElement("ul",{className:"list-inline"},t.isPinned&&qt.createElement("li",null,qt.createElement(ba.default,{type:"pushpin",title:"Pinned news"})),qt.createElement("li",null,t.timeFormatted),qt.createElement("li",null,qt.createElement(ba.default,{type:"twitter"})),qt.createElement("li",null,t.author)),i=qt.createElement("div",{style:{backgroundImage:`url(${r})`}});return qt.createElement(Cl.Z,{hoverable:!0,cover:i,onClick:e=>this.onClickItem(e,t)},qt.createElement(Cl.Z.Meta,{title:n,description:qt.createElement("span",{dangerouslySetInnerHTML:{__html:t.text}})}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Rl,"propTypes",{items:ha().oneOfType([ha().array,ha().instanceOf(U.ZP.JsonRpcError)]),loadLatestTweets:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const Dl=(0,fa.$j)((function(e){return{items:Xt(e)}}),{loadLatestTweets:e=>m(Qt,{username:e}),osOpenUrl:ue})(Rl);class Sl extends qt.Component{constructor(){super(...arguments),this.props.loadProjects()}onDidShowBoard(e){this.props.updateInputValue(Hn,e),this.props.showBoards()}getTableColumns(){return[{title:"Name",dataIndex:"name",className:"text-word-break",sorter:(e,t)=>nt(e.name.toUpperCase(),t.name.toUpperCase())},{title:ja("Boards"),key:"boards",className:"text-word-break",render:(e,t)=>{const r=[];return qt.createElement("span",null,t.boards.filter((e=>!r.includes(e.id)&&(r.push(e.id),!0))).map(((e,r)=>qt.createElement("span",{key:e.id},qt.createElement("a",{onClick:()=>this.onDidShowBoard(e.name)},e.name)," ",t.boards.length>r+1?", ":""))))}},{title:"Modified",key:"modified",className:"text-nowrap",sorter:(e,t)=>nt(t.modified,e.modified),render:(e,t)=>qt.createElement(pa.default,{title:new Date(1e3*t.modified).toString()},Er().relativeTime(t.modified))},{title:"Action",key:"action",className:"text-nowrap",width:100,render:(e,t)=>qt.createElement("span",null,qt.createElement("a",{onClick:()=>this.props.hideProject(t.path)},"Hide")," ",qt.createElement("span",{className:"ant-divider"})," ",qt.createElement("a",{onClick:()=>this.props.openProject(t.path)},"Open"))}]}render(){return qt.createElement("div",{className:"block"},qt.createElement(Wa.Z,null,"Recent Projects"),this.renderProjects())}renderProjects(){return this.props.items?this.props.items.length||this.props.filterValue?qt.createElement("div",null,qt.createElement(Ua.default,{className:"block",defaultValue:this.props.filterValue,placeholder:"Search project...",onChange:e=>this.props.setFilter(e.target.value)}),qt.createElement(ro.Z,{rowKey:"path",className:"block",dataSource:this.props.items,columns:this.getTableColumns(),expandedRowRender:this.renderExpandedRow.bind(this),size:"middle",pagination:{defaultPageSize:15,hideOnSinglePage:!0}})):qt.createElement("div",{className:"text-center"},qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,qt.createElement(ut.default,{icon:"download",onClick:()=>this.props.showProjectExamplesModal()},"Open Project Examples")),qt.createElement("li",null,"or"),qt.createElement("li",null,qt.createElement(ut.default,{icon:"download",onClick:()=>this.props.showOpenProjectModal()},"Open Existing Project")))):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading..."}))}renderExpandedRow(e){return qt.createElement("div",null,qt.createElement(ba.default,{type:"folder",className:"inline-block-tight"}),qt.createElement("a",{onClick:()=>this.props.osRevealFile(e.path)},e.path))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Sl,"propTypes",{router:ha().object.isRequired,showProjectExamplesModal:ha().func.isRequired,showOpenProjectModal:ha().func.isRequired,items:ha().arrayOf(ha().shape({name:ha().string.isRequired,path:ha().string.isRequired,modified:ha().number.isRequired,boards:ha().arrayOf(ha().shape({id:ha().string.isRequired,name:ha().string.isRequired}))})),filterValue:ha().string,setFilter:ha().func.isRequired,updateInputValue:ha().func.isRequired,openProject:ha().func.isRequired,hideProject:ha().func.isRequired,loadProjects:ha().func.isRequired,osRevealFile:ha().func.isRequired,showBoards:ha().func.isRequired});const xl=(0,fa.$j)((function(e,t){return{items:wn(e),filterValue:En(e),showBoards:()=>tt(t.router.history,"/boards")}}),(function(e){return(0,c.DE)(Object.assign({},l,{osRevealFile:de,updateInputValue:x,setFilter:t=>e(T(bn,t))}),e)}))(Sl);function Tl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Il extends qt.Component{constructor(){super(...arguments),this.state={newProjectVisible:!1,importArduinoProjectVisible:!1,openProjectVisible:!1,projectExamplesVisible:!1}}onDidShowOnStartup(e){this.props.showAtStartup(e.target.checked)}onDidNewProject(){this.setState({newProjectVisible:!0})}onDidCancelNewProject(){this.setState({newProjectVisible:!1})}onDidImportArduinoProject(){this.setState({importArduinoProjectVisible:!0})}onDidCancelImportArduinoProject(){this.setState({importArduinoProjectVisible:!1})}onDidOpenProject(){this.setState({openProjectVisible:!0})}onDidCancelOpenProject(){this.setState({openProjectVisible:!1})}onDidProjectExamples(){this.setState({projectExamplesVisible:!0})}onDidCancelProjectExamples(){this.setState({projectExamplesVisible:!1})}render(){return qt.createElement("section",{className:"page-container"},qt.createElement("div",{className:"home-page"},qt.createElement("h1",null,"Welcome to"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(Pa("welcome",Pa("home")))},wa("title"))," ",qt.createElement("small",{className:"pull-right",style:{marginTop:"15px"}},this.renderShowAtStartup())),qt.createElement(Ya.default,{className:"text-center"},qt.createElement(Ga.default,{span:12,className:"company-logo-versions"},qt.createElement("a",{onClick:()=>this.props.osOpenUrl(Pa("home"))},qt.createElement(Ra,{height:wa("companyLogoHomeHeight")})),wa("showPIOVersions",!1)&&qt.createElement(Xo,null)),qt.createElement(Ga.default,{span:12},this.renderQuickAccess())),qt.createElement(Dl,null),qt.createElement(xl,{router:this.context.router,showProjectExamplesModal:this.onDidProjectExamples.bind(this),showOpenProjectModal:this.onDidOpenProject.bind(this)})))}renderQuickAccess(){return qt.createElement("div",{className:"quick-buttons"},qt.createElement("h2",null,"Quick Access"),qt.createElement("ul",null,!wa("ignoreQuickAccessButtons",[]).includes("new-project")&&qt.createElement("li",null,qt.createElement(jl,{visible:this.state.newProjectVisible,onCancel:this.onDidCancelNewProject.bind(this)}),qt.createElement(ut.default,{size:"large",icon:"plus",disabled:this.state.newProjectVisible,onClick:this.onDidNewProject.bind(this)},"New Project")),!wa("ignoreQuickAccessButtons",[]).includes("import-arduino-project")&&qt.createElement("li",null,qt.createElement(bl,{visible:this.state.importArduinoProjectVisible,onCancel:this.onDidCancelImportArduinoProject.bind(this)}),qt.createElement(ut.default,{size:"large",icon:"folder-add",disabled:this.state.importArduinoProjectVisible,onClick:this.onDidImportArduinoProject.bind(this)},"Import Arduino Project")),qt.createElement("li",null,qt.createElement(kl,{visible:this.state.openProjectVisible,onCancel:this.onDidCancelOpenProject.bind(this)}),qt.createElement(ut.default,{size:"large",icon:"folder",disabled:this.state.openProjectVisible,onClick:this.onDidOpenProject.bind(this)},"Open Project")),qt.createElement("li",null,qt.createElement(ol,{router:this.context.router,visible:this.state.projectExamplesVisible,onCancel:this.onDidCancelProjectExamples.bind(this)}),qt.createElement(ut.default,{size:"large",icon:"copy",disabled:this.state.projectExamplesVisible,onClick:this.onDidProjectExamples.bind(this)},ja("homeQuickButtonProjectExamples")))))}renderShowAtStartup(){return this.props.caller?qt.createElement("div",{className:"block text-center"},qt.createElement(jo.default,{defaultChecked:this.props.showOnStartupState,onChange:this.onDidShowOnStartup.bind(this)},"Show at startup")):null}}Tl(Il,"contextTypes",{router:ha().object.isRequired}),Tl(Il,"propTypes",{caller:ha().string,showOnStartupState:ha().bool,osOpenUrl:ha().func.isRequired,showAtStartup:ha().func.isRequired});const Nl=(0,fa.$j)((function(e){return{caller:Et(e,"coreCaller"),showOnStartupState:vt(e)}}),{osOpenUrl:ue,showAtStartup:pe})(Il);r("LGkk");var ql=r("rVaU");class _l extends qt.Component{constructor(...e){super(...e),this.state={}}componentDidMount(){this._isMounted=!0;this.props.loadProjects(!0),this.props.form.setFieldsValue(this.props.savedConfiguration||{memory:!0,code:!0})}componentDidUpdate(e){if(this.props.savedConfiguration&&!vr(e.savedConfiguration,this.props.savedConfiguration)&&this.props.form.setFieldsValue(this.props.savedConfiguration),this.props.projects&&e.projects!==this.props.projects){const e=this.props.form.getFieldValue("projectDir");e&&!this.props.projects.find((t=>t.path===e))&&this.props.form.setFieldsValue({projectDir:void 0})}}componentWillUnmount(){this._isMounted=!1}isValid(){const{projectDir:e,env:t,memory:r,code:n}=this.props.form.getFieldsValue();return e&&e.length&&t&&t.length&&(r||n)}handleSubmit(e){if(e.preventDefault(),!this.isValid())return;const{projectDir:t,env:r,memory:n,code:i}=this.props.form.getFieldsValue(),s={projectDir:t,env:r,memory:n,code:i};this.setState({running:!0,error:void 0}),this.props.inspectProject(s,(()=>{this._isMounted&&this.setState({running:!1})}))}handleProjectChange(e){const t=this._getProjectEnvs(e);this.props.form.setFieldsValue({env:1===t.length?t[0]:void 0})}handleOpenProjectCancel(e){this.setState({openProjectVisible:!1}),e&&this.props.form.setFieldsValue({projectDir:e,env:void 0})}handleOpenProjectClick(){this.setState({openProjectVisible:!0})}handleFilterOption(e,t){t.props.children.toLowerCase().includes(e.toLocaleLowerCase())}renderProjectSelect(){return this.props.form.getFieldDecorator("projectDir")(qt.createElement(el.default,{loading:!this.props.projects,showSearch:!0,style:{width:"100%"},size:"large",placeholder:this.props.projects?"Select a project":"Loadingâ€¦",optionFilterProp:"children",filterOption:this.handleFilterOption.bind(this),onChange:this.handleProjectChange.bind(this)},(this.props.projects||[]).sort(((e,t)=>e.name.localeCompare(t.name))).map((({name:e,path:t})=>qt.createElement(el.default.Option,{key:t,value:t},e)))))}_getProjectByPath(e){return(this.props.projects||[]).find((t=>t.path===e))}_getProjectEnvs(e){const t=this._getProjectByPath(e);return(t&&t.envs||[]).sort(((e,t)=>e.localeCompare(t)))}renderEnvSelect(){const e=this.props.form.getFieldValue("projectDir"),t=this._getProjectEnvs(e);return this.props.form.getFieldDecorator("env")(qt.createElement(el.default,{loading:!this.props.projects,disabled:!e,style:{width:"100%"},size:"large",placeholder:e&&t?"Select environment":""},t.map((e=>qt.createElement(el.default.Option,{key:e,value:e},e)))))}render(){return qt.createElement("div",{className:"inspect-configuration-page"},qt.createElement(kl,{skipOpenProject:!0,visible:this.state.openProjectVisible,onCancel:this.handleOpenProjectCancel.bind(this)}),qt.createElement("h1",{style:{marginTop:12}},"Project Inspection"),qt.createElement("p",null,"A report after inspection includes memory use information with a detailed visual view of memory utilization, helps locate and improve parts of the application like symbols or functions which have a significant memory footprint. A static code analysis report helps spot and fix software defects before debugging."),qt.createElement("p",null,qt.createElement(ba.default,{type:"bulb"})," Building a project in"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf/build_configurations.html")},"debug mode")," ","before an inspection can significantly reduce the processing time."),qt.createElement(Aa.Z,{layout:"vertical",onSubmit:this.handleSubmit.bind(this)},qt.createElement(Aa.Z.Item,{label:"Project"},qt.createElement(Ya.default,{gutter:8},qt.createElement(Ga.default,{xs:24,sm:17,md:19,lg:20},this.renderProjectSelect()),qt.createElement(Ga.default,{xs:24,sm:7,md:5,lg:4},qt.createElement(ut.default,{icon:"folder",size:"large",style:{width:"100%"},onClick:this.handleOpenProjectClick.bind(this)},"Browse")))),qt.createElement(Aa.Z.Item,{label:"Environment"},this.renderEnvSelect()),qt.createElement(Aa.Z.Item,null,qt.createElement("label",{className:"switch-label"},this.props.form.getFieldDecorator("memory",{valuePropName:"checked",initialValue:!0})(qt.createElement(ql.Z,null))," ","Inspect Memory"),qt.createElement("label",{className:"switch-label"},this.props.form.getFieldDecorator("code",{valuePropName:"checked",initialValue:!0})(qt.createElement(ql.Z,null))," ","Check Code")),qt.createElement(Aa.Z.Item,null,qt.createElement(ut.default,{htmlType:"submit",disabled:!this.isValid(),loading:this.state.running,size:"large",icon:"caret-right",type:"primary"},"Inspect"))),this.props.error&&qt.createElement("div",null,qt.createElement("div",{className:"ant-form-item-label"},qt.createElement("label",null,"Errors")),qt.createElement("div",{className:"inspect-config-console"},this.props.error.replace(/\\\\n/g,"\n"))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(_l,"propTypes",{error:ha().string,form:ha().object.isRequired,history:ha().object.isRequired,projects:ha().arrayOf(ha().shape({name:ha().string.isRequired,path:ha().string.isRequired})),savedConfiguration:ha().object,inspectProject:ha().func.isRequired,loadProjects:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const Ll={inspectProject:gr,loadProjects:Ns,osOpenUrl:ue},Fl=(0,fa.$j)((function(e){return{error:Mr(e),projects:vn(e),savedConfiguration:zr(e)}}),Ll)(_l),Al=Aa.Z.create()(Fl),Ul=ha().shape({code:ha().bool,env:ha().string.isRequired,memory:ha().bool,projectDir:ha().string.isRequired}),zl=ha().shape({category:ha().string.isRequired,column:ha().number.isRequired,file:ha().string.isRequired,id:ha().string.isRequired,line:ha().number.isRequired,message:ha().string.isRequired,severity:ha().string.isRequired,tool:ha().string.isRequired}),Vl=ha().shape({addr:ha().number.isRequired,bind:ha().string.isRequired,displayName:ha().string.isRequired,demangled_name:ha().string,name:ha().string.isRequired,section:ha().string.isRequired,size:ha().number.isRequired,type:ha().string.isRequired,file:ha().string,line:ha().number}),$l=ha().arrayOf(ha().shape({name:ha().string,flags:ha().string,size:ha().number,startAddr:ha().number,type:ha().string})),Ml=ha().shape({cpu:ha().string,flash:ha().number,frequency:ha().number,mcu:ha().string,ram:ha().number});r("5Nzg");var Zl=r("CgBw");const Bl=.9;class Yl extends qt.PureComponent{static getCurrentStep(e){return e.steps.find((e=>!e.done))}constructor(...e){super(...e);const t=Date.now().valueOf(),r=Yl.getCurrentStep(this.props);this.state=r?{mode:1,stepStartedAt:t,stepDuration:0}:{}}componentDidMount(){this.timer=setInterval(this.handleTimer.bind(this),200)}componentDidUpdate(e){const t=Yl.getCurrentStep(e),r=Yl.getCurrentStep(this.props);t&&r&&t.name!==r.name&&this.setState({mode:1,stepStartedAt:Date.now().valueOf(),stepDuration:0})}componentWillUnmount(){clearInterval(this.timer)}getExpProgress(e){return Bl+(1-Bl)*(1-1/Math.exp(e/1e5))}handleTimer(){this.setState((e=>{const t=Yl.getCurrentStep(this.props);if(!t||!e.stepStartedAt)return void clearInterval(this.timer);const r=Date.now()-e.stepStartedAt,n={stepDuration:r};return r/t.expectedDuration>=Bl&&2!==e.mode&&(n.mode=2),n}))}render(){let e,t=0,r=0;if(this.props.steps.every((e=>e.done)))e="Complete",t=r=1;else{const n=Yl.getCurrentStep(this.props),i=this.props.steps.length,s=this.props.steps.indexOf(n)/i;let a;1===this.state.mode?a=this.state.stepDuration/n.expectedDuration:2===this.state.mode&&(a=this.getExpProgress(this.state.stepDuration-n.expectedDuration*Bl)),r=s+a/i;const o=this.props.steps.filter((e=>e.done)).length;i>1&&(t=o/i),e=`Inspectingâ€¦ ${n.name}`}return qt.createElement("div",null,qt.createElement("center",null,e,": ",(100*r).toFixed(0),"%"),qt.createElement(Zl.Z,{format:e=>`${e.toFixed(0)}%`,successPercent:100*t,percent:100*r}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Yl,"propTypes",{steps:ha().arrayOf(ha().shape({done:ha().bool.isRequired,expectedDuration:ha().number.isRequired,name:ha().string.isRequired})).isRequired});class Wl extends qt.PureComponent{componentDidUpdate(){this.props.project||this.props.showConfiguration()}render(){if(!this.props.project)return null;const e=[];return this.props.configuration.memory&&e.push({done:this.props.memoryDone,expectedDuration:this.props.memoryDuration||2e4,name:"Memory"}),this.props.configuration.code&&e.push({done:this.props.codeDone,expectedDuration:this.props.codeDuration||2e4,name:"Code"}),qt.createElement("div",{className:"inspect-processing-page"},qt.createElement("h1",{style:{marginTop:10,marginBottom:0}},qt.createElement(pa.default,{title:this.props.project.path},this.props.project.name),qt.createElement("small",null," ",qt.createElement("b",null,"env:",this.props.configuration.env))),(!this.props.data||!this.props.data.error)&&qt.createElement(Yl,{steps:e}),this.props.data&&this.props.data.error&&qt.createElement(Po.Z,{type:"error",showIcon:!0,message:"Sorry, error occurred during inspection",description:qt.createElement("div",{className:"inspect-config-console"},this.props.data.error)}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Wl,"propTypes",{configuration:Ul,data:ha().object,memoryDone:ha().bool,memoryDuration:ha().number,codeDone:ha().bool,codeDuration:ha().number,project:ha().shape({name:ha().string.isRequired,path:ha().string.isRequired}),showConfiguration:ha().func.isRequired});const Gl=(0,fa.$j)((function(e){const t=zr(e);return{configuration:t,codeDuration:Ur(e,"code",t.projectDir,t.env),memoryDuration:Ur(e,"memory",t.projectDir,t.env),data:$r(e),codeDone:!!Hr(e),memoryDone:!!Kr(e),project:jn(e,t.projectDir)}}),(function(e,t){return{showConfiguration:()=>tt(t.history,"/inspect")}}))(Wl);function Kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(r),!0).forEach((function(t){Jl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ql extends qt.PureComponent{constructor(...e){super(...e),this.state={search:""}}static renderSeverityLevel(e){const t=mr[e];return qt.createElement(no.Z,{className:`severity-tag severity-${t.toLowerCase()}`},t.toUpperCase())}renderMessage(e,t){return qt.createElement("span",null,t.cwe&&qt.createElement("a",{style:{marginRight:5},onClick:()=>this.props.osOpenUrl(`https://cwe.mitre.org/data/definitions/${t.cwe}.html`)},"CWE-",t.cwe,":"),t.id?qt.createElement(pa.default,{title:`${t.tool} defect ID: ${t.id}`},e):e)}getTableColumns(e){return[{title:"Tool",dataIndex:"tool",filters:xr(e,"tool"),onFilter:(e,t)=>t.tool===e,sorter:Rr("string","tool"),align:"center"},{title:"Level",dataIndex:"level",defaultSortOrder:"ascend",filters:Object.entries(mr).map((([e,t])=>({text:t,value:parseInt(e)}))),onFilter:(e,t)=>t.level===e,render:Ql.renderSeverityLevel,sorter:Rr("number","level"),align:"center"},{title:"Category",dataIndex:"category",filters:xr(e,"category"),onFilter:(e,t)=>t.category===e,render:e=>qt.createElement(no.Z,null,e.toUpperCase()),sorter:Rr("string","category"),align:"center"},{title:"Message",dataIndex:"message",sorter:Rr("string","message"),render:this.renderMessage.bind(this)},{title:"Location",dataIndex:"file",render:(e,{line:t,column:r})=>qt.createElement("a",{onClick:()=>this.props.openTextDocument(e,t,r)},qt.createElement(pa.default,{title:e},Tr(e,25),":",t,":",r)),sorter:Pr(Rr("string","file"),Rr("number","line"),Rr("number","column"))}]}render(){const{defects:e}=this.props,t=e.map(((e,t)=>Hl(Hl({},e),{},{idx:t})));return qt.createElement("div",{className:"page-container"},qt.createElement(ro.Z,{childrenColumnName:"_",columns:this.getTableColumns(t),dataSource:t,pagination:{defaultPageSize:15,hideOnSinglePage:!0},rowKey:"idx",size:"middle"}))}}Jl(Ql,"propTypes",{defects:ha().arrayOf(zl),osOpenUrl:ha().func.isRequired,openTextDocument:ha().func.isRequired});class Xl extends qt.PureComponent{render(){const{defects:e}=this.props;return qt.createElement("div",{className:"inspect-code-page"},!e&&qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})),e&&0===e.length&&qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Defects")),e&&0!==e.length&&qt.createElement(Ql,{defects:e,osOpenUrl:this.props.osOpenUrl,openTextDocument:this.props.openTextDocument}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Xl,"propTypes",{defects:ha().arrayOf(zl),osOpenUrl:ha().func.isRequired,openTextDocument:ha().func.isRequired});const ec={osOpenUrl:ue,openTextDocument:Pe},tc=(0,fa.$j)((function(e){return{defects:Yr(e)}}),ec)(Xl);function rc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class nc extends qt.PureComponent{constructor(...e){super(...e),rc(this,"handleItemClick",(e=>{e.preventDefault();const t=e.target.closest("a");if(!t)return;const r=parseInt(t.dataset.idx),n=(this.props.path||"").split("/").slice(0,r).join("/");this.props.onChange(n.length?n:void 0)}))}render(){const{path:e}=this.props,t=(e||"").split("/");let r;return t.length&&(r=t.pop()),qt.createElement(pl.Z,{className:"block",separator:"/"},qt.createElement(pl.Z.Item,{key:0},qt.createElement("a",{"data-idx":0,onClick:this.handleItemClick},qt.createElement(ba.default,{type:"book"}))),t.map(((e,t)=>0!==e.length&&qt.createElement(pl.Z.Item,{key:t+1},qt.createElement("a",{"data-idx":t+1,onClick:this.handleItemClick},e)))),void 0!==r&&qt.createElement(pl.Z.Item,{key:-1},r))}}function ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(r),!0).forEach((function(t){ac(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ic(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ac(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}rc(nc,"propTypes",{path:ha().string,onChange:ha().func});const oc=Object.freeze({idx:-1,isDir:!0,relativePath:".."}),lc=ha().shape({relativePath:ha().string.isRequired,isDir:ha().bool,ram:ha().int,flash:ha().int}),cc=ha().arrayOf(lc);function pc(e,t){return function(e,t){return e-t}(t.isDir,e.isDir)}class uc extends qt.PureComponent{renderIcon(e){return qt.createElement(ba.default,{type:e?"folder-open":"file-text"})}getTableColumns(){return[{title:"Name",dataIndex:"relativePath",defaultSortOrder:"ascend",render:(e,t)=>qt.createElement("a",null,this.renderIcon(t.isDir)," ",e.replace(/^\//,"")),sorter:Pr(pc,((e,t)=>Cr(e.relativePath,t.relativePath))),width:"100%"},{title:"Flash",dataIndex:"flash",render:e=>qt.createElement("div",{className:"text-nowrap"},wr(e)),sorter:Pr(pc,((e,t)=>kr(e.flash,t.flash))),align:"right"},{title:"RAM",dataIndex:"ram",render:e=>qt.createElement("div",{className:"text-nowrap"},wr(e)),sorter:Pr(pc,((e,t)=>kr(e.ram,t.ram))),align:"right"}]}handleRowClick(e){e.preventDefault();const t=e.target.closest("tr");if(!t)return;const{onDirChange:r,items:n,dir:i=""}=this.props,s=parseInt(t.dataset.rowKey);let a;if(-1===s){const e=i.split("/");e.pop(),a=e.join("/"),""===a&&(a=void 0)}else{const e=n[s];if(a=i.length?`${i}/${e.relativePath}`:e.relativePath,!e.isDir)return void this.props.onFileClick(a)}r(a)}handleBreadcrumbChange(e){this.props.onDirChange(e)}render(){const{items:e,dir:t}=this.props;return 0===e.length?qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Items")):qt.createElement("div",null,qt.createElement(nc,{path:t,onChange:this.handleBreadcrumbChange.bind(this)}),this.renderList())}renderFooter(e){const t=e.reduce(((e,{ram:t,flash:r})=>(e.ram+=0|t,e.flash+=0|r,e)),{ram:0,flash:0});return qt.createElement("div",{className:"text-right"},`Total: ${Or(t.flash)} Flash, ${Or(t.ram)} RAM`)}renderList(){const{dir:e=""}=this.props,t=this.props.items.map(((e,t)=>sc(sc({},e),{},{idx:t}))),r=e.length?[oc,...t]:t;return qt.createElement(ro.Z,{childrenColumnName:"_",columns:this.getTableColumns(),dataSource:r,footer:this.renderFooter.bind(this),onRow:()=>({onClick:this.handleRowClick.bind(this)}),pagination:!1,rowKey:"idx",size:"middle"})}}function dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(r),!0).forEach((function(t){hc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ac(uc,"propTypes",{dir:ha().string,items:cc,onDirChange:ha().func.isRequired,onFileClick:ha().func});const fc={STT_FUNC:1,STT_OBJECT:2};function gc(e,t){return kr(fc[e.type]||0,fc[t.type]||0)}class yc extends qt.PureComponent{constructor(...e){super(...e),hc(this,"renderAddress",(e=>qt.createElement("code",null,jr(e,{width:this.addressWidth})))),hc(this,"handleBreadcrumbChange",(e=>{this.props.onDirChange(e)})),hc(this,"handleSearch",(e=>{this.setState({search:e})})),hc(this,"renderFooter",(e=>{const t=e.reduce(((e,{size:t=0})=>e+t),0);return qt.createElement("div",{className:"text-right"},`Total Size on Page: ${Or(t)}`)})),this.state={search:""}}componentDidMount(){this.searchEl&&this.searchEl.focus()}renderIcon(e){const t=pr[e];return t&&qt.createElement(ba.default,{type:t})}renderDisplayName(e,t){return t.file?qt.createElement("span",null,this.renderIcon(t.type)," ",e," ",qt.createElement(pa.default,{placement:"right",title:`at ${t.file}:${t.line}`,overlayStyle:{maxWidth:400}},qt.createElement("a",{onClick:()=>this.props.openTextDocument(t.file,t.line)},qt.createElement(ba.default,{type:"search",className:"open-document-icon"})))):qt.createElement("span",null,this.renderIcon(t.type)," ",e)}getTableColumns(e){return[{title:"Name",dataIndex:"displayName",render:this.renderDisplayName.bind(this),sorter:Pr(gc,((e,t)=>Cr(e.displayName,t.displayName))),width:"100%"},{title:"Type",align:"center",dataIndex:"type",render:e=>qt.createElement(no.Z,null,e),filters:xr(e,"type"),onFilter:(e,t)=>t.type.includes(e),sorter:(e,t)=>Cr(e.type,t.type)},{title:"Bind",align:"center",dataIndex:"bind",render:e=>qt.createElement(no.Z,null,e),filters:xr(e,"bind"),onFilter:(e,t)=>t.bind.includes(e),sorter:(e,t)=>Cr(e.bind,t.bind)},{title:"Address",dataIndex:"addr",render:this.renderAddress,sorter:(e,t)=>kr(e.addr,t.addr),align:"center"},{title:"Section",dataIndex:"section",render:e=>qt.createElement(no.Z,null,e),filters:xr(e,"section"),onFilter:(e,t)=>t.section===e,sorter:(e,t)=>Cr(e.section,t.section),align:"center"},{title:"Size",dataIndex:"size",render:e=>qt.createElement("div",{className:"text-nowrap"},Or(e)),sorter:(e,t)=>kr(e.size,t.size),align:"right"}]}getMaxAddressWidth(e){let t=e.length,r=0;for(;t--;){const{addr:n}=e[t];r<n&&(r=n)}return r.toString(16).length}getSearchResults(){const{symbols:e}=this.props,{search:t}=this.state;if(!t.length)return e;const r=["0","0x"],n=["name","demangled_name","section"],i=t.match(/\S+/g).filter((e=>!r.includes(e))).map((e=>isNaN(e)?e:e.toLowerCase()));return e.filter((e=>{for(const t of i){let r=!1;if(isNaN(t)){for(const i of n)if(e[i]&&e[i].includes(t)){r=!0;break}}else{const n=jr(e.addr).toLowerCase();(n.startsWith(t)||n.endsWith(t.replace("0x","")))&&(r=!0)}if(!r)return!1}return!0}))}render(){const{file:e}=this.props,t=this.getSearchResults().map(((e,t)=>mc(mc({},e),{},{idx:t}))).sort(gc);return this.addressWidth=this.getMaxAddressWidth(t),qt.createElement("div",{className:"inspect-mem-symbols"},qt.createElement("div",{className:"block"},qt.createElement(Ua.default.Search,{allowClear:!0,enterButton:!0,onSearch:this.handleSearch,placeholder:'Search, for ex. "init 0x80 bss"',ref:e=>{this.searchEl=e},size:"large",title:"Looks inside name, section; start/end of address"})),e&&qt.createElement(nc,{path:e,onChange:this.handleBreadcrumbChange}),qt.createElement(ro.Z,{childrenColumnName:"_",columns:this.getTableColumns(t),dataSource:t,footer:this.renderFooter,pagination:{defaultPageSize:15,hideOnSinglePage:!0},rowKey:"idx",size:"middle"}))}}function bc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}hc(yc,"propTypes",{symbols:ha().arrayOf(Vl),openTextDocument:ha().func.isRequired,file:ha().string,onDirChange:ha().func});class Ec{constructor(){bc(this,"children",new Map)}remember(e,t){const r=e.split("/");let n="";for(let e=0;e<r.length;e++){this.children.has(n)||this.children.set(n,{dirs:new Set,files:new Set});const{files:i,dirs:s}=this.children.get(n),a=r.slice(0,e+1).join("/");e+1!==r.length||t?s.add(a):i.add(a),n=a}}unfold(e){let t,r=e;for(;(t=this.children.get(r))&&1==t.dirs.size&&0==t.files.size;)r=t.dirs.values().next().value;return r}}class vc{constructor(){bc(this,"map",new Map)}increment(e,t){if(!this.map.has(e))return void this.map.set(e,t);const r=this.map.get(e);Object.entries(t).forEach((([e,t])=>r[e]+=t))}assign(e,t){return Object.assign(e,this.map.get(t))}}class Oc{constructor(){bc(this,"values",new Set)}filter(e){return!this.values.has(e)&&(this.values.add(e),!0)}}class wc extends qt.PureComponent{constructor(...e){super(...e),bc(this,"handlePathChange",(e=>{this.setState({path:e})})),this.state={}}listDir(e){const{files:t}=this.props;if(void 0===t)return;const r=new Oc,n=new vc,i=new Ec;return(this.props.files||[]).filter((t=>!e||e&&t.path.startsWith(`${e}/`))).map((({path:t,isDir:r,ram:s,flash:a})=>{const o=t.substring(e?e.length+1:0),l=o.split("/");let c=l[0];return e||c.length||(c=`/${l[1]}`),i.remember(o),n.increment(c,{flash:a,ram:s}),{isDir:1!==l.length||r,flash:a,ram:s,relativePath:c}})).filter((({relativePath:e})=>r.filter(e))).map((e=>(n.assign(e,e.relativePath),e.relativePath=i.unfold(e.relativePath),e)))}getFileByPath(e){const{files:t}=this.props;if(void 0===e||!t)return;const r=t.filter((t=>t.path===e))[0];return r&&!r.isDir?r:void 0}render(){const{path:e}=this.state,t=this.getFileByPath(e),r=t?[]:this.listDir(e);return qt.createElement("div",null,!r&&qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})),r&&!t&&qt.createElement(uc,{dir:e,items:r,onDirChange:this.handlePathChange,onFileClick:this.handlePathChange}),t&&qt.createElement(yc,{file:t.path,symbols:t.symbols,openTextDocument:this.props.openTextDocument,onDirChange:this.handlePathChange}))}}bc(wc,"propTypes",{files:ha().arrayOf(ha().shape({flash:ha().number.isRequired,isDir:ha().bool.isRequired,path:ha().string.isRequired,ram:ha().number.isRequired})),openTextDocument:ha().func.isRequired});const jc={openTextDocument:Pe},Pc=(0,fa.$j)((function(e){return{files:Wr(e)}}),jc)(wc);function kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(r),!0).forEach((function(t){Rc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Dc extends qt.PureComponent{constructor(...e){super(...e),Rc(this,"renderAddress",(e=>qt.createElement("code",null,jr(e,{width:this.addressWidth})))),this.state={search:""}}getTableColumns(e){return[{title:"Name",dataIndex:"name",defaultSortOrder:"ascend",sorter:(e,t)=>Cr(e.name,t.name),width:"100%"},{title:"Type",dataIndex:"type",filters:xr(e,"type"),onFilter:(e,t)=>t.type===e,render:e=>qt.createElement(no.Z,null,e),sorter:(e,t)=>Cr(e.type,t.type),align:"center"},{title:"Flags",dataIndex:"flags",filters:xr(e,"flags"),onFilter:(e,t)=>t.flags===e,render:e=>0!==e.length&&qt.createElement(no.Z,null,e),sorter:(e,t)=>Cr(e.flags,t.flags),align:"center"},{title:"Address",dataIndex:"startAddr",render:this.renderAddress,sorter:(e,t)=>kr(e.startAddr,t.startAddr),align:"center"},{title:"Size",dataIndex:"size",render:e=>qt.createElement("div",{className:"text-nowrap"},Or(e)),sorter:(e,t)=>kr(e.size,t.size),align:"right"}]}getMaxStartAddressWidth(e){let t=e.length,r=0;for(;t--;){const{startAddr:n}=e[t];r<n&&(r=n)}return r.toString(16).length}render(){const{sections:e}=this.props,t=e.map(((e,t)=>Cc(Cc({},e),{},{idx:t})));return this.addressWidth=this.getMaxStartAddressWidth(t),qt.createElement("div",null,qt.createElement(ro.Z,{childrenColumnName:"_",columns:this.getTableColumns(t),dataSource:t,footer:this.renderFooter.bind(this),pagination:{defaultPageSize:20,hideOnSinglePage:!0},rowKey:"idx",size:"middle"}))}renderFooter(e){const t=e.reduce(((e,{size:t=0})=>e+t),0);return qt.createElement("div",{className:"text-right"},`Total Size on Page: ${Or(t)}`)}}Rc(Dc,"propTypes",{sections:$l});class Sc extends qt.PureComponent{render(){const{sections:e}=this.props;return qt.createElement("div",null,!e&&qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})),e&&qt.createElement(Dc,{sections:e}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Sc,"propTypes",{sections:$l});const xc=(0,fa.$j)((function(e){return{sections:Jr(e)}}))(Sc);function Tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tc(Object(r),!0).forEach((function(t){Nc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class qc extends qt.PureComponent{formatMemoryProgress(e,t){return qt.createElement("span",null,e.toFixed(0)+"%",qt.createElement("div",null,qt.createElement("small",null,Or(t))))}getDefectsTooltip(){return[`${this.props.code.defectsCountBySeverity.high} High`,`${this.props.code.defectsCountBySeverity.medium} Medium`,`${this.props.code.defectsCountBySeverity.low} Low`].join(" / ")}getDefectsCls(){const{high:e,medium:t}=this.props.code.defectsCountBySeverity;return e?"progress-error-stroke":t?"progress-warning-stroke":void 0}getGaugeCls(e){return e>=90?"progress-error-stroke":e>=75?"progress-warning-stroke":void 0}handleMemoryClick(){this.props.onMemoryClick()}handleCodeClick(){this.props.onCodeClick()}handleSymbolsClick(){this.props.onSymbolsClick()}renderLoader(){return qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}renderDashboards(){let e,t;return this.props.memory&&this.props.device&&(e=this.props.memory.ram/this.props.device.ram*100,t=this.props.memory.flash/this.props.device.flash*100),qt.createElement(Ya.default,{gutter:16,className:"block text-center inspect-dashboard"},void 0!==e&&qt.createElement(Ga.default,{xs:12,sm:8,lg:4,className:this.getGaugeCls(e)},qt.createElement(pa.default,{title:`${Or(this.props.memory.ram)} of ${Or(this.props.device.ram)}`},qt.createElement(Zl.Z,{type:"dashboard",format:e=>this.formatMemoryProgress(e,this.props.memory.ram),onClick:this.handleMemoryClick.bind(this),percent:e,width:120})),qt.createElement("h4",null,"RAM")),void 0!==t&&qt.createElement(Ga.default,{xs:12,sm:8,lg:4,className:this.getGaugeCls(t)},qt.createElement(pa.default,{title:`${Or(this.props.memory.flash)} of ${Or(this.props.device.flash)}`},qt.createElement(Zl.Z,{type:"dashboard",format:e=>this.formatMemoryProgress(e,this.props.memory.flash),onClick:this.handleMemoryClick.bind(this),percent:t,width:120})),qt.createElement("h4",null,"Flash")),this.props.code&&qt.createElement(Ga.default,{xs:12,sm:8,lg:4,className:this.getDefectsCls()},qt.createElement(pa.default,{title:this.getDefectsTooltip()},qt.createElement(Zl.Z,{type:"dashboard",format:()=>this.props.code.defectsCountTotal,onClick:this.handleCodeClick.bind(this),percent:0===this.props.code.defectsCountTotal?0:100,successPercent:0,width:120})),qt.createElement("h4",null,"Defects")))}renderTopFiles(){return qt.createElement(Cl.Z,{title:"Top 5 Files",className:"inspect-stats-block"},this.props.memory.topFiles.map((({flash:e,path:t})=>qt.createElement(Ya.default,{gutter:10,key:t,onClick:this.handleMemoryClick.bind(this)},qt.createElement(Ga.default,{xs:6,lg:4,className:"text-right text-nowrap"},qt.createElement("b",null,Or(e))),qt.createElement(Ga.default,{xs:18,lg:20,className:"text-truncate"},qt.createElement(pa.default,{title:t,overlayStyle:{maxWidth:400}},Tr(t,35)))))))}renderTopSymbols(){return qt.createElement(Cl.Z,{title:"Top 5 Symbols",className:"inspect-stats-block"},this.props.memory.topSymbols.map((e=>qt.createElement(Ya.default,{gutter:10,key:e.displayName,onClick:this.handleSymbolsClick.bind(this)},qt.createElement(Ga.default,{xs:6,lg:4,className:"text-right text-nowrap"},qt.createElement("b",null,Or(e.size))),qt.createElement(Ga.default,{xs:18,lg:20,className:"text-truncate"},qt.createElement(pa.default,{title:`${e.type} -> ${e.file?`${e.file}:${e.line}`:"unknown"}`,overlayStyle:{maxWidth:400}},qt.createElement(ba.default,{title:ur[e.type],type:pr[e.type]})," ",e.displayName+e.displayName))))))}renderDefectsStats(){if(!this.props.code.stats.length)return;const e=[{title:"Component",dataIndex:"component",render:e=>qt.createElement(pa.default,{title:e},qt.createElement("b",null,Tr(e||"",40)))},{align:"center",title:"High",dataIndex:"high"},{align:"center",title:"Medium",dataIndex:"medium"},{align:"center",title:"Low",dataIndex:"low"}],t=[...this.props.code.stats,{component:"Â "},Ic({component:"Total"},this.props.code.defectsCountBySeverity)];return qt.createElement(Cl.Z,{title:"Defects Summary",className:"block defects-stats-block"},qt.createElement(ro.Z,{className:"inspect-stats-table",columns:e,dataSource:t,onRow:({component:e})=>({className:"Â "===e?"empty-row":"",onClick:this.handleCodeClick.bind(this)}),rowKey:"component",pagination:!1,size:"small"}))}renderTopDefects(){if(!this.props.code.topDefects.length)return;const e=[{title:"Level",dataIndex:"level",render:Ql.renderSeverityLevel},{title:"Message",dataIndex:"message",render:(e,{file:t,line:r,column:n})=>qt.createElement(pa.default,{title:`${Tr(t||"",40)}:${r}:${n}`},e),width:"100%"}];return qt.createElement(Cl.Z,{title:"Top Defects",className:"block defects-stats-block"},qt.createElement(ro.Z,{className:"inspect-stats-table",columns:e,dataSource:this.props.code.topDefects.map(((e,t)=>Ic(Ic({},e),{},{idx:t}))),onRow:()=>({onClick:this.handleCodeClick.bind(this)}),rowKey:"idx",pagination:!1,size:"small"}))}render(){return this.props.memory||this.props.code?qt.createElement("div",{className:"inspect-stats-page"},this.renderDashboards(),this.props.memory&&qt.createElement(Ya.default,{gutter:12},qt.createElement(Ga.default,{md:12},this.renderTopFiles()),qt.createElement(Ga.default,{md:12},this.renderTopSymbols())),this.props.code&&qt.createElement(Ya.default,{gutter:12},qt.createElement(Ga.default,{md:12},this.renderDefectsStats()),qt.createElement(Ga.default,{md:12},this.renderTopDefects()))):this.renderLoader()}}Nc(qc,"propTypes",{memory:ha().shape({filesCount:ha().number.isRequired,symbolsCount:ha().number.isRequired,sectionsCount:ha().number.isRequired,ram:ha().number.isRequired,flash:ha().number.isRequired,topFiles:ha().arrayOf(ha().shape({path:ha().string.isRequired,flash:ha().number.isRequired})).isRequired,topSymbols:ha().arrayOf(ha().shape({displayName:ha().string.isRequired,type:ha().string.isRequired,size:ha().number.isRequired})).isRequired}),code:ha().shape({defectsCountTotal:ha().number,defectsCountBySeverity:ha().shape({low:ha().number,medium:ha().number,high:ha().number}),stats:ha().arrayOf(ha().shape({component:ha().string.isRequired,high:ha().number.isRequired,medium:ha().number.isRequired,low:ha().number.isRequired})),topDefects:ha().arrayOf(zl)}),device:Ml,onMemoryClick:ha().func.isRequired,onCodeClick:ha().func.isRequired,onSymbolsClick:ha().func.isRequired});const _c=(0,fa.$j)((function(e,{history:t}){return{code:Hr(e),device:Qr(e),memory:Kr(e),onMemoryClick:()=>tt(t,"/inspect/result/files"),onCodeClick:()=>tt(t,"/inspect/result/defects"),onSymbolsClick:()=>tt(t,"/inspect/result/symbols")}}))(qc);class Lc extends qt.PureComponent{render(){return qt.createElement("div",null,!this.props.symbols&&qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})),this.props.symbols&&qt.createElement(yc,{symbols:this.props.symbols,openTextDocument:this.props.openTextDocument}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Lc,"propTypes",{symbols:ha().arrayOf(Vl),openTextDocument:ha().func.isRequired});const Fc={openTextDocument:Pe},Ac={common:[{path:"/inspect/result",icon:"line-chart",label:"Statistics",component:_c}],memory:[{path:"/inspect/result/files",icon:"cluster",label:"Explorer",component:Pc},{path:"/inspect/result/symbols",icon:"tags",label:"Symbols",component:(0,fa.$j)((function(e){return{symbols:Gr(e)}}),Fc)(Lc)},{path:"/inspect/result/sections",icon:"database",label:"Sections",component:xc}],code:[{path:"/inspect/result/defects",icon:"bug",label:"Defects",component:tc}]};function Uc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(r),!0).forEach((function(t){Vc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class $c extends qt.Component{constructor(...e){super(...e),Vc(this,"handleRevealClick",(()=>{this.props.osRevealFile(this.props.configuration.projectDir)})),Vc(this,"handleRefreshClick",(()=>{this.setState({loading:!0}),this.props.reinspectProject((()=>{this._isMounted&&this.setState({loading:!1})}))})),this.state={}}componentDidMount(){this._isMounted=!0}componentDidUpdate(){this.props.project||this.props.showConfiguration()}componentWillUnmount(){this._isMounted=!1}renderDeviceInfo(){return qt.createElement("small",null,this.props.device.mcu.toUpperCase()," ",[Nr(this.props.device.frequency),`${Or(this.props.device.ram)} RAM`,`${Or(this.props.device.flash)} Flash`].join(", ")," ")}render(){if(!this.props.project)return null;const e=[...Ac.common];return this.props.configuration.memory&&e.push(...Ac.memory),this.props.configuration.code&&e.push(...Ac.code),qt.createElement("div",null,qt.createElement("h1",{style:{marginTop:10,marginBottom:0}},qt.createElement(pa.default,{title:this.props.project.path},this.props.project.name),qt.createElement("small",null," ",qt.createElement("b",null,"env:",this.props.configuration.env)),qt.createElement("div",{className:"pull-right"},qt.createElement(ut.default.Group,null,qt.createElement(ut.default,{icon:"folder-open",onClick:this.handleRevealClick},"Reveal"),qt.createElement(ut.default,{icon:"reload",loading:this.state.loading,onClick:this.handleRefreshClick},"Refresh")))),this.props.device&&this.renderDeviceInfo(),qt.createElement(Fa,{routes:e}))}}Vc($c,"propTypes",{configuration:Ul,device:Ml,project:ha().shape({name:ha().string.isRequired,path:ha().string.isRequired}),osRevealFile:ha().func.isRequired,reinspectProject:ha().func.isRequired,showConfiguration:ha().func.isRequired});const Mc=[{path:"/inspect",component:Al},{path:"/inspect/result",component:(0,fa.$j)((function(e){const t=zr(e);return{project:jn(e,t.projectDir),configuration:t,device:Qr(e)}}),(function(e,t){return zc(zc({},(0,c.DE)({osRevealFile:de,reinspectProject:yr},e)),{},{showConfiguration:()=>tt(t.history,"/inspect")})}))($c)},{path:"/inspect/processing",component:Gl}];class Zc extends qt.Component{componentWillUnmount(){this.props.deleteEntity(new RegExp(`^${cr}:`))}render(){return qt.createElement("section",{className:"page-container inspect-module"},qt.createElement(Fa,{routes:Mc,disableMenu:!0}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Zc,"propTypes",{deleteEntity:ha().func.isRequired});const Bc={deleteEntity:S},Yc=(0,fa.$j)(void 0,Bc)(Zc);r("eOfH");var Wc=r("h0/l");class Gc extends qt.Component{constructor(){super(...arguments),this.state={actionInProgress:!1,componentMounted:!1}}componentDidMount(){this.setState({componentMounted:!0})}componentWillUnmount(){this.setState({componentMounted:!1})}onDidShow(e,t){e.stopPropagation(),this.props.onShow(t)}onDidKeywordSearch(e,t){e.stopPropagation(),this.props.onSearch(`keyword:"${t}"`)}onDidUninstallOrUpdateItem(e,t){e.stopPropagation(),this.setState({actionInProgress:!0}),("uninstall"===t?this.props.onUninstall:this.props.onUpdate)((()=>this.state.componentMounted?this.setState({actionInProgress:!1}):{}))}render(){const e=qt.createElement("div",null,qt.createElement("a",{onClick:e=>this.onDidShow(e,this.props.item)},this.props.item.name)," ",qt.createElement("small",null,this.props.item.authors&&this.props.item.authors.length?` by ${this.props.item.authors[0].name}`:"")),t=qt.createElement("span",null,qt.createElement(pa.default,{title:"Version"}," ",qt.createElement(ba.default,{type:this.props.item.__src_url?"fork":"environment-o"})," ",this.props.item.version," "));return qt.createElement(Cl.Z,{title:e,hoverable:!0,extra:t,onClick:e=>this.onDidShow(e,this.props.item),className:"list-item-card"},qt.createElement("div",{className:"block"},this.props.item.description||this.props.item.url),qt.createElement(Ya.default,null,qt.createElement(Ga.default,{sm:16},qt.createElement("div",{className:"inline-buttons"},(this.props.item.keywords||[]).map((e=>qt.createElement(ut.default,{key:e,icon:"tag",size:"small",onClick:t=>this.onDidKeywordSearch(t,e)},e))))),qt.createElement(Ga.default,{sm:8,className:"text-right text-nowrap"},qt.createElement(ut.default.Group,null,this.props.onReveal&&this.props.actions&Gn.ACTION_REVEAL?qt.createElement(ut.default,{type:"primary",icon:"folder",onClick:e=>this.props.onReveal(e)},"Reveal"):"",this.props.onUninstall&&this.props.actions&Gn.ACTION_UNINSTALL?qt.createElement(Wc.Z,{title:"Are you sure?",okText:"Yes",cancelText:"No",onCancel:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onConfirm:e=>this.onDidUninstallOrUpdateItem(e,"uninstall")},qt.createElement(ut.default,{type:"primary",icon:"delete",loading:this.state.actionInProgress,disabled:this.state.actionInProgress},"Uninstall")):"",this.props.onUpdate&&this.props.actions&Gn.ACTION_UPDATE?qt.createElement(ut.default,{type:"primary",icon:"cloud-download-o",loading:this.state.actionInProgress,disabled:this.state.actionInProgress||this.props.item.versionWanted&&this.props.item.versionWanted!==this.props.item.versionLatest,onClick:e=>this.onDidUninstallOrUpdateItem(e,"update")},this.props.item.versionWanted?`Update to ${this.props.item.versionLatest}${this.props.item.versionWanted&&this.props.item.versionWanted!==this.props.item.versionLatest?" (incompatible)":""}`:"Update"):""))))}}function Kc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Gc,"propTypes",{item:ha().shape({name:ha().string.isRequired,version:ha().string.isRequired,versionWanted:ha().string,versionLatest:ha().string,description:ha().string,url:ha().string,keywords:ha().arrayOf(ha().string).isRequired,authors:ha().arrayOf(ha().object),__src_url:ha().string}),onShow:ha().func.isRequired,onReveal:ha().func.isRequired,onUninstall:ha().func.isRequired,onUpdate:ha().func.isRequired,onSearch:ha().func.isRequired,actions:ha().number.isRequired});class Hc extends qt.Component{getStatus(){return void 0===this.props.item.items?Hc.status.LOADING:this.props.item.items.length?Hc.status.LOADED:Hc.status.NORESULTS}getStorageItems(){return this.getStatus()!==Hc.status.LOADED?[]:this.props.item.items}onDidUninstallOrUpdateItem(e,t,r){("uninstall"===t?this.props.uninstallLibrary:this.props.updateLibrary)(this.props.item,e,r)}onDidReveal(e,t){e.stopPropagation(),t&&this.props.osRevealFile(t)}onDidToggleStorageList(e){e.target.classList.toggle("anticon-up-circle-o"),e.target.classList.toggle("anticon-down-circle-o"),this.storageItemsPlacehodler.classList.toggle("hide")}renderBadge(e,t){return e.length&&t===Hc.status.LOADED?qt.createElement(xa.Z,{count:e.length}):null}renderToggler(e){return e.length?qt.createElement(ba.default,{type:"up-circle-o",className:"lib-storages-toggler",title:"Show/Hide list of libraries",onClick:e=>this.onDidToggleStorageList(e)}):null}render(){const e=this.getStatus(),t=this.getStorageItems();return e===Hc.status.NORESULTS?null:qt.createElement("div",{className:"block lib-storage-items"},qt.createElement("h2",null,qt.createElement(ba.default,{type:"folder"})," ",qt.createElement("a",{onClick:e=>this.onDidReveal(e,this.props.item.path)},this.props.item.name)," ",this.renderBadge(t,e)," ",this.renderToggler(t)),e===Hc.status.LOADING&&qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})),e===Hc.status.NORESULTS&&qt.createElement("div",{className:"text-muted"},"No Results"),qt.createElement("div",{ref:e=>this.storageItemsPlacehodler=e},t.map((e=>qt.createElement(Gc,{item:e,key:e.__pkg_dir,onShow:this.props.showLibrary,onReveal:t=>this.onDidReveal(t,e.__pkg_dir),onUninstall:t=>this.onDidUninstallOrUpdateItem(e,"uninstall",t),onUpdate:t=>this.onDidUninstallOrUpdateItem(e,"update",t),onSearch:this.props.searchLibrary,actions:this.props.item.actions})))))}}Kc(Hc,"propTypes",{item:ha().instanceOf(Gn).isRequired,osRevealFile:ha().func.isRequired,searchLibrary:ha().func.isRequired,showLibrary:ha().func.isRequired,uninstallLibrary:ha().func.isRequired,updateLibrary:ha().func.isRequired}),Kc(Hc,"status",{LOADING:1,NORESULTS:2,LOADED:3});class Jc extends qt.Component{componentDidMount(){this._searchInputElement&&this._searchInputElement.focus()}onDidFilter(e){this.props.setFilter(e)}render(){return this.props.items?this.props.items.length?qt.createElement("div",{className:"lib-storages-list"},qt.createElement(Ua.default.Search,{allowClear:!0,className:"block",placeholder:"Filter libraries by name...",defaultValue:this.props.filterValue,size:"large",onChange:e=>this.onDidFilter(e.target.value),ref:e=>this._searchInputElement=e}),qt.createElement("div",null,this.props.items.map((e=>qt.createElement(Hc,{item:e,key:e.name,osRevealFile:this.props.osRevealFile,searchLibrary:this.props.searchLibrary,showLibrary:this.props.showLibrary,uninstallLibrary:this.props.uninstallLibrary,updateLibrary:this.props.updateLibrary}))))):qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Results")):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Jc,"propTypes",{items:ha().arrayOf(ha().instanceOf(Gn).isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,osRevealFile:ha().func.isRequired,searchLibrary:ha().func.isRequired,showLibrary:ha().func.isRequired,uninstallLibrary:ha().func.isRequired,updateLibrary:ha().func.isRequired});class Qc extends qt.Component{constructor(){super(...arguments),this.props.loadBuiltinLibs()}render(){return qt.createElement("div",{className:"page-container"},qt.createElement(Po.Z,{className:"block",showIcon:!0,message:qt.createElement("span",null,"A list of built-in libraries in the installed"," ",qt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"frameworks and development platforms"),".")}),qt.createElement(Jc,this.props))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Qc,"propTypes",{items:ha().arrayOf(ha().shape({items:ha().array.isRequired,name:ha().string.isRequired,path:ha().string.isRequired}).isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,loadBuiltinLibs:ha().func.isRequired,osRevealFile:ha().func.isRequired,searchLibrary:ha().func.isRequired,showLibrary:ha().func.isRequired,showInstalledPlatforms:ha().func.isRequired});const Xc=(0,fa.$j)((function(e,t){return{items:Ai(e),filterValue:Ri(e),searchLibrary:(e,r)=>tt(t.history,"/libraries/registry/search",{query:e,page:r}),showLibrary:e=>tt(t.history,"/libraries/builtin/show",{idOrManifest:e}),showInstalledPlatforms:()=>tt(t.history,"/platforms/installed")}}),(function(e){return(0,c.DE)(Object.assign({},a,{osRevealFile:de,setFilter:t=>e(T(Pi,t))}),e)}))(Qc);r("Z8Mf");var ep=r("j7zX"),tp=r("3T4h");tp.Z.registerLanguage("plaintext",r("nUx5")),tp.Z.registerLanguage("cpp",r("mZwv")),tp.Z.registerLanguage("json",r("4bZF")),tp.Z.registerLanguage("ini",r("QgqY"));class rp extends qt.Component{constructor(){super(...arguments),this._codeElement=null,this._codeTogglePlaceholder=null,!this.props.content&&this.props.uri&&this.props.requestContent({uri:this.props.uri,cacheValid:"7d"})}componentDidMount(){this.highlightCode()}componentDidUpdate(){this.highlightCode()}highlightCode(){this._codeElement&&tp.Z.highlightElement(this._codeElement)}onDidToggle(e){e.target.classList.toggle("anticon-up-circle-o"),e.target.classList.toggle("anticon-down-circle-o"),this._codeTogglePlaceholder.classList.toggle("hide")}renderToggler(){return qt.createElement(ba.default,{type:"up-circle-o",className:"source-code-toggler",title:"Show/Hide source code",onClick:e=>this.onDidToggle(e)})}renderFileContent(){return this.props.content?qt.createElement("pre",null,qt.createElement("code",{ref:e=>this._codeElement=e,className:this.props.language||"c"},this.props.content)):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading..."}))}render(){return this.props.toggle?qt.createElement("div",{className:this.props.className},qt.createElement("h3",null,qt.createElement(ba.default,{type:"file"})," ",this.props.title||ir(this.props.uri)," ",this.renderToggler()),qt.createElement("div",{ref:e=>this._codeTogglePlaceholder=e},this.renderFileContent())):qt.createElement("div",{className:this.props.className},this.renderFileContent())}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(rp,"propTypes",{title:ha().string,uri:ha().string,content:ha().string,language:ha().string,className:ha().string,toggle:ha().bool,requestContent:ha().func.isRequired});const np=(0,fa.$j)((function(e,t){return!t.uri||t.content?{}:{content:jt(e,t.uri)}}),{requestContent:ve})(rp);class ip{constructor(e,t){this.name=e,this.projectPath=t,this._sources=[]}addSource(e,t){t||(t=ir(e)),this._sources.push({uri:e,title:t})}getSources(){return this._sources.sort(((e,t)=>nt(e.title.toUpperCase(),t.title.toUpperCase())))}}class sp extends qt.Component{constructor(){super(...arguments),this.state={selectedItem:null,importInProgress:!1},this.props.items.length&&(this.state.selectedItem=this.props.items[0])}onDidChange(e){this.setState({selectedItem:this.props.items.find((t=>t.name===e))})}onDidFilter(e,t){return!e||t.props.value.toLowerCase().includes(e)}onDidImport(){this.setState({importInProgress:!0}),this.props.importProject(this.state.selectedItem.projectPath,((e,t)=>{this.setState({importInProgress:!1}),e||this.props.addProject(t)}))}render(){return this.props.items.length?qt.createElement("div",null,this.renderExamplesBar(),this.renderProjectSources()):qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No items"))}renderExamplesBar(){return this.state.selectedItem&&this.state.selectedItem.projectPath?qt.createElement(Ya.default,{gutter:8,className:"block"},qt.createElement(Ga.default,{span:19},this.renderExamplesSelect()),qt.createElement(Ga.default,{span:5},qt.createElement(ut.default,{ghost:!0,type:"primary",icon:"folder-add",style:{width:"100%"},loading:this.state.importInProgress,onClick:this.onDidImport.bind(this)},this.state.importInProgress?"Please wait...":"Import"))):qt.createElement("div",{className:"block"},this.renderExamplesSelect())}renderExamplesSelect(){return qt.createElement(el.default,{showSearch:!0,defaultValue:this.props.items[0].name,filterOption:this.onDidFilter.bind(this),onChange:this.onDidChange.bind(this),style:{width:"100%"}},this.props.items.map((e=>qt.createElement(el.default.Option,{key:e.name,value:e.name},e.name))))}renderProjectSources(){if(!this.state.selectedItem)return;const e=this.state.selectedItem.getSources();return qt.createElement("div",null,e.map(((t,r)=>qt.createElement(np,{key:t.uri,className:"block",title:(e.length>1?`${r+1}. `:"")+t.title,uri:t.uri,language:t.uri.endsWith(".ini")?"ini":"c",toggle:!0}))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(sp,"propTypes",{items:ha().arrayOf(ha().instanceOf(ip).isRequired),addProject:ha().func.isRequired,openProject:ha().func.isRequired,importProject:ha().func.isRequired});const ap=(0,fa.$j)(null,l)(sp);class op extends qt.Component{static getGlobPatterns(e){const t=[];if(e){if("string"==typeof e)return[e];if("string"==typeof e[0])return e;if(e[0].base&&e[0].files)return e.forEach((e=>{e.files.forEach((r=>{t.push(rr(e.base,r))}))})),t}for(const e of["*.ino","*.pde","*.c","*.cpp","*.h","*.hpp"]){const r="[Ee]xamples";t.push(rr(r,e)),t.push(rr(r,"*",e)),t.push(rr(r,"*","*",e)),t.push(rr(r,"*","*","*",e))}return t}constructor(){super(...arguments),this.props.uris||this.props.osFsGlob(op.getGlobPatterns(this.props.data.examples),this.props.data.__pkg_dir)}getRemoteItems(){return this.props.uris.sort().map((e=>{let t=e;t.endsWith("/")&&(t=e.substr(0,e.length-1)),t=t.substring(t.lastIndexOf("/")+1),t.includes(".")&&(t=t.substring(0,t.lastIndexOf(".")));const r=new ip(t);return r.addSource(e,t),r}))}getLocalItems(){const e=new Map,t=sr(this.props.uris);for(const r of this.props.uris){const n=nr(r.substr(t.length+1)),i=e.has(n)?e.get(n):new ip(n);i.addSource(r),e.set(n,i)}const r=[];for(const t of e.entries())r.push(t[1]);return r}getItems(){return this.props.uris.length?this.props.uris[0].startsWith("http")?this.getRemoteItems():this.getLocalItems():[]}render(){return this.props.uris?qt.createElement(ap,{items:this.getItems()}):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(op,"propTypes",{data:ha().shape({examples:ha().oneOfType([ha().array,ha().string]),__pkg_dir:ha().string}).isRequired,uris:ha().arrayOf(ha().string),osFsGlob:ha().func.isRequired});const lp=(0,fa.$j)((function(e,t){return t.data.__pkg_dir?{uris:Ct(e,op.getGlobPatterns(t.data.examples),t.data.__pkg_dir)}:{uris:t.data.examples}}),{osFsGlob:Ee})(op);class cp extends qt.Component{render(){return this.props.items.length?qt.createElement("div",null,this.props.items.sort().map((e=>qt.createElement("h3",{key:e},qt.createElement(ba.default,{type:"file-add"})," ",e)))):qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No headers"))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(cp,"propTypes",{items:ha().arrayOf(ha().string).isRequired});class pp extends qt.Component{static getGlobPatterns(){const e=[];for(const t of["*.h","*.hpp"])e.push(t),e.push(rr("*",t)),e.push(rr("*","*",t)),e.push(rr("*","*","*",t));return e}constructor(){super(...arguments),this.props.data.__pkg_dir&&!this.props.uris&&this.props.osFsGlob(pp.getGlobPatterns(),this.props.data.__pkg_dir)}getUniqueFilenames(e){if(!e||!e.length)return[];const t=[],r=sr(e);for(const n of e){const e=n.substr(r.length+1);t.includes(e)||t.push(e)}return t}render(){return this.props.data.__pkg_dir?this.props.uris?qt.createElement(cp,{items:this.getUniqueFilenames(this.props.uris)}):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})):qt.createElement(cp,{items:this.props.data.headers})}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(pp,"propTypes",{data:ha().shape({headers:ha().arrayOf(ha().string),__pkg_dir:ha().string}).isRequired,uris:ha().arrayOf(ha().string),osFsGlob:ha().func.isRequired});const up=(0,fa.$j)((function(e,t){return{uris:t.data.__pkg_dir?Ct(e,pp.getGlobPatterns(),t.data.__pkg_dir):void 0}}),{osFsGlob:Ee})(pp);class dp extends qt.Component{getVersionName(){return this.props.data&&this.props.data.version?this.props.data.version&&this.props.data.version.name?this.props.data.version.name:this.props.data.version:null}generatePIOProjectConf(){const e=this.getVersionName(),t=this.props.data.ownername?`${this.props.data.ownername}/${this.props.data.name}`:this.props.data.name;let r="# platformio.ini â€“ project configuration file\n\n[env:my_build_env]";return this.props.data.platforms&&this.props.data.platforms.length&&(r+=`\nplatform = ${this.props.data.platforms[0].name}`),this.props.data.frameworks&&this.props.data.frameworks.length&&(r+=`\nframework = ${this.props.data.frameworks[0].name}`),r+="\nlib_deps =",e?e.match(/^[\d\.]+$/)?(r+=`\n  # RECOMMENDED\n  # Accept new functionality in a backwards compatible manner and patches\n  ${t} @ ^${e}\n\n  # Accept only backwards compatible bug fixes\n  # (any version with the same major and minor versions, and an equal or greater patch version)\n  ${t} @ ~${e}\n\n  # The exact version\n  ${t} @ ${e}\n    `,r):(r+=`\n  ${t} @ ${e}\n      `,r):(r+=`\n  ${t}\n      `,r)}render(){return qt.createElement("div",null,qt.createElement("h2",{style:{marginTop:0}},"Library Dependencies ",qt.createElement("small",null,"platformio.ini")),qt.createElement("div",{className:"block"},qt.createElement("p",null,"The PlatformIO Registry is fully compatible with"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://semver.org/")},"Semantic Versioning")," ",'and its "version" scheme'," ",qt.createElement("code",null,"<major>.<minor>.<patch>"),'. You can declare library dependencies in "platformio.ini" configuration file using'," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://docs.platformio.org/page/projectconf/section_env_library.html#lib-deps")},"lib_deps")," ","option.")),qt.createElement(np,{language:"ini",content:this.generatePIOProjectConf()}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(dp,"propTypes",{data:ha().shape({id:ha().number,ownername:ha().string,name:ha().string.isRequired,version:ha().oneOfType([ha().object,ha().string]).isRequired,versions:ha().array,platforms:ha().arrayOf(ha().shape({name:ha().string,title:ha().string})),frameworks:ha().arrayOf(ha().shape({name:ha().string,title:ha().string}))}).isRequired,osOpenUrl:ha().func.isRequired});r("7LYo");var mp=r("5GXF");class hp extends qt.Component{constructor(){super(...arguments),this.state={library:null,storageDir:null,installing:!1}}componentDidUpdate(){this.props.visible&&(this.props.projects||this.props.loadProjects(),setTimeout((()=>this.focus()),200))}focus(){this._inputElement&&this._inputElement.focus()}onDidLibraryChange(e){this.setState({library:e})}onDidStorage(e){this.setState({storageDir:e})}onDidInstall(){this.state.library?this.state.storageDir?(this.setState({installing:!0}),this.props.installLibrary(this.state.storageDir,this.state.library,(e=>{this.setState({installing:!1}),e||this.onDidCancel()}))):F.Z.error("Please select a project!"):this.focus()}onDidCancel(){this.setState({installing:!1,library:null}),this.props.onCancel()}render(){this.props.visible&&!this.state.library&&this.props.library&&this.setState({library:this.props.library});const e=this.props.projects||[];return qt.createElement(pt.Z,{visible:this.props.visible,confirmLoading:this.state.installing,title:"Add project dependency",width:700,okText:"Add",onOk:this.onDidInstall.bind(this),onCancel:this.onDidCancel.bind(this)},qt.createElement("div",{className:"block"},qt.createElement(Ua.default,{placeholder:"Library id, name, repository, requirements...",size:"large",style:{width:"100%"},value:this.state.library,onChange:e=>this.onDidLibraryChange(e.target.value),onPressEnter:this.onDidInstall.bind(this),ref:e=>this._inputElement=e})),qt.createElement("div",{className:"block"},qt.createElement(el.default,{placeholder:"Select a project",style:{width:"100%"},size:"large",onChange:this.onDidStorage.bind(this)},qt.createElement(el.default.OptGroup,{label:"Projects"},e.map((e=>qt.createElement(el.default.Option,{key:e.path,value:e.path,title:e.path},e.name)))),qt.createElement(el.default.OptGroup,{label:"Custom storage"},e.map((e=>e.extraLibStorages.map((e=>qt.createElement(el.default.Option,{key:e.path,value:e.path,title:e.path},e.name))))))),qt.createElement("div",null,qt.createElement("small",null,'You can manage your projects in the "Projects" section: create a new or add existing.'))),qt.createElement(Wa.Z,null,"Information"),qt.createElement(mp.Z,null,qt.createElement(mp.Z.Panel,{header:"Registry and Specification",key:"spec"},qt.createElement("p",null,"The PlatformIO Registry is fully compatible with"," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://semver.org/")},"Semantic Versioning")," ",'and its "version" scheme'," ",qt.createElement("code",null,"<major>.<minor>.<patch>"),'. You can declare library dependencies in "platformio.ini" configuration file using'," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://docs.platformio.org/page/projectconf/section_env_library.html#lib-deps")},"lib_deps")," ","option. The following syntax is supported:"),qt.createElement("ul",null,qt.createElement("li",null,qt.createElement("code",null,"^1.2.3")," - any compatible version (new functionality in a backwards compatible manner and patches are allowed, 1.x.x)."," ",qt.createElement("b",null,"RECOMMENDED")),qt.createElement("li",null,qt.createElement("code",null,"~1.2.3")," - any version with the same major and minor versions, and an equal or greater patch version"),qt.createElement("li",null,qt.createElement("code",null,">1.2.3")," - any version greater than 1.2.3. >=, <, and <= are also possible"),qt.createElement("li",null,qt.createElement("code",null,">0.1.0,!=0.2.0,<0.3.0")," - any version greater than 0.1.0, not equal to 0.2.0 and less than 0.3.0"),qt.createElement("li",null,qt.createElement("code",null,"1.2.3")," - the exact version number. Use only this exact version"))),qt.createElement(mp.Z.Panel,{header:"External resources",key:"format"},qt.createElement("ul",{className:"list-styled"},qt.createElement("li",null,qt.createElement("code",null,"<zip or tarball url>")),qt.createElement("li",null,qt.createElement("code",null,"file://<zip or tarball file>")),qt.createElement("li",null,qt.createElement("code",null,"file://<folder>")),qt.createElement("li",null,qt.createElement("code",null,"<repository>")),qt.createElement("li",null,qt.createElement("code",null,"<name>=<repository>"),' (the "name" it should have locally)'),qt.createElement("li",null,qt.createElement("code",null,"<repository#tag>"),' ("tag" can be commit, branch or tag)'),qt.createElement("li",null,qt.createElement("a",{onClick:()=>this.props.osOpenUrl("https://docs.platformio.org/page/userguide/lib/cmd_install.html")},"more in docs..."))))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(hp,"propTypes",{visible:ha().bool.isRequired,onCancel:ha().func.isRequired,library:ha().string,projects:ha().array,installLibrary:ha().func.isRequired,loadProjects:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const fp=(0,fa.$j)((function(e){return{projects:vn(e)}}),{installLibrary:Zn,loadProjects:Ns,osOpenUrl:ue})(hp);var gp=r("DlQD"),yp=r.n(gp);function bp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ep extends qt.Component{static prepareAPI(e){if(!e)return null;const t=new(Lt())(e);if("github.com"!==t.hostname)return null;var[,r,n]=t.pathname.split("/",3);return n.endsWith(".git")&&(n=n.substr(0,n.length-4)),{provider:t.hostname,requestEndpoint:`https://api.github.com/repos/${r}/${n}/releases`}}constructor(){super(...arguments);const e=Ep.prepareAPI(this.props.uri);e&&this.props.requestContent({uri:e.requestEndpoint,cacheValid:"1h"})}render(){const e=Ep.prepareAPI(this.props.uri);return!this.props.uri||!e||this.props.items&&0===this.props.items.length?qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Information")):qt.createElement("div",null,this.props.items?qt.createElement(vp,{items:this.props.items}):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})))}}bp(Ep,"propTypes",{uri:ha().string.isRequired,items:ha().arrayOf(ha().object),requestContent:ha().func.isRequired});class vp extends qt.Component{render(){const e=new(yp().Renderer);return e.link=function(e,t,r){return yp().Renderer.prototype.link.call(this,e,t,r).replace("<a",'<a target="_blank" ')},yp().setOptions({renderer:e}),qt.createElement("div",{className:"release-notes"},qt.createElement("h2",null,"Release Notes"),this.props.items.map((e=>qt.createElement("div",{key:e.id},qt.createElement("h3",null,qt.createElement(pa.default,{title:e.tag_name},e.name||e.tag_name)," ",qt.createElement("small",null,"released"," ",qt.createElement(pa.default,{title:e.created_at},Er().relativeTime(new Date(e.created_at).getTime()/1e3)))),qt.createElement("div",{dangerouslySetInnerHTML:{__html:yp()(e.body||"")}})))))}}bp(vp,"propTypes",{items:ha().array.isRequired});const Op=(0,fa.$j)((function(e,t){const r=Ep.prepareAPI(t.uri);if(!r)return{};const n=jt(e,r.requestEndpoint);return{items:n?JSON.parse(n):null}}),{requestContent:ve})(Ep);class wp extends qt.Component{constructor(){super(...arguments),this.state={installToVisible:!1,installing:!1,uninstalling:!1,selectedVersion:null,activeTab:"examples"}}onDidTabChange(e){this.setState({activeTab:e})}onDidVersionChange(e){this.setState({selectedVersion:e})}onDidInstallTo(){this.setState({installToVisible:!0})}onDidCancelInstallTo(){this.setState({installToVisible:!1})}onDidInstall(){this.setState({installing:!0}),this.props.installLibrary(null,this.getLibraryForInstall(),(()=>this.setState({installing:!1})))}onDidAuthorSearch(e){this.props.searchLibrary(`author:"${e}"`)}onDidFrameworkSearch(e){this.props.searchLibrary(`framework:${e}`)}onDidPlatformSearch(e){this.props.searchLibrary(`platform:${e}`)}onDidKeywordSearch(e){this.props.searchLibrary(`keyword:"${e}"`)}getLibraryForInstall(){const e=this.props.data.versions.length?this.props.data.versions[0].name:"";return!this.state.selectedVersion||e&&this.state.selectedVersion===e?e.match(/^[\d\.]+$/)?`${this.props.data.ownername}/${this.props.data.name}@^${e}`:`${this.props.data.ownername}/${this.props.data.name}`:`${this.props.data.ownername}/${this.props.data.name}@${this.state.selectedVersion}`}renderQuickInstallation(e){return qt.createElement("div",null,qt.createElement(fp,{library:this.getLibraryForInstall(),visible:this.state.installToVisible,onCancel:this.onDidCancelInstallTo.bind(this)}),qt.createElement("h3",null,"Installation"),qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,qt.createElement(el.default,{defaultValue:e[0].name,onChange:this.onDidVersionChange.bind(this)},e.map((e=>qt.createElement(el.default.Option,{key:e.name,value:e.name,title:e.released},e.component))))),qt.createElement("li",null,qt.createElement(ut.default,{type:"primary",disabled:this.state.installing,onClick:this.onDidInstallTo.bind(this)},qt.createElement(ba.default,{type:"download"})," Add to Project")),qt.createElement("li",null,"|"),qt.createElement("li",null,qt.createElement("a",{onClick:()=>this.setState({activeTab:"installation"})},"More info"))),qt.createElement("br",null))}renderExtra(){return this.props.data.__pkg_dir?qt.createElement("ul",{className:"list-inline",style:{marginTop:"9px"}},qt.createElement("li",null,qt.createElement(pa.default,{title:"Version"},qt.createElement(ba.default,{type:this.props.data.__src_url?"fork":"environment-o",className:"inline-block-tight"}),this.props.data.version))):null}render(){let e=null;this.props.data.versions&&(e=this.props.data.versions.slice(0).map((e=>(e.component=qt.createElement("span",null,qt.createElement("strong",null,e.name)," ",qt.createElement("small",null,"released ",Er().relativeTime(new Date(e.released).getTime()/1e3))),e))));const t=this.props.data.authors;return qt.createElement("div",null,qt.createElement("h1",null,this.props.data.name," ",t&&t.length&&qt.createElement("small",null,"by ",t[0].name)," ",qt.createElement("small",{className:"pull-right"},this.renderExtra())),qt.createElement("div",{className:"lead"},this.props.data.description),e&&this.renderQuickInstallation(e),qt.createElement(Ya.default,null,qt.createElement(Ga.default,{sm:18,className:"library-subpages"},qt.createElement(ep.default,{type:"card",activeKey:this.state.activeTab,onChange:this.onDidTabChange.bind(this)},qt.createElement(ep.default.TabPane,{tab:qt.createElement("span",null,qt.createElement(ba.default,{type:"copy"}),"Examples"),key:"examples"},qt.createElement(lp,{data:this.props.data})),qt.createElement(ep.default.TabPane,{tab:qt.createElement("span",null,qt.createElement(ba.default,{type:"cloud-download-o"}),"Installation"),key:"installation"},qt.createElement(dp,this.props)),qt.createElement(ep.default.TabPane,{tab:qt.createElement("span",null,qt.createElement(ba.default,{type:"file-add"}),"Headers"),key:"headers"},qt.createElement(up,{data:this.props.data})),qt.createElement(ep.default.TabPane,{tab:qt.createElement("span",null,qt.createElement(ba.default,{type:"clock-circle-o"}),"Changelog"),key:"changelog"},qt.createElement(Op,{uri:this.props.data.repository})))),qt.createElement(Ga.default,{sm:6},qt.createElement("h2",null,"Tags"),qt.createElement("div",{className:"inline-buttons"},this.props.data.keywords.map((e=>qt.createElement(ut.default,{key:e,icon:"tag",size:"small",onClick:()=>this.onDidKeywordSearch(e)},e)))),this.props.data.platforms.length>0&&qt.createElement("div",{className:"inline-buttons"},qt.createElement("h2",null,"Platforms"),this.props.data.platforms.map((e=>qt.createElement(ut.default,{key:e.name,icon:"appstore",size:"small",onClick:()=>this.onDidPlatformSearch(e.name)},e.title)))),this.props.data.frameworks.length>0&&qt.createElement("div",{className:"inline-buttons"},qt.createElement("h2",null,"Frameworks"),this.props.data.frameworks.map((e=>qt.createElement(ut.default,{key:e.name,icon:"setting",size:"small",onClick:()=>this.onDidFrameworkSearch(e.name)},e.title)))),qt.createElement("h2",null,"Authors"),this.props.data.authors.map((e=>qt.createElement("div",{key:e.name,className:"library-author"},qt.createElement(ba.default,{type:"book"}),qt.createElement("a",{onClick:()=>this.onDidAuthorSearch(e.name)},qt.createElement("strong",null,e.name)," ",qt.createElement("span",null,e.maintainer?"(maintainer)":"")),e.email&&qt.createElement("div",null,qt.createElement(ba.default,{type:"mail"}),qt.createElement("a",{onClick:()=>this.props.osOpenUrl(`mailto:${e.email}`)},e.email)),e.url&&qt.createElement("div",null,qt.createElement(ba.default,{type:"link"}),qt.createElement("a",{onClick:()=>this.props.osOpenUrl(e.url)},e.url))))),qt.createElement("h2",null,"Resources"),this.props.data.id>0&&qt.createElement("div",null,qt.createElement(ba.default,{type:"link"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(`https://platformio.org/lib/show/${this.props.data.id}/${this.props.data.name}`)},"Registry")),this.props.data.homepage&&qt.createElement("div",null,qt.createElement(ba.default,{type:"home"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.homepage)},"Homepage")),this.props.data.repository&&qt.createElement("div",null,qt.createElement(ba.default,{type:"github"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.repository)},"Repository")),this.props.data.__src_url&&qt.createElement("div",null,qt.createElement(ba.default,{type:"github"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.__src_url)},"Source")),this.props.data.dlstats&&qt.createElement("div",null,qt.createElement("h2",null,"Downloads"),qt.createElement("b",null,this.props.data.dlstats.day)," in the last day",qt.createElement("br",null),qt.createElement("b",null,this.props.data.dlstats.week)," in the last week",qt.createElement("br",null),qt.createElement("b",null,this.props.data.dlstats.month)," in the last month"),e&&qt.createElement("div",null,qt.createElement("h2",null,"Versions"),e.map((e=>qt.createElement("div",{key:e.name},qt.createElement(pa.default,{placement:"left",title:e.released},e.component))))))))}}function jp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jp(Object(r),!0).forEach((function(t){kp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(wp,"propTypes",{data:ha().shape({id:ha().number,ownername:ha().string.isRequired,name:ha().string.isRequired,description:ha().string.isRequired,homepage:ha().string,repository:ha().string,keywords:ha().array.isRequired,authors:ha().array.isRequired,platforms:ha().array,frameworks:ha().array,dlstats:ha().object,version:ha().oneOfType([ha().object,ha().string]).isRequired,versions:ha().arrayOf(ha().object),__src_url:ha().string,__pkg_dir:ha().string}),osOpenUrl:ha().func.isRequired,searchLibrary:ha().func.isRequired,installLibrary:ha().func.isRequired,showInstalledLibraries:ha().func.isRequired});class Cp extends qt.Component{constructor(){super(...arguments),this.props.loadLibraryData(this.props.idOrManifest)}render(){return qt.createElement("div",{className:"page-container libraries-detail"},this.props.data?qt.createElement(wp,this.props):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})))}}kp(Cp,"contextTypes",{router:ha().object.isRequired}),kp(Cp,"propTypes",{data:ha().object,idOrManifest:ha().oneOfType([ha().number,ha().object]),osOpenUrl:ha().func.isRequired,osRevealFile:ha().func.isRequired,loadLibraryData:ha().func.isRequired,installLibrary:ha().func.isRequired,searchLibrary:ha().func.isRequired,showInstalledLibraries:ha().func.isRequired});const Rp=(0,fa.$j)((function(e,t){const r=t.location.state.idOrManifest;return{data:Li(e,r),idOrManifest:r,searchLibrary:(e,r)=>tt(t.history,"/libraries/registry/search",{query:e,page:r}),showInstalledLibraries:()=>tt(t.history,"/libraries/installed")}}),Pp(Pp({},a),{},{osOpenUrl:ue,osRevealFile:de}))(Cp);class Dp extends qt.Component{constructor(){super(...arguments),this.props.loadInstalledLibs()}render(){return qt.createElement("div",{className:"page-container"},qt.createElement(Jc,this.props),this.props.items&&0===this.props.items.length&&qt.createElement("div",{className:"text-center"},qt.createElement("br",null),qt.createElement(ut.default,{icon:"star",type:"primary",onClick:()=>this.props.searchLibrary("")},"Show TOP libraries")))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Dp,"propTypes",{items:ha().arrayOf(ha().instanceOf(Gn).isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,loadInstalledLibs:ha().func.isRequired,osRevealFile:ha().func.isRequired,searchLibrary:ha().func.isRequired,showLibrary:ha().func.isRequired,uninstallLibrary:ha().func.isRequired});const Sp=(0,fa.$j)((function(e,t){return{items:Vi(e),filterValue:Di(e),searchLibrary:(e,r)=>tt(t.history,"/libraries/registry/search",{query:e,page:r}),showLibrary:e=>tt(t.history,"/libraries/installed/show",{idOrManifest:e})}}),(function(e){return(0,c.DE)(Object.assign({},a,{osRevealFile:de,setFilter:t=>e(T(ki,t))}),e)}))(Dp);class xp extends qt.Component{componentWillUnmount(){this.subscriptions&&this.subscriptions.dispose()}onDidShow(e,t){e.stopPropagation(),this.props.showLibrary(t)}onDidFilterSearch(e,t,r){e.stopPropagation(),this.props.searchLibrary(`${t}:"${r}"`)}render(){const e=qt.createElement("div",{className:"clearfix"},qt.createElement("div",{className:"pull-left"},qt.createElement("a",{onClick:e=>this.onDidShow(e,this.props.item.id)},this.props.item.name)," ",qt.createElement("small",null,"by"," ",this.props.item.authornames.length?this.props.item.authornames[0]:"")),qt.createElement("small",{className:"pull-right list-item-card-head-extra"},this.renderExtraHead()));return qt.createElement(Cl.Z,{hoverable:!0,title:e,onClick:e=>this.onDidShow(e,this.props.item.id),className:"list-item-card"},qt.createElement("div",{className:"block"},this.props.item.description),qt.createElement("div",null,qt.createElement(ba.default,{type:"tag",className:"inline-block-tight"}),this.renderKeywords(this.props.item.keywords)),qt.createElement("div",null,qt.createElement(pa.default,{title:"Compatible platforms"},qt.createElement(ba.default,{type:"appstore",className:"inline-block-tight"}),this.renderFrameworksOrPlatforms(this.props.item.platforms,"platform"))))}renderExtraHead(){return qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,qt.createElement(pa.default,{title:"Downloads"},qt.createElement(ba.default,{type:"download",className:"inline-block-tight"}),this.props.item.dllifetime.toLocaleString())),qt.createElement("li",null,qt.createElement(pa.default,{title:"Total examples"},qt.createElement(ba.default,{type:"copy",className:"inline-block-tight"}),this.props.item.examplenums)),qt.createElement("li",null,qt.createElement(pa.default,{title:"Compatible frameworks"},qt.createElement(ba.default,{type:"setting",className:"inline-block-tight"}),this.renderFrameworksOrPlatforms(this.props.item.frameworks,"framework"))))}renderFrameworksOrPlatforms(e,t){return qt.createElement("span",null,e.map(((r,n)=>qt.createElement("a",{key:r.name,onClick:e=>this.onDidFilterSearch(e,t,r.name)},r.title,n<e.length-1?", ":""))))}renderKeywords(e){return qt.createElement("span",null,e.map(((t,r)=>qt.createElement("a",{key:t,onClick:e=>this.onDidFilterSearch(e,"keyword",t)},t,r<e.length-1?", ":""))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(xp,"propTypes",{item:ha().shape({id:ha().number.isRequired,name:ha().string.isRequired,description:ha().string.isRequired,examplenums:ha().number.isRequired,dllifetime:ha().number.isRequired,frameworks:ha().arrayOf(ha().object).isRequired,platforms:ha().arrayOf(ha().object).isRequired,keywords:ha().arrayOf(ha().string).isRequired,authornames:ha().arrayOf(ha().string).isRequired}),searchLibrary:ha().func.isRequired,showLibrary:ha().func.isRequired});class Tp extends qt.Component{constructor(){super(...arguments),this.state={searchQuery:""}}componentDidMount(){this._searchInputElement&&this._searchInputElement.focus()}onQueryChange(e){this.setState({searchQuery:e})}onDidSearch(){this.props.searchLibrary(this.state.searchQuery)}render(){return qt.createElement("div",{className:"lib-search-from"},qt.createElement(Ua.default.Search,{key:this.props.defaultSearch,enterButton:!0,placeholder:"Search libraries...",defaultValue:this.props.defaultSearch,size:"large",onChange:e=>this.onQueryChange(e.target.value),onSearch:this.onDidSearch.bind(this),ref:e=>this._searchInputElement=e}),qt.createElement("div",{className:"block search-tips"},qt.createElement(ut.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("tft display"),title:'Search in "library.json" fields'},"tft display"),qt.createElement(ut.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("dht*"),title:"Search for libraries that support DHT ICs (DHT11, DHT22)"},"dht*"),qt.createElement(ut.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("header:RH_ASK.h"),title:"Search by header files (#inculde)"},"header:RH_ASK.h"),qt.createElement(ut.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("keyword:mqtt"),title:"Filter libraries by keyword"},"keyword:mqtt"),qt.createElement(ut.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("framework:mbed"),title:"ARM mbed based libraries"},"framework:mbed"),qt.createElement(ut.default,{size:"small",icon:"search",onClick:()=>this.props.searchLibrary("platform:espressif8266"),className:"btn btn-default btn-xs icon icon-search",title:"Search for Espressif 8266 compatible libraries"},"platform:espressif8266"),qt.createElement("a",{href:"http://docs.platformio.org/page/userguide/lib/cmd_search.html"},"more...")))}}function Ip(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Tp,"propTypes",{searchLibrary:ha().func.isRequired,defaultSearch:ha().string});class Np extends qt.Component{constructor(){super(...arguments),this._moreItems=[],this.props.loadSearchResult(this.props.searchQuery)}componentDidUpdate(e){const t=this.props.searchQuery!==e.searchQuery;(t||this.props.searchPage!==e.searchPage)&&(!t&&this.props.searchPage||(this._moreItems=[]),this.props.loadSearchResult(this.props.searchQuery,this.props.searchPage))}onDidMoreResults(){this._moreItems=this._moreItems.concat(this.props.result.items),this.props.searchLibrary(this.props.searchQuery,this.props.result.page+1)}hasMoreResults(){return this.getStatus()===Np.STATUS.LOADING_MORE||!!this.props.result&&this.props.result.page*this.props.result.perpage<this.props.result.total}getStatus(){return!this.props.result&&this._moreItems.length?Np.STATUS.LOADING_MORE:this.props.result?0===this.props.result.items.length?Np.STATUS.NORESULTS:Np.STATUS.LOADED:Np.STATUS.LOADING}getTotalResults(){return this.props.result?this.props.result.total:-1}render(){const e=this.getStatus(),t=this.getTotalResults();let r=this.props.result?this.props.result.items:[];return this._moreItems.length&&(r=this._moreItems.concat(r)),qt.createElement("div",{className:"page-container"},qt.createElement(Tp,{searchLibrary:this.props.searchLibrary,defaultSearch:this.props.searchQuery}),t>0&&qt.createElement("h1",null,"Libraries ",qt.createElement(xa.Z,{overflowCount:1e5,count:t})),e===Np.STATUS.LOADING&&qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})),e===Np.STATUS.NORESULTS&&qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Results")),qt.createElement("div",{className:"block"},r.map((e=>qt.createElement(xp,{key:e.id,item:e,searchLibrary:this.props.searchLibrary,showLibrary:this.props.showLibrary})))),this.hasMoreResults()&&qt.createElement("div",{className:"block text-center"},qt.createElement(ut.default,{onClick:this.onDidMoreResults.bind(this),loading:e===Np.STATUS.LOADING_MORE},"More...")))}}Ip(Np,"propTypes",{result:ha().shape({items:ha().array.isRequired,total:ha().number.isRequired,page:ha().number.isRequired,perpage:ha().number.isRequired}),searchLibrary:ha().func.isRequired,showLibrary:ha().func.isRequired,loadSearchResult:ha().func.isRequired,searchQuery:ha().string.isRequired,searchPage:ha().number}),Ip(Np,"STATUS",{LOADING:0,LOADING_MORE:1,NORESULTS:2,LOADED:3});const qp=(0,fa.$j)((function(e,t){return{result:Ii(e,t.location.state.query,t.location.state.page),searchQuery:t.location.state.query,searchPage:t.location.state.page,searchLibrary:(e,r)=>tt(t.history,"/libraries/registry/search",{query:e,page:r}),showLibrary:e=>tt(t.history,"/libraries/registry/show",{idOrManifest:e})}}),a)(Np);class _p extends qt.Component{getKeywordBtnSize(e){return e<10?"large":e<25?"default":"small"}onDidKeywordSearch(e){return this.props.searchLibrary(`keyword:"${e}"`)}onDidRegister(){this.props.osOpenUrl("http://docs.platformio.org/page/librarymanager/creating.html")}render(){return qt.createElement("div",null,qt.createElement("div",{className:"text-right"},qt.createElement(ut.default.Group,null,qt.createElement(ut.default,{ghost:!0,type:"primary",icon:"code-o",onClick:()=>this.props.searchLibrary("")},"All Libraries"),qt.createElement(ut.default,{ghost:!0,type:"primary",icon:"file-add",onClick:this.onDidRegister.bind(this)},"Publish"))),qt.createElement(Wa.Z,{style:{marginTop:0}},"Recently"),qt.createElement(Ya.default,null,qt.createElement(Ga.default,{span:8},qt.createElement("h3",null,"Updated"),qt.createElement("ul",null,this.props.data.updated.map((e=>qt.createElement("li",{key:e.id},qt.createElement("a",{className:"inline-block-tight",onClick:()=>this.props.showLibrary(e.id)},e.name),qt.createElement("small",{title:e.date},Er().relativeTime(new Date(e.date).getTime()/1e3))))))),qt.createElement(Ga.default,{span:8},qt.createElement("h3",null,"Added"),qt.createElement("ul",null,this.props.data.added.map((e=>qt.createElement("li",{key:e.id},qt.createElement("a",{className:"inline-block-tight",onClick:()=>this.props.showLibrary(e.id)},e.name),qt.createElement("small",{title:e.date},Er().relativeTime(new Date(e.date).getTime()/1e3))))))),qt.createElement(Ga.default,{span:8},qt.createElement("h3",null,"Keywords"),qt.createElement("ul",{className:"last-keywords"},this.props.data.lastkeywords.map((e=>qt.createElement("li",{key:e},qt.createElement(ut.default,{icon:"tag",size:"small",onClick:()=>this.onDidKeywordSearch(e)},e))))))),qt.createElement(Wa.Z,null,"Popular Tags"),qt.createElement("div",{className:"inline-buttons"},this.props.data.topkeywords.map(((e,t)=>qt.createElement(ut.default,{key:e,icon:"tag",size:this.getKeywordBtnSize(t),onClick:()=>this.onDidKeywordSearch(e)},e)))),qt.createElement(Wa.Z,null,"Trending"),qt.createElement(Ya.default,{className:"trending"},qt.createElement(Ga.default,{span:8},qt.createElement("h3",null,"Today"),qt.createElement("ul",null,this.props.data.dlday.map((e=>qt.createElement("li",{key:e.id},qt.createElement(pa.default,{title:`+${e.diff}, total: ${e.total}`},qt.createElement(ba.default,{type:"caret-up",size:"small"})),qt.createElement("a",{onClick:()=>this.props.showLibrary(e.id)},e.name)))))),qt.createElement(Ga.default,{span:8},qt.createElement("h3",null,"Week"),qt.createElement("ul",null,this.props.data.dlweek.map((e=>qt.createElement("li",{key:e.id},qt.createElement(pa.default,{title:`+${e.diff}, total: ${e.total}`},qt.createElement(ba.default,{type:"caret-up",size:"small"})),qt.createElement("a",{onClick:()=>this.props.showLibrary(e.id)},e.name)))))),qt.createElement(Ga.default,{span:8},qt.createElement("h3",null,"Month"),qt.createElement("ul",null,this.props.data.dlmonth.map((e=>qt.createElement("li",{key:e.id},qt.createElement(pa.default,{title:`+${e.diff}, total: ${e.total}`},qt.createElement(ba.default,{type:"caret-up",size:"small"})),qt.createElement("a",{onClick:()=>this.props.showLibrary(e.id)},e.name))))))))}}function Lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(r),!0).forEach((function(t){Ap(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ap(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(_p,"propTypes",{data:ha().shape({added:ha().array.isRequired,dlday:ha().array.isRequired,dlmonth:ha().array.isRequired,dlweek:ha().array.isRequired,lastkeywords:ha().array.isRequired,topkeywords:ha().array.isRequired,updated:ha().array.isRequired}),osOpenUrl:ha().func.isRequired,searchLibrary:ha().func.isRequired,showLibrary:ha().func.isRequired});class Up extends qt.Component{constructor(){super(...arguments),this.props.loadStats()}componentDidUpdate(e){e.data&&!this.props.data&&this.props.loadStats()}render(){return qt.createElement("div",{className:"page-container libraries-stats"},qt.createElement(Tp,{searchLibrary:this.props.searchLibrary}),this.props.data?qt.createElement(_p,this.props):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})))}}Ap(Up,"propTypes",{data:ha().object,loadStats:ha().func.isRequired,osOpenUrl:ha().func.isRequired,searchLibrary:ha().func.isRequired,showLibrary:ha().func.isRequired});const zp=(0,fa.$j)((function(e,t){return{data:Ni(e),searchLibrary:(e,r)=>tt(t.history,"/libraries/registry/search",{query:e,page:r}),showLibrary:e=>tt(t.history,"/libraries/registry/show",{idOrManifest:e})}}),Fp(Fp({},a),{},{osOpenUrl:ue}))(Up);class Vp extends qt.Component{constructor(){super(...arguments),this.props.loadLibUpdates()}render(){return qt.createElement("div",{className:"page-container"},qt.createElement(Jc,this.props))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Vp,"propTypes",{items:ha().arrayOf(ha().instanceOf(Gn).isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,loadLibUpdates:ha().func.isRequired,osRevealFile:ha().func.isRequired,searchLibrary:ha().func.isRequired,showLibrary:ha().func.isRequired,updateLibrary:ha().func.isRequired});const $p=(0,fa.$j)((function(e,t){return{items:$i(e),filterValue:Si(e),searchLibrary:(e,r)=>tt(t.history,"/libraries/registry/search",{query:e,page:r}),showLibrary:e=>tt(t.history,"/libraries/installed/show",{idOrManifest:e})}}),(function(e){return(0,c.DE)(Object.assign({},a,{osRevealFile:de,setFilter:t=>e(T(Ci,t))}),e)}))(Vp),Mp=[{path:"/libraries",icon:"book",label:"Registry",component:zp},{path:"/libraries/registry/show",component:Rp},{path:"/libraries/registry/search",component:qp},{path:"/libraries/installed",icon:"hdd",label:"Installed",component:Sp},{path:"/libraries/installed/show",component:Rp},{path:"/libraries/builtin",icon:"eye-o",label:"Built-in",component:Xc},{path:"/libraries/builtin/show",component:Rp},{path:"/libraries/updates",icon:"cloud-download-o",label:"Updates",component:$p}];class Zp extends qt.Component{render(){return qt.createElement("section",{className:"libraries-module"},qt.createElement(Fa,{routes:Mp}))}}class Bp extends qt.Component{render(){return this.props.data?qt.createElement("div",null,qt.createElement("h1",null,this.props.data.title),qt.createElement("div",{className:"lead"},this.props.data.description),qt.createElement(Ya.default,null,qt.createElement(Ga.default,{sm:20,className:"tabs-block"},qt.createElement(ep.default,{type:"card"},qt.createElement(ep.default.TabPane,{tab:qt.createElement("span",null,qt.createElement(ba.default,{type:"calculator"}),"Boards"),key:"boards"},qt.createElement(Lo,{items:this.props.data.boards,noHeader:!0,excludeColumns:["Frameworks"],showPlatform:this.props.showPlatform,showFramework:this.props.showFramework,osOpenUrl:this.props.osOpenUrl})))),qt.createElement(Ga.default,{sm:4},qt.createElement("h2",null,"Platforms"),qt.createElement("ul",{className:"resources-list"},this.props.data.platforms.map((e=>qt.createElement("li",{key:e.name},qt.createElement(ut.default,{icon:"appstore",size:"small",onClick:()=>this.props.showPlatform(e.name)},e.title))))),qt.createElement("h2",null,"Resources"),qt.createElement("ul",{className:"resources-list"},qt.createElement("li",null,qt.createElement("kbd",null,"framework = ",this.props.data.name)),qt.createElement("li",null,qt.createElement(ba.default,{type:"home"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.homepage)},"Homepage")),qt.createElement("li",null,qt.createElement(ba.default,{type:"info-circle-o"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(`http://docs.platformio.org/page/frameworks/${this.props.data.name}.html`)},"Documentation")),qt.createElement("li",null,qt.createElement(ba.default,{type:"link"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.url)},"Vendor")))))):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}}function Yp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yp(Object(r),!0).forEach((function(t){Gp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Bp,"propTypes",{data:ha().shape({name:ha().string.isRequired,title:ha().string.isRequired,description:ha().string.isRequired,homepage:ha().string.isRequired,url:ha().string,platforms:ha().arrayOf(ha().object),boards:ha().arrayOf(ha().object)}),showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,osOpenUrl:ha().func.isRequired});class Kp extends qt.Component{constructor(){super(...arguments),this.props.loadFrameworkData(this.props.name)}render(){return qt.createElement("div",{className:"page-container pf-detail"},qt.createElement(Bp,this.props))}}Gp(Kp,"propTypes",{name:ha().string.isRequired,data:ha().object,loadFrameworkData:ha().func.isRequired,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const Hp=(0,fa.$j)((function(e,t){const r=t.location.state.name;return{name:r,data:vi(e,r),showPlatform:e=>tt(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>tt(t.history,"/platforms/frameworks/show",{name:e})}}),Wp(Wp({},o),{},{osOpenUrl:ue}))(Kp);class Jp extends qt.Component{componentDidMount(){this._searchInputElement&&this._searchInputElement.focus()}onDidFilter(e){this.props.setFilter(e)}onDidShow(e,t){e.stopPropagation(),this.props.showFramework(t)}onDidPlatform(e,t){e.stopPropagation(),this.props.showPlatform(t)}render(){return this.props.items?qt.createElement("div",null,qt.createElement(Ua.default.Search,{allowClear:!0,className:"block",placeholder:"Filter frameworks by name",defaultValue:this.props.filterValue,size:"large",onChange:e=>this.onDidFilter(e.target.value),ref:e=>this._searchInputElement=e}),this.props.items&&0===this.props.items.length&&qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Results")),this.props.items.map((e=>this.renderItem(e)))):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}renderItem(e){const t=qt.createElement("a",{onClick:t=>this.onDidShow(t,e.name)},e.title);return qt.createElement(Cl.Z,{hoverable:!0,key:e.name,title:t,onClick:t=>this.onDidShow(t,e.name),className:"list-item-card"},qt.createElement("div",{className:"block"},e.description),qt.createElement("div",{className:"inline-buttons"},(e.platforms||[]).map((e=>qt.createElement(ut.default,{key:e.title,icon:"appstore",size:"small",onClick:t=>this.onDidPlatform(t,e.name)},e.title)))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Jp,"propTypes",{items:ha().arrayOf(ha().object.isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired});class Qp extends qt.Component{constructor(){super(...arguments),this.props.loadRegistryFrameworks()}render(){return qt.createElement("div",{className:"page-container"},qt.createElement(Jp,this.props))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Qp,"propTypes",{items:ha().arrayOf(ha().object.isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,loadRegistryFrameworks:ha().func.isRequired,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired});const Xp=(0,fa.$j)((function(e,t){return{items:ji(e),filterValue:ni(e),showPlatform:e=>tt(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>tt(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,c.DE)(Object.assign({},o,{setFilter:t=>e(T(Jn,t))}),e)}))(Qp);class eu extends qt.Component{constructor(){super(...arguments),this.state={actionInProgress:!1,componentMounted:!1}}componentDidMount(){this.setState({componentMounted:!0})}componentWillUnmount(){this.setState({componentMounted:!1})}onDidReveal(e){e.stopPropagation(),this.props.item.__pkg_dir&&this.props.osRevealFile(this.props.item.__pkg_dir)}onDidShow(e){e.stopPropagation(),this.props.showPlatform(this.props.item.version?`${this.props.item.name}@${this.props.item.version}`:this.props.item.name)}onDidInstall(e){e.stopPropagation();const t=e.target;t.classList.add("btn-inprogress","disabled"),this.props.installPlatform(this.props.item.name,(()=>t.classList.remove("btn-inprogress","disabled")))}onDidUninstallOrUpdate(e,t){e.stopPropagation(),this.setState({actionInProgress:!0}),("uninstall"===t?this.props.uninstallPlatform:this.props.updatePlatform)(this.props.item.__pkg_dir,(()=>this.state.componentMounted?this.setState({actionInProgress:!1}):{}))}onDidFramework(e,t){e.stopPropagation(),this.props.showFramework(t)}render(){const e=qt.createElement("a",{onClick:this.onDidShow.bind(this)},this.props.item.title);let t;return this.props.item.version&&(t=qt.createElement("span",null,qt.createElement(pa.default,{title:"Version"}," ",qt.createElement(ba.default,{type:this.props.item.__src_url?"fork":"environment-o"})," ",this.props.item.version," "))),qt.createElement(Cl.Z,{hoverable:!0,title:e,extra:t,onClick:this.onDidShow.bind(this),className:"list-item-card"},qt.createElement("div",{className:"block"},this.props.item.description),qt.createElement(Ya.default,null,qt.createElement(Ga.default,{sm:16},qt.createElement("div",{className:"inline-buttons"},(this.props.item.frameworks||[]).map((e=>qt.createElement(ut.default,{key:e.title,icon:"setting",size:"small",onClick:t=>this.onDidFramework(t,e.name)},e.title))))),qt.createElement(Ga.default,{sm:8,className:"text-right text-nowrap"},qt.createElement(ut.default.Group,null,this.props.actions&&this.props.actions.includes("uninstall")&&qt.createElement(Wc.Z,{title:"Are you sure?",okText:"Yes",cancelText:"No",onCancel:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onConfirm:e=>this.onDidUninstallOrUpdate(e,"uninstall")},qt.createElement(ut.default,{type:"primary",icon:"delete",loading:this.state.actionInProgress,disabled:this.state.actionInProgress},"Uninstall")),this.props.actions&&this.props.actions.includes("update")&&qt.createElement(ut.default,{type:"primary",icon:"cloud-download-o",loading:this.state.actionInProgress,disabled:this.state.actionInProgress,onClick:e=>this.onDidUninstallOrUpdate(e,"update")},this.props.item.versionLatest?`Update to ${this.props.item.versionLatest}`:"Update")))))}}function tu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ru(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(r),!0).forEach((function(t){nu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(eu,"propTypes",{item:ha().shape({name:ha().string.isRequired,title:ha().string.isRequired,description:ha().string.isRequired,version:ha().string,versionLatest:ha().object,frameworks:ha().array,__src_url:ha().string,__pkg_dir:ha().string}),actions:ha().arrayOf(ha().string),showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,installPlatform:ha().func.isRequired,uninstallPlatform:ha().func.isRequired,updatePlatform:ha().func.isRequired,osRevealFile:ha().func.isRequired});class iu extends qt.Component{constructor(){super(...arguments),this.state={value:null,installing:!1}}componentDidUpdate(){setTimeout((()=>this.focus()),200)}focus(){this._inputElement&&this._inputElement.focus()}onDidValue(e){this.setState({value:e})}onDidInstall(){this.state.value?(this.setState({installing:!0}),this.props.installPlatform(this.state.value,(e=>{this.setState({installing:!1}),e||(this.props.loadInstalledPlatforms(),this.onDidCancel())}))):this.focus()}onDidCancel(){this.setState({value:null,installing:!1}),this.props.onCancel()}render(){return qt.createElement(pt.Z,{visible:this.props.visible,confirmLoading:this.state.installing,title:"Advanced platform installation",okText:"Install",onOk:this.onDidInstall.bind(this),onCancel:this.onDidCancel.bind(this)},qt.createElement(Ua.default,{className:"block",placeholder:"Platform name, repository, requirements...",size:"large",value:this.state.value,onChange:e=>this.onDidValue(e.target.value),onPressEnter:this.onDidInstall.bind(this),ref:e=>this._inputElement=e}),qt.createElement("ul",{className:"block list-styled"},qt.createElement("li",null,qt.createElement("code",null,"<name>")," - Foo"),qt.createElement("li",null,qt.createElement("code",null,"<name>@<version>")," - Foo@1.2.3 or Foo@~1.2.3"),qt.createElement("li",null,qt.createElement("code",null,"<name>@<version range>")," - Foo@!=1.2.0"),qt.createElement("li",null,qt.createElement("code",null,"<zip or tarball url>")),qt.createElement("li",null,qt.createElement("code",null,"file://<zip or tarball file>")),qt.createElement("li",null,qt.createElement("code",null,"file://<folder>")),qt.createElement("li",null,qt.createElement("code",null,"<repository>")),qt.createElement("li",null,qt.createElement("code",null,"<name>=<repository>")," (name it should have locally)"),qt.createElement("li",null,qt.createElement("code",null,"<repository#tag>"),' ("tag" can be commit, branch or tag)'),qt.createElement("li",null,qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/userguide/platforms/cmd_install.html")},"more (docs)..."))),qt.createElement("div",{className:"block"},"Project can depend on a specific version of development platform, please use"," ",qt.createElement("code",null,"platform = name@x.y.z")," option in ",qt.createElement("b",null,"platformio.ini")," in this case."," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf/section_env_general.html#platform")},"More details...")))}}nu(iu,"propTypes",{visible:ha().bool.isRequired,onCancel:ha().func.isRequired,installPlatform:ha().func.isRequired,loadInstalledPlatforms:ha().func.isRequired,osOpenUrl:ha().func.isRequired});const su=(0,fa.$j)(null,ru(ru({},o),{},{osOpenUrl:ue}))(iu);function au(){return au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},au.apply(this,arguments)}class ou extends qt.Component{constructor(){super(...arguments),this.state={advancedVisible:!1}}onDidFilter(e){this.props.setFilter(e)}onDidAdvanced(){this.setState({advancedVisible:!0})}onDidCancelAdvanced(){this.setState({advancedVisible:!1})}render(){return this.props.items?qt.createElement("div",null,!wa("singleDevPlatform")&&this.renderAdvanced(),this.props.items&&0===this.props.items.length&&qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Results")),this.props.items.filter((e=>wa("filterPlatformCard",(()=>!0))(e))).map((e=>qt.createElement(eu,au({key:e.__pkg_dir||e.name,item:e},this.props))))):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}renderAdvanced(){return qt.createElement("div",null,qt.createElement(su,{visible:this.state.advancedVisible,onCancel:this.onDidCancelAdvanced.bind(this)}),qt.createElement(Ua.default.Search,{allowClear:!0,className:"block",placeholder:"Filter platforms by name...",defaultValue:this.props.filterValue,size:"large",onChange:e=>this.onDidFilter(e.target.value),ref:e=>e?e.focus():null}),qt.createElement("div",{className:"block text-right"},qt.createElement(ut.default.Group,null,qt.createElement(ut.default,{ghost:!0,type:"primary",icon:"download",disabled:this.state.advancedVisible,onClick:e=>this.onDidAdvanced(e)},"Advanced Installation"),qt.createElement(ut.default,{ghost:!0,type:"primary",icon:"plus-circle-o",onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/platforms/creating_platform.html")},"Custom Platform"))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ou,"propTypes",{items:ha().arrayOf(ha().object.isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,actions:ha().arrayOf(ha().string),showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,installPlatform:ha().func.isRequired,uninstallPlatform:ha().func.isRequired,updatePlatform:ha().func.isRequired,osOpenUrl:ha().func.isRequired,osRevealFile:ha().func.isRequired});class lu extends qt.Component{constructor(){super(...arguments),this.props.loadRegistryPlatforms()}render(){return qt.createElement("div",{className:"page-container"},qt.createElement(Po.Z,{className:"block",showIcon:!0,message:qt.createElement("div",null,"Native development platform depends on a system ",qt.createElement("kbd",null,"gcc"),". Please install it before and check ",qt.createElement("kbd",null,"gcc --version")," command.")}),qt.createElement(ou,this.props))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(lu,"propTypes",{items:ha().arrayOf(ha().object.isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,loadRegistryPlatforms:ha().func.isRequired,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,osOpenUrl:ha().func.isRequired,osRevealFile:ha().func.isRequired});const cu=(0,fa.$j)((function(e,t){return{items:bi(e),filterValue:si(e),showPlatform:e=>tt(t.history,"/platforms/desktop/show",{name:e}),showFramework:e=>tt(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,c.DE)(Object.assign({},o,{osOpenUrl:ue,osRevealFile:de,setFilter:t=>e(T(Xn,t))}),e)}))(lu);class pu extends qt.Component{getTableColumns(e){let t=[{title:"Name",key:"name",render:(e,t)=>qt.createElement("span",null,t.url?qt.createElement("a",{onClick:()=>this.props.osOpenUrl(t.url)},t.name):t.name)}];return e?(t=t.concat([{title:"Type",dataIndex:"type"},{title:"Optional",key:"optional",render:(e,t)=>qt.createElement(ba.default,{type:t.optional?"check":""})},{title:"Requirements",dataIndex:"requirements"},{title:"Installed",key:"installed",render:(e,t)=>qt.createElement("span",null,t.version," ",t.originalVersion&&qt.createElement("span",null," (",t.originalVersion,")"))}]),t):(t=t.concat([{title:"Description",dataIndex:"description"}]),t)}render(){if(!this.props.items||0===this.props.items.length)return null;const e=!!this.props.items[0].requirements;return qt.createElement("div",null,qt.createElement(Po.Z,{className:"block",showIcon:!0,message:this.renderNotifications(e)}),this.renderTable(e))}renderNotifications(e){return qt.createElement("div",null,e?qt.createElement("div",null,"Optional packages will be installed automatically depending on a build environment."):qt.createElement("div",null,"More detailed information about package requirements and installed versions is available for the"," ",qt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"installed platforms"),"."))}renderTable(e){let t=this.props.items;return t=t.sort(((e,t)=>nt(e.name.toUpperCase(),t.name.toUpperCase()))),e?qt.createElement(ro.Z,{rowKey:"name",pagination:!1,dataSource:t,columns:this.getTableColumns(e),expandedRowRender:this.renderExpandedRow.bind(this)}):qt.createElement(ro.Z,{rowKey:"name",pagination:!1,dataSource:t,columns:this.getTableColumns(e)})}renderExpandedRow(e){return qt.createElement("div",null,e.description)}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(pu,"propTypes",{items:ha().arrayOf(ha().shape({name:ha().string.isRequired,description:ha().string,type:ha().string,requirements:ha().string,version:ha().string,originalVersion:ha().string,url:ha().string,optional:ha().bool})),osOpenUrl:ha().func.isRequired,showInstalledPlatforms:ha().func.isRequired});class uu extends qt.Component{static getGlobPatterns(){const e=[];return["*",rr("*","*"),rr("*","*","*")].forEach((t=>{e.push(rr("examples",t,"platformio.ini")),e.push(rr("examples",t,"src","*.c")),e.push(rr("examples",t,"src","*.cpp")),e.push(rr("examples",t,"src","*.h")),e.push(rr("examples",t,"src","*.hpp")),e.push(rr("examples",t,"src","*.ino"))})),e}constructor(){super(...arguments),this.props.uris||this.props.osFsGlob(uu.getGlobPatterns(),this.props.pkgDir)}getItems(){return this.props.uris.length?this.props.uris.filter((e=>e.endsWith("platformio.ini"))).sort().map((e=>{const t=nr(e),r=t.split(tr).filter((e=>e.length));let n=ir(t);const i=r.lastIndexOf("examples");-1!==i&&(n=r.slice(i+1).join("/"));const s=new ip(n,t);return this.props.uris.forEach((e=>{e.startsWith(t)&&s.addSource(e,e.substr(t.length+1))})),s})):[]}render(){return this.props.uris?qt.createElement(ap,{items:this.getItems()}):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(uu,"propTypes",{pkgDir:ha().string.isRequired,uris:ha().arrayOf(ha().string),osFsGlob:ha().func.isRequired});const du=(0,fa.$j)((function(e,t){return{uris:Ct(e,uu.getGlobPatterns(),t.pkgDir)}}),{osFsGlob:Ee})(uu);class mu extends qt.Component{constructor(){super(...arguments),this.state={installing:!1,uninstalling:!1,versionForInstall:null}}onDidReveal(e){this.props.osRevealFile(e)}onDidVersionChange(e){this.setState({versionForInstall:e})}onDidInstall(){this.setState({installing:!0}),this.props.installPlatform(this.state.versionForInstall?`${this.props.data.name}@${this.state.versionForInstall}`:this.props.data.name,(()=>this.setState({installing:!1})))}onDidUninstall(){this.setState({uninstalling:!0}),this.props.uninstallPlatform(this.props.data.__pkg_dir,(e=>{this.setState({uninstalling:!1}),e||this.props.showInstalledPlatforms()}))}renderQuickInstallation(e){return qt.createElement("div",null,qt.createElement("h3",null,"Installation"),qt.createElement("ul",{className:"block list-inline"},qt.createElement("li",null,qt.createElement(el.default,{defaultValue:e[0],dropdownMatchSelectWidth:!1,onChange:this.onDidVersionChange.bind(this)},e.map((e=>qt.createElement(el.default.Option,{key:e,value:e},e))))),qt.createElement("li",null,qt.createElement(ut.default,{icon:"download",type:"primary",loading:this.state.installing,disabled:this.state.installing,onClick:this.onDidInstall.bind(this)},"Install"))))}renderExtra(){return this.props.data.__pkg_dir?qt.createElement("ul",{className:"list-inline",style:{marginTop:"9px"}},qt.createElement("li",null,qt.createElement(pa.default,{title:"Version"},qt.createElement(ba.default,{type:this.props.data.__src_url?"fork":"environment-o",className:"inline-block-tight"}),this.props.data.version)),qt.createElement("li",null,qt.createElement(ut.default.Group,null,qt.createElement(ut.default,{type:"primary",icon:"folder",onClick:()=>this.props.osRevealFile(this.props.data.__pkg_dir)},"Reveal"),qt.createElement(Wc.Z,{title:"Are you sure?",okText:"Yes",cancelText:"No",onConfirm:this.onDidUninstall.bind(this)},qt.createElement(ut.default,{type:"primary",icon:"delete",loading:this.state.uninstalling,disabled:this.state.uninstalling},"Uninstall"))))):null}render(){return qt.createElement("div",null,qt.createElement("h1",null,this.props.data.title," ",qt.createElement("small",{className:"pull-right"},this.renderExtra())),qt.createElement("div",{className:"lead"},this.props.data.description),this.props.data.versions&&this.renderQuickInstallation(this.props.data.versions.slice(0)),qt.createElement(Ya.default,null,qt.createElement(Ga.default,{sm:20,className:"tabs-block"},qt.createElement(ep.default,{type:"card"},qt.createElement(ep.default.TabPane,{tab:qt.createElement("span",null,(e="calculator",Oa.remapCustomIcons&&Oa.remapCustomIcons[e]?qt.createElement(Ea,{type:Oa.remapCustomIcons[e]}):qt.createElement(ba.default,{type:e})),ja("Boards")),key:"boards"},qt.createElement(Lo,{items:this.props.data.boards,noHeader:!0,excludeColumns:["Platform"],showPlatform:this.props.showPlatform,showFramework:this.props.showFramework,osOpenUrl:this.props.osOpenUrl})),qt.createElement(ep.default.TabPane,{tab:qt.createElement("span",null,qt.createElement(ba.default,{type:"copy"}),"Examples"),key:"examples"},this.props.data.__pkg_dir?qt.createElement(du,{pkgDir:this.props.data.__pkg_dir}):qt.createElement(Po.Z,{type:"error",showIcon:!0,message:qt.createElement("span",null,"Examples avaiable only for"," ",qt.createElement("a",{onClick:()=>this.props.showInstalledPlatforms()},"installed platforms"),".")})),qt.createElement(ep.default.TabPane,{tab:qt.createElement("span",null,qt.createElement(ba.default,{type:"appstore-o"}),"Packages"),key:"packages"},qt.createElement(pu,{items:this.props.data.packages,osOpenUrl:this.props.osOpenUrl,showInstalledPlatforms:this.props.showInstalledPlatforms})),qt.createElement(ep.default.TabPane,{tab:qt.createElement("span",null,qt.createElement(ba.default,{type:"clock-circle-o"}),"Changelog"),key:"changelog"},qt.createElement(Op,{uri:this.props.data.repository})))),qt.createElement(Ga.default,{sm:4},qt.createElement("h2",null,"Frameworks"),qt.createElement("ul",{className:"resources-list"},this.props.data.frameworks.map((e=>qt.createElement("li",{key:e.name},qt.createElement(ut.default,{icon:"setting",size:"small",onClick:()=>this.props.showFramework(e.name)},e.title))))),qt.createElement("h2",null,"Resources"),qt.createElement("ul",{className:"resources-list"},qt.createElement("li",null,qt.createElement("kbd",null,"platform = ",this.props.data.name)),qt.createElement("li",null,qt.createElement(ba.default,{type:"home"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.homepage)},"Homepage")),this.props.data.repository&&qt.createElement("li",null,qt.createElement(ba.default,{type:"github"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.repository)},"Repository")),qt.createElement("li",null,qt.createElement(ba.default,{type:"info-circle-o"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.docs||`http://docs.platformio.org/page/platforms/${this.props.data.name}.html`)},"Documentation")),qt.createElement("li",null,qt.createElement(ba.default,{type:"link"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.url)},"Vendor")),this.props.data.license&&qt.createElement("li",null,qt.createElement(ba.default,{type:"copyright",className:"inline-block-tight"}),qt.createElement("a",{onClick:()=>this.props.osOpenUrl(`https://opensource.org/licenses/${this.props.data.license}`)},this.props.data.license)),this.props.data.__src_url&&qt.createElement("li",null,qt.createElement(ba.default,{type:"github"})," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl(this.props.data.__src_url)},"Source")),this.props.data.versions&&qt.createElement("li",null,qt.createElement("h2",null,"Versions"),qt.createElement("ul",null,this.props.data.versions.slice(0).map((e=>qt.createElement("li",{key:e},qt.createElement(ba.default,{type:"environment-o",className:"inline-block-tight"}),e)))))))));var e}}function hu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(r),!0).forEach((function(t){gu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(mu,"propTypes",{data:ha().shape({name:ha().string.isRequired,title:ha().string.isRequired,description:ha().string.isRequired,url:ha().string,docs:ha().string,homepage:ha().string.isRequired,repository:ha().string,license:ha().string,version:ha().string,versions:ha().arrayOf(ha().string),frameworks:ha().arrayOf(ha().object),packages:ha().arrayOf(ha().object),boards:ha().arrayOf(ha().object),__src_url:ha().string,__pkg_dir:ha().string}),osRevealFile:ha().func.isRequired,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,showInstalledPlatforms:ha().func.isRequired,installPlatform:ha().func.isRequired,uninstallPlatform:ha().func.isRequired,osOpenUrl:ha().func.isRequired});class yu extends qt.Component{constructor(){super(...arguments),this.props.loadPlatformData(this.props.name)}render(){return qt.createElement("div",{className:"page-container pf-detail"},this.props.data?qt.createElement(mu,this.props):qt.createElement("div",{className:"text-center"},qt.createElement(to.default,{tip:"Loading...",size:"large"})))}}gu(yu,"propTypes",{name:ha().string.isRequired,data:ha().object,osOpenUrl:ha().func.isRequired,osRevealFile:ha().func.isRequired,loadPlatformData:ha().func.isRequired,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,installPlatform:ha().func.isRequired});const bu=(0,fa.$j)((function(e,t){const r=t.location.state.name;return{name:r,data:Ei(e,r),showPlatform:e=>tt(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>tt(t.history,"/platforms/frameworks/show",{name:e}),showInstalledPlatforms:()=>tt(t.history,"/platforms/installed")}}),fu(fu({},o),{},{osOpenUrl:ue,osRevealFile:de}))(yu);class Eu extends qt.Component{constructor(){super(...arguments),this.props.loadRegistryPlatforms()}render(){return qt.createElement("div",{className:"page-container"},qt.createElement(ou,this.props))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Eu,"propTypes",{items:ha().arrayOf(ha().object.isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,loadRegistryPlatforms:ha().func.isRequired,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,installPlatform:ha().func.isRequired,osOpenUrl:ha().func.isRequired,osRevealFile:ha().func.isRequired});const vu=(0,fa.$j)((function(e,t){return{items:yi(e),filterValue:ii(e),showPlatform:e=>tt(t.history,"/platforms/embedded/show",{name:e}),showFramework:e=>tt(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,c.DE)(Object.assign({},o,{osOpenUrl:ue,osRevealFile:de,setFilter:t=>e(T(Qn,t))}),e)}))(Eu);function Ou(){return Ou=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ou.apply(this,arguments)}class wu extends qt.Component{constructor(){super(...arguments),this.props.loadInstalledPlatforms()}render(){return qt.createElement("div",{className:"page-container"},qt.createElement(Po.Z,{className:"block",showIcon:!0,message:qt.createElement("div",null,"Project can depend on a specific version of development platform or VCS (Git, Mercurial and Subversion)."," ",qt.createElement("a",{onClick:()=>this.props.osOpenUrl("http://docs.platformio.org/page/projectconf/section_env_general.html#platform")},"More details..."))}),qt.createElement(ou,Ou({},this.props,{actions:["reveal","uninstall"]})),this.props.items&&0===this.props.items.length&&qt.createElement("div",{className:"text-center"},qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,qt.createElement(ut.default,{icon:"download",type:"primary",onClick:()=>this.props.showEmbeddedPlatforms()},"Install Embedded Platform")),qt.createElement("li",null,"or"),qt.createElement("li",null,qt.createElement(ut.default,{icon:"download",type:"primary",onClick:()=>this.props.showDesktopPlatforms()},"Install Desktop Platform")))))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(wu,"propTypes",{items:ha().arrayOf(ha().object.isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,loadInstalledPlatforms:ha().func.isRequired,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,uninstallPlatform:ha().func.isRequired,osOpenUrl:ha().func.isRequired,osRevealFile:ha().func.isRequired,showEmbeddedPlatforms:ha().func.isRequired,showDesktopPlatforms:ha().func.isRequired});const ju=(0,fa.$j)((function(e,t){return{items:Oi(e),filterValue:ai(e),showPlatform:e=>tt(t.history,"/platforms/installed/show",{name:e}),showFramework:e=>tt(t.history,"/platforms/frameworks/show",{name:e}),showEmbeddedPlatforms:()=>tt(t.history,"/platforms/embedded"),showDesktopPlatforms:()=>tt(t.history,"/platforms/desktop")}}),(function(e){return(0,c.DE)(Object.assign({},o,{osOpenUrl:ue,osRevealFile:de,setFilter:t=>e(T(ei,t))}),e)}))(wu);function Pu(){return Pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pu.apply(this,arguments)}class ku extends qt.Component{constructor(){super(...arguments),this.props.loadPlatformUpdates()}render(){return qt.createElement("div",{className:"page-container"},qt.createElement(ou,Pu({},this.props,{actions:["reveal","update"]})))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ku,"propTypes",{items:ha().arrayOf(ha().object.isRequired),filterValue:ha().string,setFilter:ha().func.isRequired,loadPlatformUpdates:ha().func.isRequired,showPlatform:ha().func.isRequired,showFramework:ha().func.isRequired,updatePlatform:ha().func.isRequired,osOpenUrl:ha().func.isRequired,osRevealFile:ha().func.isRequired});const Cu=(0,fa.$j)((function(e,t){return{items:wi(e),filterValue:oi(e),showPlatform:e=>tt(t.history,"/platforms/installed/show",{name:e}),showFramework:e=>tt(t.history,"/platforms/frameworks/show",{name:e})}}),(function(e){return(0,c.DE)(Object.assign({},o,{osOpenUrl:ue,osRevealFile:de,setFilter:t=>e(T(ti,t))}),e)}))(ku),Ru=[{path:"/platforms",icon:"hdd",label:"Installed",component:ju},{path:"/platforms/installed",component:ju},{path:"/platforms/embedded",icon:"build",label:"Embedded",component:vu},{path:"/platforms/desktop",icon:"desktop",label:"Desktop",component:cu},{path:"/platforms/frameworks",icon:"setting",label:"Frameworks",component:Xp},{path:"/platforms/frameworks/show",component:Hp},{path:"/platforms/updates",icon:"cloud-download-o",label:"Updates",component:Cu},{path:"/platforms/embedded/show",component:bu},{path:"/platforms/desktop/show",component:bu},{path:"/platforms/installed/show",component:bu}];class Du extends qt.Component{render(){return qt.createElement("section",{className:"platform-module"},qt.createElement(Fa,{routes:Ru}))}}r("G851");var Su=r("ZvzK");const xu=ha().shape({name:ha().string.isRequired,path:ha().string.isRequired,modified:ha().number.isRequired,boards:ha().arrayOf(ha().shape({id:ha().string.isRequired,name:ha().string.isRequired}))}),Tu=ha().shape({name:ha().string.isRequired,icon:ha().string,text:ha().string.isRequired}),Iu=ha().arrayOf(ha().shape({default:ha().any,description:ha().string,group:ha().string,max:ha().number,min:ha().number,name:ha().string.isRequired,multiple:ha().bool,scope:ha().oneOf(un).isRequired,sysenvvar:ha().string,type:ha().oneOf(ln)})),Nu=ha().shape({name:ha().string.isRequired,value:ha().any});r("tnQy");var qu=r("9Hym");function _u(e){if(null!=e)return e.split(e.includes("\n")?/\n/:/, /).map((e=>e.replace(/^\s+|\s+$/g,""))).filter(((e,t)=>e.length||t))}function Lu(e,t){return(e.find((e=>e.name===t))||{}).value}const Fu=new class{constructor(){this.factories=[]}register(e,t){this.factories.find((t=>t.matcher===e))||this.factories.push({matcher:e,factoryCallback:t})}isCustomized(e){return-1!==this.factories.findIndex((t=>t.matcher(e)))}factory(e,t,r,n,i){const s=this.factories.find((t=>t.matcher(e)));return s?s.factoryCallback(e,t,r,n,i):this.defaultFactory(e,t,r,n,i)}defaultFactory(e,t,r,n){const i=e?e.type:tn,s=!e||e.multiple,a=e?e.description:void 0;let o;switch(i){case an:o=qt.createElement(jo.default,{autoFocus:t.autoFocus},a),n.valuePropName="defaultChecked",n.trigger="onChange",r.help=void 0,void 0===n.initialValue&&(n.initialValue=t.defaultValue);break;case rn:o=qt.createElement(el.default,{autoFocus:t.autoFocus,placeholder:t.defaultValue,mode:s?"multiple":"default",tokenSeparators:[",","\n"]},e.choices.map((e=>qt.createElement(el.default.Option,{key:e,value:e},e))));break;default:o=s?qt.createElement(Ua.default.TextArea,{autoFocus:t.autoFocus,placeholder:t.defaultValue,autoSize:yn,rows:1}):qt.createElement(Ua.default,{autoFocus:t.autoFocus,placeholder:t.defaultValue,readOnly:e&&e.readonly}),i||console.warn(`Unsupported item type: "${i}" for name: "${name}"`)}return o}};function Au(){return Au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Au.apply(this,arguments)}function Uu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const zu="autocomplete",Vu="select",$u="tags";class Mu extends qt.PureComponent{constructor(...e){super(...e),Uu(this,"handleInputFocus",(()=>{this.props.onLoad&&this.load()})),Uu(this,"handleBlur",(e=>{this.props.onBlur&&this.props.onBlur(this.transformValueOut(e))})),Uu(this,"handleChange",(e=>{this.updateStateValues(e),this.props.onChange&&this.props.onChange(this.transformValueOut(e))})),Uu(this,"handleSearch",(e=>{this.props.mode===$u?(this.props.onSearch&&this.props.onSearch(e),this.debouncedOnLoad({query:e})):this.updateStateValues(e)})),Uu(this,"handleFilter",((e,t)=>this.props.remoteFilter||this.props.multiple||t.props.value.toLowerCase().includes(e.toLowerCase())||t.props.children.toLowerCase().includes(e.toLowerCase()))),Uu(this,"handleTagClose",(e=>{this.setState({values:this.state.values.filter((t=>t!==e))})})),Uu(this,"handleAddValueBtnClick",(()=>{this.setState({autocompleterVisible:!0},(()=>this.autocomplete.focus()))})),Uu(this,"handleAutocompleteRef",(e=>{this.autocomplete=e})),Uu(this,"handleKeyUp",(e=>{13===e.keyCode&&(this.state.autocompleterValue&&this.state.autocompleterValue.length&&this.handleChange([...this.state.values||[],this.state.autocompleterValue]),this.setState({autocompleterValue:"",autocompleterVisible:!1}))})),Uu(this,"handleAddValueChange",(e=>{this.setState({autocompleterValue:e})})),this.state={loading:!1,values:[],autocompleterValue:""},this.debouncedOnLoad=function(e,t){let r;const n=function(...i){n.cancel(),r=setTimeout((()=>e.apply(this,i)),t)};return n.cancel=()=>clearTimeout(r),n}(((...e)=>this.load(...e)),500)}componentDidMount(){this.updateStateValues(this.props.defaultValue)}componentWillUnmount(){this.debouncedOnLoad.cancel()}load(...e){this.setState({loading:!0}),this.props.onLoad(...e,(()=>{this.setState({loading:!1})}))}isForceSingle(){return this.props.forceSingle&&(!this.props.defaultValue||this.props.defaultValue.length<2)}getData(){const e=this.state.values;return this.props.items&&this.props.items.filter((t=>!this.props.multiple||!e.includes(t.value))).map((t=>{let r=t.name,n=t.value;const i=void 0!==t.key?t.key:t.value;return this.props.multiple&&e.length&&this.props.mode===zu&&!this.isForceSingle()&&(r=n,n=[...e,n].join("\n")),{name:r,value:n,key:i}}))||[]}transformValueIn(e){return this.isForceSingle()&&this.props.multiple&&e&&e.length&&(e=[e[0]]),this.props.mode===zu&&this.props.multiple?e&&e.length?e.join("\n"):[]:e}transformValueOut(e){return this.props.mode===zu&&this.props.multiple?e&&e.length?_u(e):[]:e}updateStateValues(e){this.setState({values:"string"==typeof e?e.split("\n"):Array.isArray(e)?e:[]})}render(){const e=this.getData();if(this.props.mode===$u)return qt.createElement("div",{className:"option-autocomplete mode-tags"},qt.createElement("div",{className:"block"},(this.state.values||[]).map((e=>qt.createElement(no.Z,{closable:!0,key:e,onClose:()=>this.handleTagClose(e)},e)))),!this.state.autocompleterVisible&&qt.createElement(ut.default,{autoFocus:this.props.autoFocus,onClick:this.handleAddValueBtnClick},this.props.addIcon&&qt.createElement(ba.default,{type:this.props.addIcon})," ",this.props.addText),this.state.autocompleterVisible&&qt.createElement(qu.Z,Au({},this.props.inputProps,{dataSource:e.map((({key:e,name:t,value:r})=>qt.createElement(qu.Z.Option,{key:e,value:r},t))),filterOption:this.handleFilter,onChange:this.handleAddValueChange,onSearch:this.handleSearch,optionLabelProp:"value",ref:this.handleAutocompleteRef,value:this.state.autocompleterValue}),qt.createElement(Ua.default,{allowClear:!0,suffix:qt.createElement(qt.Fragment,null,qt.createElement(ba.default,{type:"search"}),this.state.loading&&qt.createElement(to.default,{size:"small"})),onKeyUp:this.handleKeyUp})));const t={autoFocus:this.props.autoFocus,defaultValue:this.transformValueIn(this.props.defaultValue),loading:this.state.loading,onBlur:this.handleBlur,onFocus:this.handleInputFocus,onChange:this.handleChange,onSearch:this.handleSearch};return this.props.mode===zu?qt.createElement(qu.Z,Au({},this.props.inputProps,{dataSource:e.map((({key:e,name:t,value:r})=>qt.createElement(qu.Z.Option,{key:e,value:r},t))),filterOption:this.handleFilter,optionLabelProp:"value"},t),this.props.multiple&&!this.isForceSingle()?qt.createElement(Ua.default.TextArea,{allowClear:!0,autoSize:yn}):qt.createElement(Ua.default,{allowClear:!0,suffix:qt.createElement(ba.default,{type:"search"})})):this.props.mode===Vu?qt.createElement(el.default,Au({},this.props.inputProps,{allowClear:!0,mode:this.props.multiple?"multiple":"default"},t),e.map((({key:e,name:t,value:r})=>qt.createElement(el.default.Option,{key:e,value:r,title:r},t)))):void 0}}Uu(Mu,"defaultProps",{addIcon:"plus",addText:"Add",mode:zu}),Uu(Mu,"propTypes",{addIcon:ha().string,addPlaceholder:ha().string,addText:ha().string,autoFocus:ha().bool,defaultValue:ha().any,forceSingle:ha().bool,inputProps:ha().object,items:ha().arrayOf(ha().shape({name:ha().string.isRequired,value:ha().string.isRequired})),mode:ha().oneOf([zu,Vu,$u]),multiple:ha().bool,remoteFilter:ha().bool,onBlur:ha().func,onChange:ha().func,onLoad:ha().func,onSearch:ha().func}),Fu.register((e=>e&&"default_envs"===e.name),((e,t,r,n,i)=>qt.createElement(Mu,{inputProps:t,mode:Vu,multiple:!e||e.multiple,items:i.envs.map((e=>({name:e,value:e})))})));const Zu={onLoad:()=>Xi(!0)},Bu=(0,fa.$j)((function(e,t){const r=li(e);let n;if(r){const e=t.configSectionData||[],i=Lu(e,"platform"),s=Lu(e,"framework")||[];n=r.filter((e=>(!i||!e.platform||e.platform===i)&&(!s.length||s.some((t=>e.frameworks.includes(t)))))).map((e=>({name:`${e.name} (${e.id})`,value:e.id})))}return{items:n}}),Zu)(Mu);function Yu(){return Yu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(this,arguments)}Bu.displayName="BoardAutocomplete",Fu.register((e=>e&&e.name.endsWith("board")),((e,t)=>qt.createElement(Bu,t)));const Wu={onLoad:()=>ts(!0)},Gu=(0,fa.$j)((function(e,t){const r=ui(e);let n;if(r){const e=Lu(t.configSectionData||[],"platform");e&&!e.toLowerCase().includes("github")&&(n=r.filter((t=>!t.platforms||!t.platforms.length||t.platforms.includes(e))),n=n.map((e=>({name:`${e.title} (${e.name})`,value:e.name}))))}return{items:n}}),Wu)(Mu);function Ku(){return Ku=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(this,arguments)}function Hu(e,t){return[e,...(Lu(t.configSectionData||[],"framework")||[]).map((e=>`framework:"${e.replace(/"/g,"&quot;")}"`))].join(" ")}Gu.displayName="FrameworkAutocomplete",Fu.register((e=>e&&e.name.endsWith("framework")),((e,t)=>qt.createElement(Gu,Yu({},t,{forceSingle:!0,multiple:e&&e.multiple}))));const Ju=(0,fa.$j)((function(e,t){let r;const n=Ii(e,Hu(t.query,t));return n&&(r=n.items.map((e=>({data:e,key:e.id,name:`${e.ownername}/${e.name}`,value:`${e.ownername}/${e.name} @ ^${e.versionname}`})))),{items:r}}),(function(e,t){return{onLoad:(r,n)=>{e(Un(Hu(r.query,t),1,n))}}}))(Mu);Ju.displayName="LibDepsAutocompleteInner";class Qu extends qt.Component{constructor(...e){super(...e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleSearch",(e=>{this.setState({query:e})})),this.state={}}render(){return qt.createElement(Ju,Ku({},this.props,{query:this.state.query,onSearch:this.handleSearch}))}}Fu.register((e=>e&&"lib_deps"===e.name),((e,t,r,n)=>(n.trigger="onChange",qt.createElement(Qu,Ku({},t,{mode:$u,remoteFilter:!0,addText:"Add Library",addPlaceholder:"Search library"})))));const Xu={onLoad:()=>es(!0)},ed=(0,fa.$j)((function(e){const t=pi(e);let r;return t&&(r=t.map((e=>({name:`${e.title} (${e.name})`,value:e.name})))),{items:r}}),Xu)(Mu);ed.displayName="PlatformAutocomplete",Fu.register((e=>e&&e.name.endsWith("platform")),((e,t)=>qt.createElement(ed,t)));const td={onLoad:()=>Yt(!0)},rd=(0,fa.$j)((function(e){return{items:Kt(e)}}),td)(Mu);rd.displayName="PortAutocomplete",Fu.register((e=>e&&e.name.endsWith("_port")),((e,t)=>qt.createElement(rd,t)));class nd extends Aa.Z.Item{renderChildren(e){const{children:t}=this.props;return[this.renderLabel(e),this.renderHelp(e),this.renderWrapper(e,this.renderValidateWrapper(e,t,void 0,this.renderExtra(e)))]}}r("lMnb");var id=r("eoY8");class sd extends qt.Component{shouldComponentUpdate(e){return e.schema!==this.props.schema||e.onCreateId!==this.props.onCreateId||!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;let r=e.length;for(;r--;)if(e[r]!==t[r])return!1;return!0}(e.fields,this.props.fields)}render(){const e={},t=new Set,r=[];for(const t of this.props.schema)e[t.name]=t;return this.props.fields.forEach((n=>{const i=e[n]?e[n].group:"Custom";t.has(i)||(t.add(i),r[i]=[]),r[i].push(n)})),qt.createElement(id.Z,{className:"toc"},[...t].map((t=>qt.createElement(id.Z.Link,{className:"config-section-group",href:`#${this.props.onCreateId("group",t)}`,key:t,title:`${t} Options`},r[t].map((t=>qt.createElement(id.Z.Link,{href:`#${this.props.onCreateId("field",t)}`,key:t,title:e[t]&&e[t].displayName||t})))))))}}function ad(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(sd,"propTypes",{fields:ha().arrayOf(ha().string.isRequired).isRequired,schema:Iu.isRequired,onCreateId:ha().func.isRequired});class od extends qt.PureComponent{constructor(...e){super(...e),ad(this,"handleClick",(e=>{e.preventDefault(),e.stopPropagation(),this.props.onClick(this.getDocumentationUrl(this.props.scope,this.props.group,this.props.name))}))}getDocumentationUrl(e,t,r){const n=[e];e!==cn&&n.push(t);const i=`section_${n.join("_")}.html`,s=void 0!==r?r.replace(/[^a-z]/g,"-"):`${t.toLowerCase()}-options`;return`https://docs.platformio.org/en/latest/projectconf/${encodeURIComponent(i)}#${encodeURIComponent(s)}`}render(){return qt.createElement("span",{className:"documentation-link"},qt.createElement(pa.default,{title:`Open documentation for "${this.props.name}"`},qt.createElement("a",{onClick:this.handleClick},qt.createElement(ba.default,{type:"question-circle"}),this.props.children?" ":void 0,this.props.children?this.props.children:void 0)))}}function ld(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ld(Object(r),!0).forEach((function(t){ud(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ld(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pd(){return pd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(this,arguments)}function ud(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dd(e){return e.replace(/\./g,"@")}function md(e){return N?`%${e}%`:`$${e}`}function hd(e){return[...e].reduce(((e,[t,r])=>(e[t]=r,e)),{})}ad(od,"propTypes",{children:ha().any,name:ha().string,group:ha().string.isRequired,scope:ha().string.isRequired,onClick:ha().func.isRequired});class fd extends qt.PureComponent{constructor(...e){super(...e),ud(this,"handleCreateTocId",((e,t)=>"group"===e?this.generateGroupAnchorId(t):this.generateFieldLabelId(t))),ud(this,"handleDocumentationClick",(e=>{this.props.onDocumentationClick(e)})),ud(this,"handleRename",(e=>{let t=e.target.value;this.props.type===hn&&(t=hn+t);const r=this.props.onRename(t,this.props.id);this.setState({nameValid:r})})),ud(this,"handleRemoveOptionClick",(e=>{this.props.onOptionRemove(this.props.name,e.target.closest("a").dataset.name)})),ud(this,"handleNewOptionSelect",(e=>{this.props.onOptionAdd(this.props.name,e)})),ud(this,"handleRemoveClick",(()=>{this.props.onRemove(this.props.name,this.props.id)})),ud(this,"handleToggleMakeDefaultClick",(()=>{this.props.onDefaultToggle(this.props.name,!this.props.defaultEnv)})),ud(this,"blockSubmit",(e=>{e.preventDefault()})),this.state={nameValid:!0}}generateIndexedSchema(){const e={};for(const t of this.props.schema)e[t.name]=t;return e}generateFieldId(e){return`${dd(this.props.id)}.${dd(e)}`}generateFieldLabelId(e){return`${this.props.id}-f-${e}`}generateGroupAnchorId(e){return`${this.props.id}-g-${e}`}transformIntoFormValues(e,t){const r=this.generateIndexedSchema(),n={};for(const{name:i,value:s}of e){n[t?this.generateFieldId(i):i]=this.transformIntoFormValue(s,r[i])}return n}transformIntoFormValue(e,t){if(null==e||Fu.isCustomized(t))return e;let r;return t?(r=t.multiple&&"string"==typeof e?_u(e):e,t.type===tn&&t.multiple&&(r=r.join("\n"))):"string"==typeof e?r=_u(e).join("\n"):Array.isArray(e)?r=e.join("\n"):(r=e,console.error("Unsupported custom field type",{schema:t,rawValue:e})),r}setFormValuesFromData(e){this.props.form.setFieldsValue(this.transformIntoFormValues(e,!0))}renderEmptyMessage(e){if(0===e.length)return qt.createElement("div",{className:"text-center"},qt.createElement("br",null),qt.createElement("h1",null,"No options ",qt.createElement("br",null),qt.createElement("small",null,'Use "New Option" above to add a new one')))}renderLabel(e,t,{multiple:r}){let n=t&&t.label?t.label:e;return n=qt.createElement(qt.Fragment,null,n),r&&(n=qt.createElement(qt.Fragment,null,n," ",qt.createElement(pa.default,{title:"Option accepts multiple arguments separated by new line"},qt.createElement(no.Z,{className:"multiline",size:"small"},"ML")))),t&&t.sysenvvar&&(n=qt.createElement(qt.Fragment,null,n," ",qt.createElement(pa.default,{title:qt.createElement(qt.Fragment,null,"Option can be configured by a global"," ",qt.createElement("code",null,md(t.sysenvvar))," environment variable")},qt.createElement(no.Z,{className:"sysenvvar"},"ENV")))),n=qt.createElement(qt.Fragment,null,n,qt.createElement("span",{className:"option-actions"},t&&qt.createElement(od,{group:t.group,name:e,scope:t.scope,onClick:this.handleDocumentationClick},"Docs"),qt.createElement(pa.default,{title:"Remove Option"},qt.createElement("a",{className:"remove-option-btn","data-name":e,onClick:this.handleRemoveOptionClick},qt.createElement(ba.default,{type:"delete"})," Delete")))),n}renderFormItem(e,t,r){const n=t[e],i=!n||n.multiple,s=n?n.description:void 0,a=n?this.transformIntoFormValue(n.default,n):void 0,o=this.generateFieldId(e),l=this.props.autoFocus===e,c={trigger:"onBlur",validateTrigger:!1,valuePropName:"defaultValue",initialValue:r},p={className:"",help:s,key:e,label:this.renderLabel(e,n,{multiple:i}),labelCol:{id:this.generateFieldLabelId(e)}},u={autoFocus:l,defaultValue:a,configSectionData:this.props.initialValues},d=Fu.factory(n,u,p,c,this.props.project),m=this.props.form.getFieldDecorator(o,c)(d);return qt.createElement(nd,p,m)}getNewOptionsData(e){const t=new Set(this.props.initialValues.map((e=>e.name))),r=new Map;return this.props.schema.forEach((n=>{e&&n.group!==e||t.has(n.name)||(r.has(n.group)||r.set(n.group,[]),r.get(n.group).push(n))})),r}renderNewOption(){const e=this.getNewOptionsData();return qt.createElement(el.default,{className:"select-add-new-option",disabled:!this.state.nameValid,dropdownClassName:"dropdown-add-new-option",showSearch:!0,style:{width:"100%"},placeholder:"Click to start searching available options",filterOption:(e,t)=>t.key.toLowerCase().includes(e.toLowerCase()),onSelect:this.handleNewOptionSelect,value:void 0},[...e].map((([e,t])=>qt.createElement(el.default.OptGroup,{key:e,label:`${e.substr(0,1).toUpperCase()}${e.substr(1)} Options`},t.map((e=>{const t=[];return e.description&&t.push(e.description),null!=e.default&&t.push(`Default is "${this.transformIntoFormValue(e.default,e)}"`),qt.createElement(el.default.Option,{key:e.name,value:e.name},e.name,0!==t.length&&qt.createElement("div",{className:"option-description"},t.join(". ")))}))))))}renderSectionActions(){return qt.createElement("span",{className:"pull-right inline-buttons"},this.props.type===hn&&qt.createElement(pa.default,{title:"Default configuration for building, uploading, debugging, etc"},qt.createElement(ut.default,{disabled:!this.state.nameValid,icon:"environment",size:"small",onClick:this.handleToggleMakeDefaultClick},this.props.defaultEnv?"Remove From Default":"Make Default")),qt.createElement(Wc.Z,{title:"Are you sure?",okText:"Yes",okType:"danger",cancelText:"No",onConfirm:this.handleRemoveClick},qt.createElement(ut.default,{icon:"delete",size:"small"},"Delete")))}renderSectionName(){const e={labelCol:{xs:24,sm:5,md:4,lg:3},wrapperCol:{xs:24,sm:19,md:20,lg:21}};return qt.createElement(qt.Fragment,null,qt.createElement("h2",null,this.props.title,this.renderSectionActions()),qt.createElement(Aa.Z,{className:"config-section-configuration",layout:"horizontal",labelAlign:"left",onSubmit:this.blockSubmit},this.props.type!==dn&&this.props.type!==mn&&qt.createElement(Aa.Z.Item,pd({key:"__section",label:"Name"},e,{validateStatus:this.state.nameValid?"success":"error"}),qt.createElement(Ua.default,{addonBefore:this.props.type===hn?hn:void 0,defaultValue:this.props.name.replace(hn,""),onChange:this.handleRename})),this.props.type!==fn&&qt.createElement(Aa.Z.Item,pd({key:"add_option",label:"New Option"},e),this.renderNewOption())))}renderGroup(e,t,r,n){return qt.createElement("div",{key:e,className:"config-section-group"},0!==e.length&&qt.createElement("h2",{id:this.generateGroupAnchorId(e)},e," Options"),t.map((({name:e})=>this.renderFormItem(e,r,n[e]))))}render(){const e=this.generateIndexedSchema(),t=this.props.initialValues.map((({name:e})=>e)),r=new Set,n=[];t.forEach((t=>{const i=e[t]?e[t].group:"Custom";r.has(i)||(r.add(i),n[i]=[]),n[i].push({name:t})}));const i=this.transformIntoFormValues(this.props.initialValues),s=this.props.showToc?{xs:24,xm:15,md:18}:{span:24};return qt.createElement(Ya.default,{gutter:0},this.props.showToc&&qt.createElement(Ga.default,{key:"toc",xs:24,sm:9,md:6},qt.createElement(sd,{fields:t,schema:this.props.schema,onCreateId:this.handleCreateTocId})),qt.createElement(Ga.default,pd({key:"main"},s),this.renderSectionName(),qt.createElement(Aa.Z,{layout:"vertical",className:"config-form"},this.renderEmptyMessage(t),0!==t.length&&[...r].map((t=>this.renderGroup(t,n[t],e,i))))))}}ud(fd,"propTypes",{autoFocus:ha().string,defaultEnv:ha().bool,form:ha().object.isRequired,id:ha().string.isRequired,initialValues:ha().arrayOf(Nu),name:ha().string.isRequired,project:xu.isRequired,schema:Iu.isRequired,showToc:ha().bool,title:ha().string.isRequired,type:ha().oneOf(gn).isRequired,onChange:ha().func.isRequired,onDefaultToggle:ha().func.isRequired,onDocumentationClick:ha().func.isRequired,onRemove:ha().func.isRequired,onRename:ha().func.isRequired,onOptionAdd:ha().func.isRequired,onOptionRemove:ha().func.isRequired});const gd=Aa.Z.create({onFieldsChange(e,t){e.onChange(e.name,hd(Object.entries(t[e.id]).map((([t,r])=>{const n=t.replace(/@/g,".");let i=r.value;const s=e.schema.find((e=>e.name===n));return s&&s.multiple&&s.type===tn&&!Fu.isCustomized(s)&&(i=_u(r.value)),[n,cd(cd({},r),{},{value:i})]}))))},mapPropsToFields:e=>hd(e.initialValues.map((e=>[dd(e.name),Aa.Z.createFormField({value:e.value})])))})(fd);var yd=r("IYwU"),bd=r("kvAW"),Ed=r("oWrm");function vd(){return vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function Od(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class wd extends qt.Component{render(){return this.props.connectDragSource(this.props.connectDropTarget(this.props.children))}}Od(wd,"propTypes",{children:ha().oneOfType([ha().arrayOf(ha().node),ha().node]).isRequired,connectDragSource:ha().func.isRequired,connectDropTarget:ha().func.isRequired});const jd={drop(e,t){const r=t.getItem().index,n=e.index;r!==n&&(e.moveTabNode(r,n),t.getItem().index=n)}},Pd={beginDrag:e=>({id:e.id,index:e.index})},kd=(0,yd.DropTarget)("DND_NODE",jd,(e=>({connectDropTarget:e.dropTarget()})))((0,yd.DragSource)("DND_NODE",Pd,((e,t)=>({connectDragSource:e.dragSource(),isDragging:t.isDragging()})))(wd));class Cd extends qt.Component{constructor(...e){super(...e),Od(this,"moveTabNode",((e,t)=>{const r=[];qt.Children.forEach(this.props.children,(e=>{-1===r.indexOf(e.key)&&r.push(e.key)}));const n=r.slice(),i=n.indexOf(e),s=n.indexOf(t);n.splice(i,1),n.splice(s,0,e),this.props.onOrderChange&&this.props.onOrderChange(n,r)})),Od(this,"renderTabBar",((e,t)=>qt.createElement(t,e,(e=>qt.createElement(kd,{key:e.key,index:e.key,moveTabNode:this.moveTabNode},e)))))}render(){return qt.createElement(bd.W,{backend:Ed.PD},qt.createElement(ep.default,vd({renderTabBar:this.renderTabBar},this.props),this.props.children))}}function Rd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rd(Object(r),!0).forEach((function(t){Sd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Od(Cd,"propTypes",{children:ha().oneOfType([ha().arrayOf(ha().node),ha().node]).isRequired,onOrderChange:ha().func});class xd extends qt.PureComponent{constructor(...e){super(...e),Sd(this,"sectionIdCounter",0),Sd(this,"handleNewSectionMenuClick",(({key:e})=>{this.addSectionOfType(e)})),Sd(this,"handleNewSectionBtnClick",(()=>{this.addSectionOfType(hn)})),Sd(this,"handleSaveClick",(()=>{this.save()})),Sd(this,"handleRevertClick",(()=>{this.load()})),Sd(this,"handleOpen",(()=>{this.props.openTextDocument(rr(this.props.project.path,"platformio.ini"))})),Sd(this,"handleTabChange",(e=>{this.setState({activeTabKey:e})})),Sd(this,"handleTabOrderChange",(e=>{this.setState((t=>{const r=t.config;return{config:r.slice().sort(((t,n)=>{const i=e.indexOf(t.id),s=e.indexOf(n.id);if(-1!==i&&-1!==s)return i-s;if(-1!==i)return-1;if(-1!==s)return 1;return r.indexOf(t)-r.indexOf(n)}))}}))})),Sd(this,"handleDocumentationClick",(e=>{this.props.osOpenUrl(e,{target:"_blank"})})),Sd(this,"handleSectionRename",((e,t)=>!this.state.config.find((t=>t.section===e))&&(this.renameSection(t,e),!0))),Sd(this,"handleSectionRemove",((e,t)=>{this.removeSection(t)})),Sd(this,"handleReportIssueClick",(()=>{const e="https://github.com/platformio/platformio-home/issues/new?"+Je.stringify({title:"Edit Project Config"});this.props.osOpenUrl(e)})),Sd(this,"handleToggleTocClick",(()=>{this.setState((e=>({showToc:!e.showToc})))})),Sd(this,"handleOptionAdd",((e,t)=>{this.addSectionField(e,t),this.setState({autoFocus:{section:e,option:t}})})),Sd(this,"handleOptionRemove",((e,t)=>{this.removeSectionField(e,t)})),Sd(this,"handleSectionChange",((e,t)=>{Object.entries(t).forEach((([t,r])=>{this.updateSectionValue(e,t,r.value)}))})),Sd(this,"handleNewOptionSelect",(e=>{const t=this.getActiveSection().section;this.addSectionField(t,e),this.setState({autoFocus:{section:t,option:e}})})),Sd(this,"handleDefaultToggle",((e,t)=>{const r=e.replace(hn,""),n=t?e=>{const t=new Set(e);return t.add(r),[...t]}:e=>{const t=new Set(e);return t.delete(r),[...t]};this._updateSectionValue(dn,"default_envs",n),this.forceRerenderSection(dn)})),this.state={showToc:!1}}componentDidMount(){this.props.schema||this.props.loadConfigSchema(),this.load()}load(){this.props.loadProjectConfig(this.props.location.state.projectDir)}save(e){const t=this.state.config.map((e=>Dd(Dd({},e),{},{items:e.items.filter((t=>{const r=this.getSectionScope(this.getSectionType(e.section)),n=(r&&this.props.schema[r]||[]).find((e=>e.name===t.name));return!n||n.type!==an||t.value!==n.default}))})));this.setState({config:t,saving:!0});const r=t.map((({section:e,items:t})=>[e,t.map((({name:e,value:t})=>[e,t]))]));this.props.saveProjectConfig(this.props.location.state.projectDir,r,{force:e,mtime:this.props.mtime},(t=>{this.setState({saving:!1}),!e&&t instanceof $s&&pt.Z.confirm({autoFocusButton:"cancel",content:qt.createElement("p",null,"Press â€œOverrideâ€ to override and loose external changes;",qt.createElement("br",null),"Press â€œCancelâ€ to continue editing without saving"),okText:"Override",okType:"danger",title:"Do you want to override externally modified config?",onOk:()=>{this.save(!0)}})}))}componentDidUpdate(e){if(this.props.initialConfig&&this.props.schema&&(e.initialConfig!==this.props.initialConfig||e.schema!==this.props.schema)){const e=this.props.initialConfig.map((e=>Dd(Dd({},e),{},{id:this.generateSectionId(e)})));this.setState({config:e}),this.setState((e=>{if(void 0===e.activeTabKey||!this.getActiveSection(e))return{activeTabKey:e.config.length?e.config[0].id:void 0}}))}}getSectionType(e){return e===dn||e===mn?e:e.startsWith(hn)?hn:fn}getSectionScope(e){return e===dn?cn:e===hn||e===mn?pn:void 0}getScopeIcon(e){return xd.iconBySectionType[this.getSectionType(e)]}getActiveSection(e){if(e||(e=this.state),e.config)return e.config.find((t=>t.id===e.activeTabKey))}sectionExists(e,t){return t||(t=this.state),t.config&&-1!==t.config.findIndex((t=>t.section===e))}generateSectionId(e){return`${++this.sectionIdCounter}-${e.section}`}addSectionOfType(e,t){let r;if([dn,mn].includes(e)){if(this.sectionExists(e))return;r=e}else if(e===hn){let e=1;for(;this.sectionExists(r=`env:env${e}`);)e++}else if(e===fn){let e=1;for(;this.sectionExists(r=`custom${e}`);)e++}this.addSection(r,t),this.setActiveSection(r)}setActiveSection(e){this.setState((t=>{const r=t.config.find((t=>t.section===e));if(r)return{activeTabKey:r.id}}))}addSection(e,t){t||(t=[]);const r=this.getSectionType(e),n={section:e,items:t};n.id=this.generateSectionId(n),this.setState((e=>{let t;if(r===dn)t=[n,...e.config];else if(r===mn){let r=0;const i=e.config.findIndex((e=>e.section===dn));if(-1!==i)r=i+1;else{const t=e.config.findIndex((e=>this.getSectionType(e.section)===hn));-1!==t&&(r=t)}t=e.config.slice(),t.splice(r,0,n)}else t=[...e.config,n];return{config:t}}))}removeSection(e){this.setState((t=>{const r=t.config.findIndex((t=>t.id===e));if(-1===r)return;const n=t.config.filter((t=>t.id!==e)),i={config:n};return e===t.activeTabKey&&(r>=n.length?0!==n.length?i.activeTabKey=n[n.length-1].id:i.activeTabKey=void 0:i.activeTabKey=n[r].id),i}))}addSectionField(e,t,r){this.setState((n=>{const i=this.getSectionScope(this.getSectionType(e)),s=(i&&this.props.schema[i]||[]).find((e=>e.name===t));void 0===r&&(r=s&&s.multiple?[]:"");const a={name:t,value:r},o=n.config.find((t=>t.section===e)),l=Dd(Dd({},o),{},{items:[...o.items,a]});return{config:n.config.map((e=>e!==o?e:l))}}))}removeSectionField(e,t){this.setState((r=>{const n=r.config.find((t=>t.section===e)),i=Dd(Dd({},n),{},{items:n.items.filter((e=>e.name!==t))});return{config:r.config.map((e=>e!==n?e:i))}}))}getSectionValue(e,t,r){const n=this.state.config.find((t=>t.section===e));if(!n)return r;const i=n.items.find((e=>e.name===t));return i&&null!=i.value?i.value:r}_updateSectionValue(e,t,r){this.state.config.find((t=>t.section===e))?this.setState((n=>{const i=n.config.find((t=>t.section===e));if(!i)return;const s=i.items.slice(),a=i.items.findIndex((e=>e.name===t));if(-1===a)s.push({name:t,value:r()});else{const e=s[a];s[a]=Dd(Dd({},e),{},{value:r(e.value)})}const o=Dd(Dd({},i),{},{items:s});return{config:n.config.map((e=>e!==i?e:o))}})):this.addSection(e,[{name:t,value:r()}])}updateSectionValue(e,t,r){this._updateSectionValue(e,t,(()=>r))}renameSection(e,t){this.setState((r=>({config:r.config.map((r=>r.id!==e?r:Dd(Dd({},r),{},{section:t})))})))}forceRerenderSection(e){this.setState((t=>{const r={};return r.config=t.config.map((n=>{if(n.section!==e)return n;const i=this.generateSectionId(n);return n.id===t.activeTabKey&&(r.activeTabKey=i),Dd(Dd({},n),{},{id:i})})),r}))}isLoaded(){return Boolean(this.props.schema&&this.props.initialConfig&&this.state.config)}renderLoader(){return qt.createElement("center",null,qt.createElement(to.default,{size:"large",tip:"Loadingâ€¦"}))}renderFormActions(){return qt.createElement("div",{className:"form-actions-block"},qt.createElement(ut.default.Group,null,qt.createElement(pa.default,{placement:"bottom",title:(this.state.showToc?"Hide":"Show")+" Table of Contents"},qt.createElement(ut.default,{icon:this.state.showToc?"menu-fold":"menu-unfold",onClick:this.handleToggleTocClick})),qt.createElement(pa.default,{placement:"bottom",title:"Cancel current changes and revert configuration to the initial state"},qt.createElement(ut.default,{icon:"undo",onClick:this.handleRevertClick})),qt.createElement(pa.default,{placement:"bottom",title:"Open configuration file in a text editor"},qt.createElement(ut.default,{icon:"edit",onClick:this.handleOpen}))),this.renderNewSectionBtn(),qt.createElement(ut.default.Group,null,qt.createElement(ut.default,{disabled:!this.isLoaded(),icon:"save",loading:this.state.saving,type:"primary",onClick:this.handleSaveClick},"Save")))}renderNewSectionBtn(){const e=qt.createElement(Ta.default,{onClick:this.handleNewSectionMenuClick},!this.sectionExists(mn)&&qt.createElement(Ta.default.Item,{key:mn,title:"Common configuration for all environments. Saved as [env] section in the `platformio.ini` file"},"Common Configuration"),!this.sectionExists(dn)&&qt.createElement(Ta.default.Item,{key:dn,title:"Saved as [platformio] section in the platformio.ini file"},"PlatformIO Settings"));return e.props.children.filter((e=>!!e)).length?qt.createElement(Su.default.Button,{className:"add-section-btn",disabled:!this.isLoaded(),overlay:e,onClick:this.handleNewSectionBtnClick},qt.createElement(ba.default,{type:"plus"})," Configuration"):qt.createElement(ut.default,{className:"add-section-btn",disabled:!this.isLoaded(),onClick:this.handleNewSectionBtnClick},qt.createElement(ba.default,{type:"plus"})," Configuration")}renderConfigSection(e,t){const r=t.section,n=this.getSectionType(r);let i=r.replace(hn,""),s="Configuration";n===mn?s=i="Common Configuration":n===dn?s=i="PIO Configuration":n===hn&&(s="Working Configuration");const a={autoFocus:this.state.autoFocus&&this.state.autoFocus.section===r?this.state.autoFocus.option:void 0,id:e,name:r,initialValues:t.items,project:this.props.project,defaultEnv:n===hn&&this.getSectionValue(dn,"default_envs",[]).includes(r.replace(hn,"")),onRemove:this.handleSectionRemove,onRename:this.handleSectionRename,schema:this.props.schema[this.getSectionScope(n)]||[],showToc:this.state.showToc,title:s,type:n,onChange:this.handleSectionChange,onDefaultToggle:this.handleDefaultToggle,onDocumentationClick:this.handleDocumentationClick,onOptionAdd:this.handleOptionAdd,onOptionRemove:this.handleOptionRemove,onTocToggle:this.handleTocToggle},o=[`section-${n}-icon`];return a.defaultEnv&&o.push("default-env-icon"),qt.createElement(ep.default.TabPane,{key:e,size:"small",tab:qt.createElement(pa.default,{title:`Configuration [${r}]`},qt.createElement(ba.default,{className:o.join(" "),type:this.getScopeIcon(r)}),i)},qt.createElement(gd,a))}renderConfig(){return this.isLoaded()?this.state.config.length?qt.createElement(Cd,{activeKey:this.state.activeTabKey,defaultActiveKey:this.state.config.length?this.state.config[0].id:void 0,hideAdd:!0,onOrderChange:this.handleTabOrderChange,onChange:this.handleTabChange,type:"card"},this.state.config.map((e=>this.renderConfigSection(e.id,e)))):qt.createElement("ul",{className:"background-message option-like"},qt.createElement("li",null,"Please, use â€œ+ Configurationâ€ dropdown above to add new one")):this.renderLoader()}render(){return qt.createElement("div",{className:"project-config-page"},qt.createElement("h1",{className:"block clearfix"},qt.createElement("span",null,this.props.project.name),this.renderFormActions()),this.renderConfig())}}Sd(xd,"propTypes",{location:ha().object.isRequired,mtime:ha().number,project:xu.isRequired,initialConfig:ha().arrayOf(ha().shape({section:ha().string.isRequired,items:ha().arrayOf(Nu)})),schema:ha().shape({[cn]:Iu,[pn]:Iu}),loadConfigSchema:ha().func.isRequired,loadProjectConfig:ha().func.isRequired,saveProjectConfig:ha().func.isRequired,openTextDocument:ha().func.isRequired,osOpenUrl:ha().func.isRequired}),Sd(xd,"iconBySectionType",{[dn]:"appstore",[mn]:"environment",[hn]:"environment",[fn]:"user"});const Td={loadConfigSchema:As,loadProjectConfig:Us,openTextDocument:Pe,osOpenUrl:ue,saveProjectConfig:zs},Id=(0,fa.$j)((function(e,t){const{projectDir:r}=t.location.state,n=function(e){return gt(e,Xr)}(e)||{};return{project:jn(e,r),schema:Pn(e),initialConfig:n.config,mtime:n.mtime}}),Td)(xd);var Nd=r("jeMM");function qd(){return qd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function _d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ld extends qt.PureComponent{constructor(...e){super(...e),_d(this,"handleChange",(e=>{this.setState({value:e.target.value})})),_d(this,"handleSaveClick",(e=>{e.preventDefault(),e.stopPropagation(),this.stopEdit(!0)})),_d(this,"handleCancelClick",(e=>{e.preventDefault(),e.stopPropagation(),this.stopEdit()})),_d(this,"handleBeginEditClick",(e=>{e.preventDefault(),e.stopPropagation(),this.beginEdit()})),_d(this,"handleKeyDown",(e=>{27===e.keyCode?this.stopEdit():13===e.keyCode&&this.stopEdit(!0)})),_d(this,"handleUpdateRef",(e=>{this.$input=e})),this.state={editing:!1}}beginEdit(){this.setState({value:this.props.value,editing:!0},(()=>{this.$input&&this.$input.focus()}))}stopEdit(e){e&&this.state.value!==this.props.value&&(this.setState({saving:!0}),this.props.onSave(this.state.value,(()=>{this.setState({saving:!1})}))),this.setState({editing:!1})}renderEditor(){return qt.createElement("div",{className:"quick-edit",key:"1"},qt.createElement("div",{className:"input-col"},qt.createElement(Ua.default,qd({},this.props.inputProps,{onBlur:this.handleSaveClick,onChange:this.handleChange,onKeyDown:this.handleKeyDown,placeholder:this.props.placeholder,ref:this.handleUpdateRef,value:this.state.value}))),qt.createElement("span",{className:"buttons"},qt.createElement(ut.default,{type:"primary",onClick:this.handleSaveClick},qt.createElement("span",{className:"return-icon"},"âŽ"),"Save"),qt.createElement("span",{className:"delimiter"}," or "),qt.createElement("a",{onClick:this.handleCancelClick},"Cancel")))}render(){return qt.createElement("div",{className:"quick-edit-target-container"},qt.createElement("span",{onClick:this.handleBeginEditClick,style:{cursor:"text"}},this.props.value||this.props.placeholder),qt.createElement(pa.default,{title:"Inline edit description"},qt.createElement(ut.default,{className:"quick-edit-btn",icon:"edit",loading:this.state.saving,size:"small",type:"link",onClick:this.handleBeginEditClick})),qt.createElement(Nd.Z,{transitionName:"fade",transitionAppear:!0},this.state.editing?this.renderEditor():null))}}function Fd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_d(Ld,"propTypes",{inputProps:ha().object,placeholder:ha().string,value:ha().string,onSave:ha().func.isRequired});class Ad extends qt.PureComponent{constructor(...e){super(...e),Fd(this,"handleClick",(e=>{e.preventDefault(),this.props.onClick(e)}))}handleActionClick(e,t){e.preventDefault(),e.stopPropagation(),this.props.onAction&&this.props.onAction(t,this.props.data.path)}handleBoardClick(e,t){e.preventDefault(),e.stopPropagation(),this.props.onBoardClick&&this.props.onBoardClick(t)}handleSaveDescription(e,t){this.props.updateConfigDescription(this.props.data.path,e,t)}renderBoards(){const e=new Set;return qt.createElement("div",null,qt.createElement(pa.default,{title:"Boards"},qt.createElement(ba.default,{type:"calculator"}))," ",this.props.data.boards.filter((({id:t})=>!e.has(t)&&e.add(t))).map((({name:e,id:t},r)=>qt.createElement(qt.Fragment,{key:t},r?", ":"",qt.createElement("a",{onClick:t=>this.handleBoardClick(t,e)},e)))))}renderExtraActions(){if(!this.props.extraActions)return;const e=qt.createElement(Ta.default,{onClick:({key:e,domEvent:t})=>this.handleActionClick(t,e)},this.props.extraActions.map((e=>qt.createElement(Ta.default.Item,{key:e.name},e.icon&&qt.createElement(qt.Fragment,null,qt.createElement(ba.default,{type:e.icon})," "),e.text))));return qt.createElement(Su.default,{overlay:e},qt.createElement(ut.default,{size:"small",type:"link",onClick:e=>e.stopPropagation()},qt.createElement(ba.default,{type:"ellipsis",rotate:90,style:{color:"grey",fontSize:16,verticalAlign:"middle"}})))}render(){return qt.createElement(Cl.Z,{className:"list-item-card",extra:qt.createElement(qt.Fragment,null,qt.createElement("small",null,qt.createElement(pa.default,{title:`Last Modified: ${new Date(1e3*this.props.data.modified).toString()}`},qt.createElement(ba.default,{type:"clock-circle"})," ",Er().relativeTime(this.props.data.modified)))," ",this.renderExtraActions()),title:qt.createElement("a",{onClick:this.handleClick},this.props.data.name)},qt.createElement("div",{className:"block"},qt.createElement(Ld,{placeholder:"No description",value:this.props.data.description,onSave:this.handleSaveDescription.bind(this)})),qt.createElement("div",{className:"pull-right"},this.props.actions&&this.props.actions.map(((e,t)=>qt.createElement(ut.default.Group,{key:t},e.map((e=>qt.createElement(ut.default,{key:e.name,icon:e.icon,type:e.type,onClick:t=>this.handleActionClick(t,e.name)},e.text))))))),qt.createElement("div",{className:"environments-list"},qt.createElement(pa.default,{title:"Environments"},qt.createElement(ba.default,{type:"environment"}))," ",this.props.data.envs.map((e=>qt.createElement(no.Z,{key:e},e)))),this.props.data.boards.length>0&&this.renderBoards())}}function Ud(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ud(Object(r),!0).forEach((function(t){Vd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ud(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Fd(Ad,"propTypes",{data:xu,actions:ha().arrayOf(ha().arrayOf(Tu)),extraActions:ha().arrayOf(Tu),onAction:ha().func,onClick:ha().func,onBoardClick:ha().func,updateConfigDescription:ha().func.isRequired});const $d="hide",Md="reveal",Zd="configure",Bd="open";class Yd extends qt.PureComponent{constructor(...e){super(...e),Vd(this,"handleAction",((e,t)=>{switch(e){case Zd:tt(this.props.history,"/projects/config",{projectDir:t});break;case $d:this.props.hideProject(t);break;case Md:this.props.osRevealFile(t);break;case Bd:this.props.openProject(t)}})),Vd(this,"handleFilterChange",(e=>{this.setState({filterValue:e.target.value})})),Vd(this,"handleSearch",(()=>{this.props.setFilter(this.state.filterValue)})),Vd(this,"handleBoardClick",(e=>{this.props.updateInputValue(Hn,e),this.props.showBoards()})),Vd(this,"handleUpdateConfigDescription",((e,t,r)=>{this.props.updateConfigDescription(e,t,r)})),Vd(this,"handleOpenProjectClick",(()=>{this.setState({openProjectVisible:!0})})),Vd(this,"handleOpenProjectCancel",(()=>{this.setState({openProjectVisible:!1})})),Vd(this,"handleNewProjectCancel",(()=>{this.setState({newProjectVisible:!1})})),Vd(this,"handleCreateNewProjectClick",(()=>{this.setState({newProjectVisible:!0})})),this.state={newProjectVisible:!1,openProjectVisible:!1}}componentDidMount(){this.props.items||this.props.loadProjects()}getActionsConfiguration(){return[[{name:Bd,icon:"folder-open",text:"Open",type:"primary"},{name:Zd,icon:"setting",text:"Configure",type:"primary"}]]}getExtraActions(){return[{name:$d,icon:"eye-invisible",text:"Hide"},{name:Md,icon:"folder",text:"Reveal"}]}renderData(){const e=this.props.items.slice().sort(((e,t)=>t.modified-e.modified));return e.length?qt.createElement("div",null,e.map((e=>qt.createElement(Ad,{key:e.path,data:e,actions:this.getActionsConfiguration(),extraActions:this.getExtraActions(),onAction:this.handleAction,onClick:()=>this.handleAction(Zd,e.path),onBoardClick:this.handleBoardClick,updateConfigDescription:this.handleUpdateConfigDescription})))):qt.createElement("ul",{className:"background-message text-center"},qt.createElement("li",null,"No Results"))}renderModals(){return qt.createElement(qt.Fragment,null,qt.createElement(kl,{skipOpenProject:!0,visible:this.state.openProjectVisible,onCancel:this.handleOpenProjectCancel}),qt.createElement(jl,{visible:this.state.newProjectVisible,onCancel:this.handleNewProjectCancel}))}renderFormActions(){return qt.createElement("div",{className:"pull-right"},qt.createElement(ut.default.Group,null,qt.createElement(ut.default,{icon:"folder-open",type:this.props.items.length?"default":"primary",onClick:this.handleOpenProjectClick},"Add Existing"),qt.createElement(ut.default,{icon:"plus",type:this.props.items.length?"default":"primary",onClick:this.handleCreateNewProjectClick},"Create New Project")))}render(){return qt.createElement("div",{className:"project-list-page"},this.renderModals(),!this.props.items&&qt.createElement("center",null,qt.createElement(to.default,{size:"large",tip:"Loadingâ€¦"})),this.props.items&&qt.createElement("div",null,qt.createElement("h1",{className:"block clearfix"},qt.createElement("span",null,"Projects ",qt.createElement(xa.Z,{count:this.props.items.length})),this.renderFormActions()),qt.createElement("div",{className:"block"},qt.createElement(Ua.default.Search,{allowClear:!0,autoFocus:!0,defaultValue:this.props.filterValue,enterButton:!0,placeholder:"Search projects",onChange:this.handleFilterChange,onSearch:this.handleSearch,size:"large",style:{width:"100%"}})),this.renderData(),0===this.props.items.length&&qt.createElement("div",{className:"text-center"},qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,qt.createElement(ut.default,{icon:"folder-open",type:"primary",onClick:this.handleOpenProjectClick},"Add Existing")),qt.createElement("li",null,"or"),qt.createElement("li",null,qt.createElement(ut.default,{icon:"plus",type:"primary",onClick:this.handleCreateNewProjectClick},"Create New Project"))))))}}Vd(Yd,"propTypes",{filterValue:ha().string,history:ha().object.isRequired,items:ha().arrayOf(xu),loadProjects:ha().func.isRequired,hideProject:ha().func.isRequired,openProject:ha().func.isRequired,osRevealFile:ha().func.isRequired,updateInputValue:ha().func.isRequired,showBoards:ha().func.isRequired,updateConfigDescription:ha().func.isRequired,setFilter:ha().func.isRequired});const Wd=(0,fa.$j)((function(e){return{filterValue:En(e),items:wn(e)}}),(function(e,t){return zd(zd({},(0,c.DE)({loadProjects:Ns,hideProject:xs,openProject:Ts,osRevealFile:de,setFilter:t=>e(T(bn,t)),updateInputValue:x,updateConfigDescription:Vs},e)),{},{showBoards:()=>tt(t.history,"/boards")})}))(Yd),Gd=[{path:"/projects",component:Wd},{path:"/projects/config",component:Id}];class Kd extends qt.PureComponent{render(){return qt.createElement("section",{className:"page-container project-module"},qt.createElement(Fa,{routes:Gd,disableMenu:!0}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Kd,"propTypes",{});const Hd=[{path:"/",icon:"home",label:"Home",component:Nl},{path:"/account",component:qo},{path:"/projects",icon:"file-ppt",label:"Projects",component:Kd},{path:"/inspect",icon:"monitor",label:"Inspect",component:Yc},{path:"/libraries",icon:"book",label:"Libraries",component:Zp},{path:"/boards",icon:"calculator",label:"Boards",component:Ao},{path:"/platforms",icon:"appstore",label:"Platforms",component:Du},{path:"/device",icon:"usb",label:"Devices",component:Jo}];class Jd extends qt.Component{renderHeader(){const e=this.context.router;return qt.createElement("div",{className:"header-container"},qt.createElement("table",{cellPadding:"0",cellSpacing:"0",width:"100%"},qt.createElement("tbody",null,qt.createElement("tr",null,qt.createElement("td",null,qt.createElement("ul",{className:"list-inline"},qt.createElement("li",null,qt.createElement(ut.default.Group,null,qt.createElement(ut.default,{icon:"left",title:"Go Back",disabled:e.history.length<1||0===e.history.index,onClick:()=>e.history.goBack()}),qt.createElement(ut.default,{icon:"right",title:"Go Forward",disabled:e.history.length<1||e.history.index>=e.history.length-1,onClick:()=>e.history.goForward()}))),qt.createElement("li",null,qt.createElement(Sa,null)),qt.createElement("li",null,qt.createElement(_a,null)))),qt.createElement("td",{className:"account-bar text-right"},qt.createElement(ya,{router:e}))))))}render(){return qt.createElement(ca.Z,{hasSider:!0,className:"app-container"},qt.createElement(ca.Z.Sider,{width:64},qt.createElement("div",{className:"logo"},qt.createElement(pa.default,{placement:"right",title:"Reload Home"},qt.createElement("a",{href:window.location.href},qt.createElement(Ra,{width:"32px",height:"32px"})))),qt.createElement(Na,{router:this.context.router,routes:Hd,theme:"dark"})),qt.createElement(ca.Z,{className:"main-container"},qt.createElement(ca.Z.Header,null,this.renderHeader()),qt.createElement(ca.Z.Content,null,qt.createElement(ua.Z,null,Hd.slice(0).reverse().map((e=>qt.createElement(da.Z,{path:e.path,key:e.path,exact:e.exact,component:e.component}))))),qt.createElement(Ca,null)))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Jd,"contextTypes",{router:ha().object.isRequired});var Qd=r("7B0+"),Xd=r("TRVC"),em=r("i8i4");e=r.hmd(e),window.addEventListener("error",(e=>Xe(e,!0))),(0,em.render)(qt.createElement(Qd.zj,null,qt.createElement(fa.zt,{store:sa()},qt.createElement(Xd.Z,{initialEntries:[et()]},qt.createElement(Jd,null)))),document.getElementById("app")),e&&e.hot},OYSl:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const n={home:"https://www.aceinna.com/",welcome:"https://github.com/Aceinna/platform-aceinna_imu#description",linkedin:"https://www.linkedin.com/company/aceinna/",twitter:"https://twitter.com/MEMSsensortech",github:"https://github.com/aceinna",weibo:"https://weibo.com/"},i={name:"aceinna",title:"Aceinna's OpenIMU Platform",menuIgnorePatterns:[/^\/boards/,/^\/libraries\/builtin/,/^\/platforms\/(embedded|desktop|frameworks)/,/^\/device\//],ignoreQuickAccessButtons:["new-project","import-arduino-project"],filterProjectExample:e=>"Aceinna IMU"===e.platform.title,filterPlatformCard:e=>"Aceinna IMU"===e.title,companyLogoSrc:r("KKwB").Z,companyLogoHomeHeight:"150px",footerQuickLinks:[{title:"Web",url:n.home},{title:"Open Source",url:n.github},{title:"Documentation",url:"https://www.aceinna.com/support/technical-documentation.cfm"},{title:"News",url:n.twitter},{title:"Contact",url:"https://www.aceinna.com/about-aceinna/contact.cfm"}],remapCustomIcons:{calculator:"axis"},singleDevPlatform:!0,urls:n,messages:{homeQuickButtonProjectExamples:"Custom IMU Examples",Boards:"IMUs","Search board...":"Search IMU..."}}},umR1:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const n={home:"https://platformio.org",twitter:"https://twitter.com/PlatformIO_Org",facebook:"https://www.facebook.com/platformio",linkedin:"https://www.linkedin.com/company/platformio",github:"https://github.com/platformio",community:"https://community.platformio.org"},i={name:"platformio",title:"PlatformIO",companyLogoSrc:r("Ggwo").Z,showPIOVersions:!0,footerQuickLinks:[{title:"Web",url:n.home},{title:"Open Source",url:n.github},{title:"Get Started",url:"http://docs.platformio.org/page/ide/pioide.html"},{title:"Docs",url:"http://docs.platformio.org"},{title:"News",url:n.twitter},{title:"Community",url:n.community},{title:"Contact Us",url:"https://platformio.org/contact"}],urls:n,messages:{homeQuickButtonProjectExamples:"Project Examples"}}},"BN/O":()=>{},Mqsz:(e,t,r)=>{"use strict";r.r(t)},I6LC:(e,t,r)=>{"use strict";r.r(t)},"1h1p":(e,t,r)=>{"use strict";r.r(t)},SbL1:(e,t,r)=>{"use strict";r.r(t)},tDDE:(e,t,r)=>{"use strict";r.r(t)},Vm0n:(e,t,r)=>{"use strict";r.r(t)},BUwq:(e,t,r)=>{"use strict";r.r(t)},t3b5:(e,t,r)=>{"use strict";r.r(t)},"+Yii":(e,t,r)=>{"use strict";r.r(t)},f9Tb:(e,t,r)=>{"use strict";r.r(t)},v5Ti:(e,t,r)=>{"use strict";r.r(t)},U29f:(e,t,r)=>{"use strict";r.r(t)},"0oXa":(e,t,r)=>{"use strict";r.r(t)},Zu6W:(e,t,r)=>{"use strict";r.r(t)},OuoA:(e,t,r)=>{"use strict";r.r(t)},zzsB:(e,t,r)=>{"use strict";r.r(t)},"0UlX":(e,t,r)=>{"use strict";r.r(t)},rp8K:(e,t,r)=>{"use strict";r.r(t)},fAD1:(e,t,r)=>{"use strict";r.r(t)},z6co:(e,t,r)=>{"use strict";r.r(t)},cWcZ:(e,t,r)=>{"use strict";r.r(t)},n8z6:(e,t,r)=>{"use strict";r.r(t)},TTTe:(e,t,r)=>{"use strict";r.r(t)},ruVM:(e,t,r)=>{"use strict";r.r(t)},bnhw:(e,t,r)=>{"use strict";r.r(t)},"/Qfb":(e,t,r)=>{"use strict";r.r(t)},"jq3/":(e,t,r)=>{"use strict";r.r(t)},wMbK:(e,t,r)=>{"use strict";r.r(t)},n5kg:(e,t,r)=>{"use strict";r.r(t)},"8Rp+":(e,t,r)=>{"use strict";r.r(t)},Ps1J:(e,t,r)=>{"use strict";r.r(t)},fRLH:(e,t,r)=>{"use strict";r.r(t)},pufV:(e,t,r)=>{"use strict";r.r(t)},i3PN:(e,t,r)=>{"use strict";r.r(t)},IPTm:(e,t,r)=>{"use strict";r.r(t)},"/awd":(e,t,r)=>{var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id="/awd"},KKwB:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r.p+"c8c344bf412e39d6870b854aff4ff697.png"},Ggwo:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r.p+"aa26f4c586d693de89e43d53ff83eac3.png"}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=t,e=[],n.O=(t,r,i,s)=>{if(!r){var a=1/0;for(p=0;p<e.length;p++){for(var[r,i,s]=e[p],o=!0,l=0;l<r.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(o=!1,s<a&&(a=s));if(o){e.splice(p--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var p=e.length;p>0&&e[p-1][2]>s;p--)e[p]=e[p-1];e[p]=[r,i,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,s,[a,o,l]=r,c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)var p=l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[a[c]]=0;return n.O(p)},r=self.webpackChunkplatformio_home=self.webpackChunkplatformio_home||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.O(void 0,[736],(()=>n("aIWJ")));var i=n.O(void 0,[736],(()=>n("BN/O")));i=n.O(i)})();